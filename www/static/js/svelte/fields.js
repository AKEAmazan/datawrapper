!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/fields",e):(t=t||self).fields=e()}(this,function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){e.appendChild(t)}function r(t,e,n){e.insertBefore(t,n)}function i(t){t.parentNode.removeChild(t)}function a(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function o(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}function l(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}function u(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function s(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function c(){return document.createDocumentFragment()}function f(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function p(){return document.createComment("")}function v(t,e,n){t.addEventListener(e,n,!1)}function _(t,e,n){t.removeEventListener(e,n,!1)}function m(t,e,n){t.setAttribute(e,n)}function g(t){return""===t?void 0:+t}function b(t,e,n){t.style.setProperty(e,n)}function y(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function x(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function w(t){return t}function k(t,e,n,r,i,a){var o,l=n(e,r),u=l.duration||300,s=l.easing||w;if(l.css&&!N.stylesheet){var c=f("style");document.head.appendChild(c),N.stylesheet=c.sheet}return i&&(l.css&&l.delay&&(o=e.style.cssText,e.style.cssText+=l.css(0)),l.tick&&l.tick(0)),{t:i?0:1,running:!1,program:null,pending:null,run:function(t,e){var n={start:window.performance.now()+(l.delay||0),intro:t,callback:e};l.delay?this.pending=n:this.start(n),this.running||(this.running=!0,N.add(this))},start:function(n){t.fire(n.intro?"intro.start":"outro.start",{node:e}),n.a=this.t,n.b=n.intro?1:0,n.delta=n.b-n.a,n.duration=u*Math.abs(n.b-n.a),n.end=n.start+n.duration,l.css&&(l.delay&&(e.style.cssText=o),n.rule=function(t,e,n,r,i,a){for(var o="{\n",l=0;l<=1;l+=16.666/r)o+=100*l+"%{"+a(t+n*i(l))+"}\n";return o+"100% {"+a(e)+"}\n}"}(n.a,n.b,n.delta,n.duration,s,l.css),N.addRule(n.rule,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(n.rule)),e.style.animation=(e.style.animation||"").split(", ").filter(function(t){return t&&(n.delta<0||!/__svelte/.test(t))}).concat(n.name+" "+n.duration+"ms linear 1 forwards").join(", ")),this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*s(n/e.duration),l.tick&&l.tick(this.t)}},done:function(){var t=this.program;this.t=t.b,l.tick&&l.tick(this.t),l.css&&N.deleteRule(e,t.name),t.callback(),t=null,this.running=!!this.pending},abort:function(){l.tick&&l.tick(1),l.css&&N.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1}}}var N={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes "+e+" "+t,this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(e=this.stylesheet.cssRules.length;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter(function(t){return-1===t.indexOf(e)}).join(", ")}};function M(){return Object.create(null)}function C(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function S(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function z(t,e){return t!=t?e==e:t!==e}function A(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];i.__calling||(i.__calling=!0,i.call(this,e),i.__calling=!1)}}function j(t){return t?this._state[t]:this._state}function T(t,e){t._handlers=M(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function L(t,e,n){var r=e.bind(this);return n&&!1===n.init||r(this.get()[t],void 0),this.on(n&&n.defer?"update":"state",function(e){e.changed[t]&&r(e.current[t],e.previous&&e.previous[t])})}function O(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function F(t){for(;t&&t.length;)t.shift()()}function q(){this.store._remove(this)}var E={destroy:C,get:j,fire:A,observe:L,on:O,set:function(t){this._set(e({},t)),this.root._lock||(this.root._lock=!0,F(this.root._beforecreate),F(this.root._oncreate),F(this.root._aftercreate),this.root._lock=!1)},teardown:C,_recompute:t,_set:function(t){var n=this._state,r={},i=!1;for(var a in t)this._differs(t[a],n[a])&&(r[a]=i=!0);i&&(this._state=e(e({},n),t),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:S};var P={update:function(){var t=this.get(),e=t.value2,n=t.multiply_,r=t.step_,i=Math.max(0,-Math.floor(Math.log(r*n)/Math.LN10)),a=+e.toFixed(i)/n;this.set({value:a})},refresh:function(){var t=this.get(),e=t.value,n=t.multiply_,r=t.step_,i=Math.max(0,-Math.floor(Math.log(r*n)/Math.LN10)),a=+(e*n).toFixed(i);this.set({value2:a})}};function H(t){var e=this,n=t.changed,r=(t.current,t.previous);if(!this.refs.input)return setTimeout(function(){e.refresh()},0);!n.value&&r||this.refresh()}function R(t,e){var n,a,o,l,u;function s(){t.set({value2:g(n.value)})}function c(){t.set({value2:g(n.value)})}function d(e){t.update()}return{c:function(){n=f("input"),u=h("  "),this.h()},h:function(){v(n,"input",s),v(n,"change",c),v(n,"input",d),m(n,"type","range"),n.min=a=e.min_*e.multiply_,n.max=o=e.max_*e.multiply_,n.step=l=e.step_*e.multiply_,n.disabled=e.disabled,n.className="svelte-1ic9tw3"},m:function(t,i){r(n,t,i),n.value=e.value2,r(u,t,i)},p:function(t,e){n.value=e.value2,n.value=e.value2,(t.min_||t.multiply_)&&a!==(a=e.min_*e.multiply_)&&(n.min=a),(t.max_||t.multiply_)&&o!==(o=e.max_*e.multiply_)&&(n.max=o),(t.step_||t.multiply_)&&l!==(l=e.step_*e.multiply_)&&(n.step=l),t.disabled&&(n.disabled=e.disabled)},u:function(){i(n),i(u)},d:function(){_(n,"input",s),_(n,"change",c),_(n,"input",d)}}}function D(e,a){var o,l;return{c:function(){o=f("span"),l=h(a.unit_),this.h()},h:function(){o.className="unit svelte-1ic9tw3"},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){t.unit_&&(l.data=e.unit_)},u:function(){i(o)},d:t}}function I(t){T(this,t),this.refs={},this._state=e({value2:null,unit:"",multiply:1,width:"40px",min:0,max:100,disabled:!1,step:1},t.data),this._recompute({step:1,min:1,max:1,unit:1,slider:1,multiply:1},this._state),this._handlers.update=[H];var n=this;t.root||(this._oncreate=[]),this._fragment=function(t,e){var n,a,o,l,u,s,c=!1,d=e.slider_&&R(t,e);function y(){c=!0,t.set({value2:g(n.value)}),c=!1}function x(e){t.update()}var w=e.unit_&&D(0,e);return{c:function(){d&&d.c(),n=f("input"),u=h("\n"),w&&w.c(),s=p(),this.h()},h:function(){v(n,"input",y),v(n,"input",x),m(n,"type","number"),n.min=a=e.min_*e.multiply_,n.disabled=e.disabled,n.max=o=e.max_*e.multiply_,n.step=l=e.step_*e.multiply_,b(n,"width",e.width+(e.slider_?"margin-left:10px":"")),n.className="svelte-1ic9tw3"},m:function(i,a){d&&d.m(i,a),r(n,i,a),t.refs.input=n,n.value=e.value2,r(u,i,a),w&&w.m(i,a),r(s,i,a)},p:function(e,r){r.slider_?d?d.p(e,r):((d=R(t,r)).c(),d.m(n.parentNode,n)):d&&(d.u(),d.d(),d=null),c||(n.value=r.value2),(e.min_||e.multiply_)&&a!==(a=r.min_*r.multiply_)&&(n.min=a),e.disabled&&(n.disabled=r.disabled),(e.max_||e.multiply_)&&o!==(o=r.max_*r.multiply_)&&(n.max=o),(e.step_||e.multiply_)&&l!==(l=r.step_*r.multiply_)&&(n.step=l),(e.width||e.slider_)&&b(n,"width",r.width+(r.slider_?"margin-left:10px":"")),r.unit_?w?w.p(e,r):((w=D(0,r)).c(),w.m(s.parentNode,s)):w&&(w.u(),w.d(),w=null)},u:function(){d&&d.u(),i(n),i(u),w&&w.u(),i(s)},d:function(){d&&d.d(),_(n,"input",y),_(n,"input",x),t.refs.input===n&&(t.refs.input=null),w&&w.d()}}}(this,this._state),this.root._oncreate.push(function(){n.fire("update",{changed:{step:1,min:1,max:1,unit:1,slider:1,multiply:1,slider_:1,min_:1,multiply_:1,max_:1,step_:1,disabled:1,value2:1,width:1,unit_:1},current:n._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),F(this._oncreate))}e(I.prototype,E),e(I.prototype,P),I.prototype._recompute=function(t,e){t.step&&this._differs(e.step_,e.step_=e.step||1)&&(t.step_=!0),t.min&&this._differs(e.min_,e.min_=function(t){var e=t.min;return void 0!==e?e:0}(e))&&(t.min_=!0),t.max&&this._differs(e.max_,e.max_=function(t){var e=t.max;return void 0!==e?e:100}(e))&&(t.max_=!0),t.unit&&this._differs(e.unit_,e.unit_=function(t){var e=t.unit;return void 0!==e?e:""}(e))&&(t.unit_=!0),t.slider&&this._differs(e.slider_,e.slider_=function(t){var e=t.slider;return void 0===e||e}(e))&&(t.slider_=!0),t.multiply&&this._differs(e.multiply_,e.multiply_=function(t){return t.multiply||1}(e))&&(t.multiply_=!0)};function $(e,a){var o,l,s=e._slotted.content;return{c:function(){o=f("div"),s||((l=f("div")).textContent="Dropdown content"),this.h()},h:function(){s||(l.className="base-dropdown-inner svelte-ne6xrp"),b(o,"width",a.width),o.className="dropdown-menu base-dropdown-content svelte-ne6xrp"},m:function(t,e){r(o,t,e),n(s||l,o)},p:function(t,e){t.width&&b(o,"width",e.width)},u:function(){i(o),s&&u(o,s)},d:t}}function B(t){T(this,t),this.refs={},this._state=e({visible:!1,disabled:!1,width:"auto"},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=function(t,e){var a,o,l,s,c,d,p=t._slotted.button;function m(e){t.windowClick(e)}function g(e){t.toggle(e)}window.addEventListener("click",m);var y=e.visible&&$(t,e);return{c:function(){a=f("div"),o=f("a"),p||(l=f("button"),s=f("i")),d=h("\n    "),y&&y.c(),this.h()},h:function(){p||(s.className=c="fa fa-chevron-"+(e.visible?"up":"down")+" svelte-ne6xrp",l.className="btn btn-small"),v(o,"click",g),o.href="#dropdown-btn",o.className="base-drop-btn svelte-ne6xrp",b(a,"position","relative"),b(a,"display","inline-block")},m:function(e,i){r(a,e,i),n(o,a),p?n(p,o):(n(l,o),n(s,l)),t.refs.button=o,n(d,a),y&&y.m(a,null)},p:function(e,n){p||e.visible&&c!==(c="fa fa-chevron-"+(n.visible?"up":"down")+" svelte-ne6xrp")&&(s.className=c),n.visible?y?y.p(e,n):((y=$(t,n)).c(),y.m(a,null)):y&&(y.u(),y.d(),y=null)},u:function(){i(a),p&&u(o,p),y&&y.u()},d:function(){window.removeEventListener("click",m),_(o,"click",g),t.refs.button===o&&(t.refs.button=null),y&&y.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(B.prototype,E),e(B.prototype,{toggle:function(t){t.preventDefault();var e=this.get(),n=e.visible;e.disabled||this.set({visible:!n})},windowClick:function(t){!t.target||this.refs&&this.refs.button&&(t.target===this.refs.button||this.refs.button.contains(t.target))||t.target.classList.contains("hex")||this.set({visible:!1})}});function Y(t){T(this,t),this._state=e({value:!1,indeterminate:!1,notoggle:!1,disabled:!1},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=function(t,e){var a,o,l=t._slotted.default;function s(e){t.toggle()}return{c:function(){a=f("button"),l||(o=h("x")),this.h()},h:function(){v(a,"click",s),m(a,"class:indeterminate",!0),m(a,"class:btn-toggled","value && !indeterminate"),a.className="btn btn-s svelte-6n3kq9",a.disabled=e.disabled},m:function(t,e){r(a,t,e),n(l||o,a)},p:function(t,e){t.disabled&&(a.disabled=e.disabled)},u:function(){i(a),l&&u(a,l)},d:function(){_(a,"click",s)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function K(t){var e=t-1;return e*e*e+1}function G(t,e){var n=e.delay;void 0===n&&(n=0);var r=e.duration;void 0===r&&(r=400);var i=e.easing;void 0===i&&(i=K);var a=getComputedStyle(t),o=+a.opacity,l=parseFloat(a.height),u=parseFloat(a.paddingTop),s=parseFloat(a.paddingBottom),c=parseFloat(a.marginTop),f=parseFloat(a.marginBottom),d=parseFloat(a.borderTopWidth),h=parseFloat(a.borderBottomWidth);return{delay:n,duration:r,easing:i,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*o+";height: "+t*l+"px;padding-top: "+t*u+"px;padding-bottom: "+t*s+"px;margin-top: "+t*c+"px;margin-bottom: "+t*f+"px;border-top-width: "+t*d+"px;border-bottom-width: "+t*h+"px;"}}}function W(e,a){var o,l,u,s,c;return{c:function(){o=f("div"),l=f("div"),this.h()},h:function(){l.className="disabled-msg svelte-v385kn"},m:function(t,e){r(o,t,e),n(l,o),l.innerHTML=a.disabled_msg},p:function(t,e){(c||t.disabled_msg)&&(l.innerHTML=e.disabled_msg)},i:function(t,n){s||(s=!0,c=!1,e.root._aftercreate.push(function(){u||(u=k(e,o,G,{},!0)),u.run(!0,function(){e.fire("intro.end",{node:o})})}),this.m(t,n))},o:function(t){if(!c){c=!0,s=!1;var n=1;u.run(!1,function(){e.fire("outro.end",{node:o}),0==--n&&t(),u=null})}},u:function(){l.innerHTML="",i(o)},d:t}}e(Y.prototype,E),e(Y.prototype,{toggle:function(){this.fire("select");var t=this.get(),e=t.value;t.notoggle||this.set({value:!e,indeterminate:!1})}}),e(function(t){T(this,t),this._state=e({value:!1,disabled:!1,faded:!1,indeterminate:!1,disabled_msg:""},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var a,o,l,u,s,c,d,p;function g(){t.set({value:l.checked,indeterminate:l.indeterminate})}var b=e.disabled&&e.disabled_msg&&W(t,e);return{c:function(){a=f("div"),o=f("label"),l=f("input"),u=f("span"),s=h("\n         "),c=h(e.label),p=h("\n    "),b&&b.c(),this.h()},h:function(){v(l,"change",g),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(g),m(l,"type","checkbox"),l.disabled=e.disabled,l.className="svelte-v385kn",u.className="css-ui svelte-v385kn",o.className=d="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-v385kn",a.className="control-group vis-option-group vis-option-type-checkbox"},m:function(t,i){r(a,t,i),n(o,a),n(l,o),l.checked=e.value,l.indeterminate=e.indeterminate,n(u,o),n(s,o),n(c,o),n(p,a),b&&b.i(a,null)},p:function(e,n){l.checked=n.value,l.indeterminate=n.indeterminate,e.disabled&&(l.disabled=n.disabled),e.label&&(c.data=n.label),(e.disabled||e.faded)&&d!==(d="checkbox "+(n.disabled?"disabled":"")+" "+(n.faded?"faded":"")+" svelte-v385kn")&&(o.className=d),n.disabled&&n.disabled_msg?(b?b.p(e,n):(b=W(t,n))&&b.c(),b.i(a,null)):b&&b.o(function(){b.u(),b.d(),b=null})},u:function(){i(a),b&&b.u()},d:function(){_(l,"change",g),b&&b.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),F(this._beforecreate),F(this._aftercreate))}.prototype,E);var Q="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function U(t,e){return t(e={exports:{}},e.exports),e.exports}var J=U(function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];e["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return e[Object.prototype.toString.call(t)]||"object"},o=Math.PI,l={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==a(t[e])?t[e].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},u={format:{},autodetect:[]},s=l.last,c=l.clip_rgb,f=l.type,d=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=s(e),i=!1;if(!r){i=!0,u.sorted||(u.autodetect=u.autodetect.sort(function(t,e){return e.p-t.p}),u.sorted=!0);for(var a=0,o=u.autodetect;a<o.length;a+=1){var l=o[a];if(r=l.test.apply(l,e))break}}if(!u.format[r])throw new Error("unknown format: "+e);var d=u.format[r].apply(null,i?e:e.slice(0,-1));this._rgb=c(d),3===this._rgb.length&&this._rgb.push(1)};d.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var h=d,p=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=h,p.version="2.0.3";var v=p,_=l.unpack,m=Math.max,g=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=_(e,"rgb"),i=r[0],a=r[1],o=r[2],l=1-m(i/=255,m(a/=255,o/=255)),u=l<1?1/(1-l):0,s=(1-i-l)*u,c=(1-a-l)*u,f=(1-o-l)*u;return[s,c,f,l]},b=l.unpack,y=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=b(e,"cmyk"))[0],i=e[1],a=e[2],o=e[3],l=e.length>4?e[4]:1;return 1===o?[0,0,0,l]:[r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a>=1?0:255*(1-a)*(1-o),l]},x=l.unpack,w=l.type;h.prototype.cmyk=function(){return g(this._rgb)},v.cmyk=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["cmyk"])))},u.format.cmyk=y,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var k=l.unpack,N=l.last,M=function(t){return Math.round(100*t)/100},C=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=k(e,"hsla"),i=N(e)||"lsa";return r[0]=M(r[0]||0),r[1]=M(100*r[1])+"%",r[2]=M(100*r[2])+"%","hsla"===i||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,i="hsla"):r.length=3,i+"("+r.join(",")+")"},S=l.unpack,z=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=S(e,"rgba"))[0],i=e[1],a=e[2];r/=255,i/=255,a/=255;var o,l,u=Math.min(r,i,a),s=Math.max(r,i,a),c=(s+u)/2;return s===u?(o=0,l=Number.NaN):o=c<.5?(s-u)/(s+u):(s-u)/(2-s-u),r==s?l=(i-a)/(s-u):i==s?l=2+(a-r)/(s-u):a==s&&(l=4+(r-i)/(s-u)),(l*=60)<0&&(l+=360),e.length>3&&void 0!==e[3]?[l,o,c,e[3]]:[l,o,c]},A=l.unpack,j=l.last,T=Math.round,L=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=A(e,"rgba"),i=j(e)||"rgb";return"hsl"==i.substr(0,3)?C(z(r),i):(r[0]=T(r[0]),r[1]=T(r[1]),r[2]=T(r[2]),("rgba"===i||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,i="rgba"),i+"("+r.slice(0,"rgb"===i?3:4).join(",")+")")},O=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,F=/^#?([A-Fa-f0-9]{8})$/,q=function(t){if(t.match(O)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,i=255&e;return[n,r,i,1]}if(t.match(F)){9===t.length&&(t=t.substr(1));var a=parseInt(t,16),o=a>>24&255,l=a>>16&255,u=a>>8&255,s=Math.round((255&a)/255*100)/100;return[o,l,u,s]}throw new Error("unknown hex color: "+t)},E=l.unpack,P=Math.round,H=function(){for(var t,e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];var i,a,o,l=(n=E(n,"hsl"))[0],u=n[1],s=n[2];if(0===u)i=a=o=255*s;else{var c=[0,0,0],f=[0,0,0],d=s<.5?s*(1+u):s+u-s*u,h=2*s-d,p=l/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var v=0;v<3;v++)c[v]<0&&(c[v]+=1),c[v]>1&&(c[v]-=1),6*c[v]<1?f[v]=h+6*(d-h)*c[v]:2*c[v]<1?f[v]=d:3*c[v]<2?f[v]=h+(d-h)*(2/3-c[v])*6:f[v]=h;t=[P(255*f[0]),P(255*f[1]),P(255*f[2])],i=t[0],a=t[1],o=t[2]}return n.length>3?[i,a,o,n[3]]:[i,a,o,1]},R={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,I=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,$=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,B=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Y=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,K=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=Math.round,W=function(t){if(t=t.toLowerCase().trim(),R[t])return q(R[t]);var e;if(e=t.match(D)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(I)){for(var i=e.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(e=t.match($)){for(var o=e.slice(1,4),l=0;l<3;l++)o[l]=G(2.55*o[l]);return o[3]=1,o}if(e=t.match(B)){for(var u=e.slice(1,5),s=0;s<3;s++)u[s]=G(2.55*u[s]);return u[3]=+u[3],u}if(e=t.match(Y)){var c=e.slice(1,4);c[1]*=.01,c[2]*=.01;var f=H(c);return f[3]=1,f}if(e=t.match(K)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var h=H(d);return h[3]=+e[4],h}};W.test=function(t){return D.test(t)||I.test(t)||$.test(t)||B.test(t)||Y.test(t)||K.test(t)};var Q=W,U=l.type;h.prototype.css=function(t){return L(this._rgb,t)},v.css=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["css"])))},u.format.css=Q,u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=e[r+1];if(!n.length&&"string"===U(t)&&Q.test(t))return"css"}});var J=l.unpack;u.format.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=J(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},v.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["gl"])))},h.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var X=l.unpack,V=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=X(e,"rgb"),a=i[0],o=i[1],l=i[2],u=Math.min(a,o,l),s=Math.max(a,o,l),c=s-u,f=100*c/255,d=u/(255-c)*100;return 0===c?r=Number.NaN:(a===s&&(r=(o-l)/c),o===s&&(r=2+(l-a)/c),l===s&&(r=4+(a-o)/c),(r*=60)<0&&(r+=360)),[r,f,d]},Z=l.unpack,tt=Math.floor,et=function(){for(var t,e,n,r,i,a,o=arguments,l=[],u=arguments.length;u--;)l[u]=o[u];var s,c,f,d=(l=Z(l,"hcg"))[0],h=l[1],p=l[2];p*=255;var v=255*h;if(0===h)s=c=f=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var _=tt(d/=60),m=d-_,g=p*(1-h),b=g+v*(1-m),y=g+v*m,x=g+v;switch(_){case 0:s=(t=[x,y,g])[0],c=t[1],f=t[2];break;case 1:s=(e=[b,x,g])[0],c=e[1],f=e[2];break;case 2:s=(n=[g,x,y])[0],c=n[1],f=n[2];break;case 3:s=(r=[g,b,x])[0],c=r[1],f=r[2];break;case 4:s=(i=[y,g,x])[0],c=i[1],f=i[2];break;case 5:s=(a=[x,g,b])[0],c=a[1],f=a[2]}}return[s,c,f,l.length>3?l[3]:1]},nt=l.unpack,rt=l.type;h.prototype.hcg=function(){return V(this._rgb)},v.hcg=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hcg"])))},u.format.hcg=et,u.autodetect.push({p:1,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=nt(e,"hcg"),"array"===rt(e)&&3===e.length)return"hcg"}});var it=l.unpack,at=l.last,ot=Math.round,lt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=it(e,"rgba"),i=r[0],a=r[1],o=r[2],l=r[3],u=at(e)||"auto";void 0===l&&(l=1),"auto"===u&&(u=l<1?"rgba":"rgb"),i=ot(i),a=ot(a),o=ot(o);var s=i<<16|a<<8|o,c="000000"+s.toString(16);c=c.substr(c.length-6);var f="0"+ot(255*l).toString(16);switch(f=f.substr(f.length-2),u.toLowerCase()){case"rgba":return"#"+c+f;case"argb":return"#"+f+c;default:return"#"+c}},ut=l.type;h.prototype.hex=function(t){return lt(this._rgb,t)},v.hex=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hex"])))},u.format.hex=q,u.autodetect.push({p:4,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=e[r+1];if(!n.length&&"string"===ut(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var st=l.unpack,ct=l.TWOPI,ft=Math.min,dt=Math.sqrt,ht=Math.acos,pt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=st(e,"rgb"),a=i[0],o=i[1],l=i[2],u=ft(a/=255,o/=255,l/=255),s=(a+o+l)/3,c=s>0?1-u/s:0;return 0===c?r=NaN:(r=(a-o+(a-l))/2,r/=dt((a-o)*(a-o)+(a-l)*(o-l)),r=ht(r),l>o&&(r=ct-r),r/=ct),[360*r,c,s]},vt=l.unpack,_t=l.limit,mt=l.TWOPI,gt=l.PITHIRD,bt=Math.cos,yt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=vt(e,"hsi"))[0],l=e[1],u=e[2];return isNaN(o)&&(o=0),isNaN(l)&&(l=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(a=(1-l)/3,r=(1+l*bt(mt*o)/bt(gt-mt*o))/3,i=1-(a+r)):o<2/3?(r=(1-l)/3,i=(1+l*bt(mt*(o-=1/3))/bt(gt-mt*o))/3,a=1-(r+i)):(i=(1-l)/3,a=(1+l*bt(mt*(o-=2/3))/bt(gt-mt*o))/3,r=1-(i+a)),r=_t(u*r*3),i=_t(u*i*3),a=_t(u*a*3),[255*r,255*i,255*a,e.length>3?e[3]:1]},xt=l.unpack,wt=l.type;h.prototype.hsi=function(){return pt(this._rgb)},v.hsi=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hsi"])))},u.format.hsi=yt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=xt(e,"hsi"),"array"===wt(e)&&3===e.length)return"hsi"}});var kt=l.unpack,Nt=l.type;h.prototype.hsl=function(){return z(this._rgb)},v.hsl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hsl"])))},u.format.hsl=H,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=kt(e,"hsl"),"array"===Nt(e)&&3===e.length)return"hsl"}});var Mt=l.unpack,Ct=Math.min,St=Math.max,zt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=Mt(e,"rgb"))[0],l=e[1],u=e[2],s=Ct(o,l,u),c=St(o,l,u),f=c-s;return a=c/255,0===c?(r=Number.NaN,i=0):(i=f/c,o===c&&(r=(l-u)/f),l===c&&(r=2+(u-o)/f),u===c&&(r=4+(o-l)/f),(r*=60)<0&&(r+=360)),[r,i,a]},At=l.unpack,jt=Math.floor,Tt=function(){for(var t,e,n,r,i,a,o=arguments,l=[],u=arguments.length;u--;)l[u]=o[u];var s,c,f,d=(l=At(l,"hsv"))[0],h=l[1],p=l[2];if(p*=255,0===h)s=c=f=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var v=jt(d/=60),_=d-v,m=p*(1-h),g=p*(1-h*_),b=p*(1-h*(1-_));switch(v){case 0:s=(t=[p,b,m])[0],c=t[1],f=t[2];break;case 1:s=(e=[g,p,m])[0],c=e[1],f=e[2];break;case 2:s=(n=[m,p,b])[0],c=n[1],f=n[2];break;case 3:s=(r=[m,g,p])[0],c=r[1],f=r[2];break;case 4:s=(i=[b,m,p])[0],c=i[1],f=i[2];break;case 5:s=(a=[p,m,g])[0],c=a[1],f=a[2]}}return[s,c,f,l.length>3?l[3]:1]},Lt=l.unpack,Ot=l.type;h.prototype.hsv=function(){return zt(this._rgb)},v.hsv=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hsv"])))},u.format.hsv=Tt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Lt(e,"hsv"),"array"===Ot(e)&&3===e.length)return"hsv"}});var Ft={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},qt=l.unpack,Et=Math.pow,Pt=function(t){return(t/=255)<=.04045?t/12.92:Et((t+.055)/1.055,2.4)},Ht=function(t){return t>Ft.t3?Et(t,1/3):t/Ft.t2+Ft.t0},Rt=function(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=Ht((.4124564*t+.3575761*e+.1804375*n)/Ft.Xn),i=Ht((.2126729*t+.7151522*e+.072175*n)/Ft.Yn),a=Ht((.0193339*t+.119192*e+.9503041*n)/Ft.Zn);return[r,i,a]},Dt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=qt(e,"rgb"),i=r[0],a=r[1],o=r[2],l=Rt(i,a,o),u=l[0],s=l[1],c=l[2],f=116*s-16;return[f<0?0:f,500*(u-s),200*(s-c)]},It=l.unpack,$t=Math.pow,Bt=function(t){return 255*(t<=.00304?12.92*t:1.055*$t(t,1/2.4)-.055)},Yt=function(t){return t>Ft.t1?t*t*t:Ft.t2*(t-Ft.t0)},Kt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o,l,u,s=(e=It(e,"lab"))[0],c=e[1],f=e[2];return i=(s+16)/116,r=isNaN(c)?i:i+c/500,a=isNaN(f)?i:i-f/200,i=Ft.Yn*Yt(i),r=Ft.Xn*Yt(r),a=Ft.Zn*Yt(a),o=Bt(3.2404542*r-1.5371385*i-.4985314*a),l=Bt(-.969266*r+1.8760108*i+.041556*a),u=Bt(.0556434*r-.2040259*i+1.0572252*a),[o,l,u,e.length>3?e[3]:1]},Gt=l.unpack,Wt=l.type;h.prototype.lab=function(){return Dt(this._rgb)},v.lab=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["lab"])))},u.format.lab=Kt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Gt(e,"lab"),"array"===Wt(e)&&3===e.length)return"lab"}});var Qt=l.unpack,Ut=l.RAD2DEG,Jt=Math.sqrt,Xt=Math.atan2,Vt=Math.round,Zt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Qt(e,"lab"),i=r[0],a=r[1],o=r[2],l=Jt(a*a+o*o),u=(Xt(o,a)*Ut+360)%360;return 0===Vt(1e4*l)&&(u=Number.NaN),[i,l,u]},te=l.unpack,ee=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=te(e,"rgb"),i=r[0],a=r[1],o=r[2],l=Dt(i,a,o),u=l[0],s=l[1],c=l[2];return Zt(u,s,c)},ne=l.unpack,re=l.DEG2RAD,ie=Math.sin,ae=Math.cos,oe=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ne(e,"lch"),i=r[0],a=r[1],o=r[2];return isNaN(o)&&(o=0),[i,ae(o*=re)*a,ie(o)*a]},le=l.unpack,ue=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=le(e,"lch"))[0],i=e[1],a=e[2],o=oe(r,i,a),l=o[0],u=o[1],s=o[2],c=Kt(l,u,s),f=c[0],d=c[1],h=c[2];return[f,d,h,e.length>3?e[3]:1]},se=l.unpack,ce=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=se(e,"hcl").reverse();return ue.apply(void 0,r)},fe=l.unpack,de=l.type;h.prototype.lch=function(){return ee(this._rgb)},h.prototype.hcl=function(){return ee(this._rgb).reverse()},v.lch=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["lch"])))},v.hcl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["hcl"])))},u.format.lch=ue,u.format.hcl=ce,["lch","hcl"].forEach(function(t){return u.autodetect.push({p:2,test:function(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];if(n=fe(n,t),"array"===de(n)&&3===n.length)return t}})});var he=l.type;h.prototype.name=function(){for(var t=lt(this._rgb,"rgb"),e=0,n=Object.keys(R);e<n.length;e+=1){var r=n[e];if(R[r]===t)return r.toLowerCase()}return t},u.format.named=function(t){if(t=t.toLowerCase(),R[t])return q(R[t]);throw new Error("unknown color name: "+t)},u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=e[r+1];if(!n.length&&"string"===he(t)&&R[t.toLowerCase()])return"named"}});var pe=l.unpack,ve=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=pe(e,"rgb"),i=r[0],a=r[1],o=r[2];return(i<<16)+(a<<8)+o},_e=l.type,me=function(t){if("number"==_e(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},ge=l.type;h.prototype.num=function(){return ve(this._rgb)},v.num=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["num"])))},u.format.num=me,u.autodetect.push({p:5,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(1===e.length&&"number"===ge(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var be=l.unpack,ye=l.type,xe=Math.round;h.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xe)},h.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:xe(e):e})},v.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["rgb"])))},u.format.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=be(e,"rgba");return void 0===r[3]&&(r[3]=1),r},u.autodetect.push({p:3,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=be(e,"rgba"),"array"===ye(e)&&(3===e.length||4===e.length&&"number"==ye(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var we=Math.log,ke=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*we(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*we(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*we(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*we(n),r=255),[e,n,r,1]},Ne=l.unpack,Me=Math.round,Ce=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];for(var r,i=Ne(e,"rgb"),a=i[0],o=i[2],l=1e3,u=4e4;u-l>.4;){var s=ke(r=.5*(u+l));s[2]/s[0]>=o/a?u=r:l=r}return Me(r)};h.prototype.temp=h.prototype.kelvin=h.prototype.temperature=function(){return Ce(this._rgb)},v.temp=v.kelvin=v.temperature=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(h,[null].concat(e,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=ke;var Se=l.type;h.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Se(t)?e?(this._rgb[3]=t,this):new h([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},h.prototype.clipped=function(){return this._rgb._clipped||!1},h.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ft.Kn*t,new h(e,"lab").alpha(this.alpha(),!0)},h.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},h.prototype.darker=h.prototype.darken,h.prototype.brighter=h.prototype.brighten,h.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var a=n.indexOf(r);if(a>-1)return i[a];throw new Error("unknown channel "+r+" in mode "+n)}return i};var ze=l.type,Ae=Math.pow;h.prototype.luminance=function(t){if(void 0!==t&&"number"===ze(t)){if(0===t)return new h([0,0,0,this._rgb[3]],"rgb");if(1===t)return new h([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var a=e.interpolate(i,.5,"rgb"),o=a.luminance();return Math.abs(t-o)<1e-7||!n--?a:o>t?r(e,a):r(a,i)},i=(e>t?r(new h([0,0,0]),this):r(this,new h([255,255,255]))).rgb();return new h(i.concat([this._rgb[3]]))}return je.apply(void 0,this._rgb.slice(0,3))};var je=function(t,e,n){return t=Te(t),e=Te(e),n=Te(n),.2126*t+.7152*e+.0722*n},Te=function(t){return(t/=255)<=.03928?t/12.92:Ae((t+.055)/1.055,2.4)},Le={},Oe=l.type,Fe=function(t,e,n){var r=arguments;void 0===n&&(n=.5);for(var i=[],a=arguments.length-3;a-- >0;)i[a]=r[a+3];var o=i[0]||"lrgb";if(Le[o]||i.length||(o=Object.keys(Le)[0]),!Le[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Oe(t)&&(t=new h(t)),"object"!==Oe(e)&&(e=new h(e)),Le[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};h.prototype.mix=h.prototype.interpolate=function(t,e){var n=arguments;void 0===e&&(e=.5);for(var r=[],i=arguments.length-2;i-- >0;)r[i]=n[i+2];return Fe.apply(void 0,[this,t,e].concat(r))},h.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new h([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},h.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ft.Kn*t,e[1]<0&&(e[1]=0),new h(e,"lch").alpha(this.alpha(),!0)},h.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var qe=l.type;h.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],a=r[1],o=this[i]();if(a){var l=i.indexOf(a);if(l>-1){if("string"==qe(e))switch(e.charAt(0)){case"+":case"-":o[l]+=+e;break;case"*":o[l]*=+e.substr(1);break;case"/":o[l]/=+e.substr(1);break;default:o[l]=+e}else{if("number"!==qe(e))throw new Error("unsupported value for Color.set");o[l]=e}var u=new h(o,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+a+" in mode "+i)}return o},Le.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new h(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Ee=Math.sqrt,Pe=Math.pow;Le.lrgb=function(t,e,n){var r=t._rgb,i=r[0],a=r[1],o=r[2],l=e._rgb,u=l[0],s=l[1],c=l[2];return new h(Ee(Pe(i,2)*(1-n)+Pe(u,2)*n),Ee(Pe(a,2)*(1-n)+Pe(s,2)*n),Ee(Pe(o,2)*(1-n)+Pe(c,2)*n),"rgb")},Le.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new h(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var He=function(t,e,n,r){var i,a,o,l,u,s,c,f,d,p,v,_;return"hsl"===r?(o=t.hsl(),l=e.hsl()):"hsv"===r?(o=t.hsv(),l=e.hsv()):"hcg"===r?(o=t.hcg(),l=e.hcg()):"hsi"===r?(o=t.hsi(),l=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",o=t.hcl(),l=e.hcl()),"h"===r.substr(0,1)&&(u=(i=o)[0],c=i[1],d=i[2],s=(a=l)[0],f=a[1],p=a[2]),isNaN(u)||isNaN(s)?isNaN(u)?isNaN(s)?_=Number.NaN:(_=s,1!=d&&0!=d||"hsv"==r||(v=f)):(_=u,1!=p&&0!=p||"hsv"==r||(v=c)):_=u+n*(s>u&&s-u>180?s-(u+360):s<u&&u-s>180?s+360-u:s-u),void 0===v&&(v=c+n*(f-c)),new h([_,v,d+n*(p-d)],r)},Re=function(t,e,n){return He(t,e,n,"lch")};Le.lch=Re,Le.hcl=Re,Le.num=function(t,e,n){var r=t.num(),i=e.num();return new h(r+n*(i-r),"num")},Le.hcg=function(t,e,n){return He(t,e,n,"hcg")},Le.hsi=function(t,e,n){return He(t,e,n,"hsi")},Le.hsl=function(t,e,n){return He(t,e,n,"hsl")},Le.hsv=function(t,e,n){return He(t,e,n,"hsv")};var De=l.clip_rgb,Ie=Math.pow,$e=Math.sqrt,Be=Math.PI,Ye=Math.cos,Ke=Math.sin,Ge=Math.atan2,We=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],i=0,a=t;i<a.length;i+=1){var o=a[i],l=o._rgb;r[0]+=Ie(l[0],2)*n,r[1]+=Ie(l[1],2)*n,r[2]+=Ie(l[2],2)*n,r[3]+=l[3]*n}return r[0]=$e(r[0]),r[1]=$e(r[1]),r[2]=$e(r[2]),r[3]>.9999999&&(r[3]=1),new h(De(r))},Qe=l.type,Ue=Math.pow,Je=function(t){var e="rgb",n=v("#ccc"),r=0,i=[0,1],a=[],o=[0,0],l=!1,u=[],s=!1,c=0,f=1,d=!1,h={},p=!0,_=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Qe(t)&&v.brewer&&v.brewer[t.toLowerCase()]&&(t=v.brewer[t.toLowerCase()]),"array"===Qe(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=v(t[e]);a.length=0;for(var n=0;n<t.length;n++)a.push(n/(t.length-1))}return y(),u=t},g=function(t){return t},b=function(t,r){var i,s;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)s=t;else if(l&&l.length>2){var d=function(t){if(null!=l){for(var e=l.length-1,n=0;n<e&&t>=l[n];)n++;return n-1}return 0}(t);s=d/(l.length-2)}else s=f!==c?(t-c)/(f-c):1;r||(s=g(s)),1!==_&&(s=Ue(s,_)),s=o[0]+s*(1-o[0]-o[1]),s=Math.min(1,Math.max(0,s));var m=Math.floor(1e4*s);if(p&&h[m])i=h[m];else{if("array"===Qe(u))for(var b=0;b<a.length;b++){var y=a[b];if(s<=y){i=u[b];break}if(s>=y&&b===a.length-1){i=u[b];break}if(s>y&&s<a[b+1]){s=(s-y)/(a[b+1]-y),i=v.interpolate(u[b],u[b+1],s,e);break}}else"function"===Qe(u)&&(i=u(s));p&&(h[m]=i)}return i},y=function(){return h={}};m(t);var x=function(t){var e=v(b(t));return s&&e[s]?e[s]():e};return x.classes=function(t){if(null!=t){if("array"===Qe(t))l=t,i=[t[0],t[t.length-1]];else{var e=v.analyze(i);l=0===t?[e.min,e.max]:v.limits(e,"e",t)}return x}return l},x.domain=function(t){if(!arguments.length)return i;c=t[0],f=t[t.length-1],a=[];var e=u.length;if(t.length===e&&c!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];a.push((o-c)/(f-c))}else for(var l=0;l<e;l++)a.push(l/(e-1));return i=[c,f],x},x.mode=function(t){return arguments.length?(e=t,y(),x):e},x.range=function(t,e){return m(t),x},x.out=function(t){return s=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),d=t,y(),g=d?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],a=e+(n-e)*t,o=i-a,l=0,u=1,s=20;Math.abs(o)>.01&&s-- >0;)r&&(o*=-1),o<0?(l=t,t+=.5*(u-t)):(u=t,t+=.5*(l-t)),i=b(t,!0).lab()[0],o=i-a;return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===Qe(t)&&(t=[t,t]),o=t,x):o},x.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[x(.5)];else if(e>1){var a=i[0],o=i[1]-a;r=function(t,e,n){for(var r=[],i=t<e,a=n?i?e+1:e-1:e,o=t;i?o<a:o>a;i?o++:o--)r.push(o);return r}(0,e,!1).map(function(t){return x(a+t/(e-1)*o)})}else{t=[];var s=[];if(l&&l.length>2)for(var c=1,f=l.length,d=1<=f;d?c<f:c>f;d?c++:c--)s.push(.5*(l[c-1]+l[c]));else s=i;r=s.map(function(t){return x(t)})}return v[n]&&(r=r.map(function(t){return t[n]()})),r},x.cache=function(t){return null!=t?(p=t,x):p},x.gamma=function(t){return null!=t?(_=t,x):_},x.nodata=function(t){return null!=t?(n=v(t),x):n},x},Xe=function(t){var e,n,r,i,a,o,l;if(2===(t=t.map(function(t){return new h(t)})).length)e=t.map(function(t){return t.lab()}),a=e[0],o=e[1],i=function(t){var e=[0,1,2].map(function(e){return a[e]+t*(o[e]-a[e])});return new h(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),a=n[0],o=n[1],l=n[2],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*l[e]});return new h(e,"lab")};else if(4===t.length){var u;r=t.map(function(t){return t.lab()}),a=r[0],o=r[1],l=r[2],u=r[3],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*l[e]+t*t*t*u[e]});return new h(e,"lab")}}else if(5===t.length){var s=Xe(t.slice(0,3)),c=Xe(t.slice(2,5));i=function(t){return t<.5?s(2*t):c(2*(t-.5))}}return i},Ve=function(t,e,n){if(!Ve[n])throw new Error("unknown blend mode "+n);return Ve[n](t,e)},Ze=function(t){return function(e,n){var r=v(n).rgb(),i=v(e).rgb();return v.rgb(t(r,i))}},tn=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Ve.normal=Ze(tn(function(t){return t})),Ve.multiply=Ze(tn(function(t,e){return t*e/255})),Ve.screen=Ze(tn(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),Ve.overlay=Ze(tn(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),Ve.darken=Ze(tn(function(t,e){return t>e?e:t})),Ve.lighten=Ze(tn(function(t,e){return t>e?t:e})),Ve.dodge=Ze(tn(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),Ve.burn=Ze(tn(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var en=Ve,nn=l.type,rn=l.clip_rgb,an=l.TWOPI,on=Math.pow,ln=Math.sin,un=Math.cos,sn=Math.floor,cn=Math.random,fn=Math.log,dn=Math.pow,hn=Math.floor,pn=Math.abs,vn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===a(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return _n(n,t,e)},n},_n=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==a(t)&&(t=vn(t));var r=t.min,i=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,i];var l=[];if("c"===e.substr(0,1)&&(l.push(r),l.push(i)),"e"===e.substr(0,1)){l.push(r);for(var u=1;u<n;u++)l.push(r+u/n*(i-r));l.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var s=Math.LOG10E*fn(r),c=Math.LOG10E*fn(i);l.push(r);for(var f=1;f<n;f++)l.push(dn(10,s+f/n*(c-s)));l.push(i)}else if("q"===e.substr(0,1)){l.push(r);for(var d=1;d<n;d++){var h=(o.length-1)*d/n,p=hn(h);if(p===h)l.push(o[p]);else{var v=h-p;l.push(o[p]*(1-v)+o[p+1]*v)}}l.push(i)}else if("k"===e.substr(0,1)){var _,m=o.length,g=new Array(m),b=new Array(n),y=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);y;){for(var N=0;N<n;N++)b[N]=0;for(var M=0;M<m;M++)for(var C=o[M],S=Number.MAX_VALUE,z=void 0,A=0;A<n;A++){var j=pn(w[A]-C);j<S&&(S=j,z=A),b[z]++,g[M]=z}for(var T=new Array(n),L=0;L<n;L++)T[L]=null;for(var O=0;O<m;O++)_=g[O],null===T[_]?T[_]=o[O]:T[_]+=o[O];for(var F=0;F<n;F++)T[F]*=1/b[F];y=!1;for(var q=0;q<n;q++)if(T[q]!==w[q]){y=!0;break}w=T,++x>200&&(y=!1)}for(var E={},P=0;P<n;P++)E[P]=[];for(var H=0;H<m;H++)_=g[H],E[_].push(o[H]);for(var R=[],D=0;D<n;D++)R.push(E[D][0]),R.push(E[D][E[D].length-1]);R=R.sort(function(t,e){return t-e}),l.push(R[0]);for(var I=1;I<R.length;I+=2){var $=R[I];isNaN($)||-1!==l.indexOf($)||l.push($)}}return l},mn={analyze:vn,limits:_n},gn=Math.sqrt,bn=Math.atan2,yn=Math.abs,xn=Math.cos,wn=Math.PI,kn={cool:function(){return Je([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},hot:function(){return Je(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Nn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Mn=0,Cn=Object.keys(Nn);Mn<Cn.length;Mn+=1){var Sn=Cn[Mn];Nn[Sn.toLowerCase()]=Nn[Sn]}var zn=Nn;return v.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new h(t)}),"lrgb"===e)return We(t);for(var r=t.shift(),i=r.get(e),a=[],o=0,l=0,u=0;u<i.length;u++)if(i[u]=i[u]||0,a.push(isNaN(i[u])?0:1),"h"===e.charAt(u)&&!isNaN(i[u])){var s=i[u]/180*Be;o+=Ye(s),l+=Ke(s)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<i.length;r++)if(!isNaN(n[r]))if(a[r]++,"h"===e.charAt(r)){var u=n[r]/180*Be;o+=Ye(u),l+=Ke(u)}else i[r]+=n[r]});for(var f=0;f<i.length;f++)if("h"===e.charAt(f)){for(var d=Ge(l/a[f],o/a[f])/Be*180;d<0;)d+=360;for(;d>=360;)d-=360;i[f]=d}else i[f]=i[f]/a[f];return c/=n,new h(i,e).alpha(c>.99999?1:c,!0)},v.bezier=function(t){var e=Xe(t);return e.scale=function(){return Je(e)},e},v.blend=en,v.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===nn(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var l=function(l){var u=an*((t+120)/360+e*l),s=on(i[0]+a*l,r),c=0!==o?n[0]+l*o:n,f=c*s*(1-s)/2,d=un(u),h=ln(u),p=s+f*(-.14861*d+1.78277*h),_=s+f*(-.29227*d-.90649*h),m=s+f*(1.97294*d);return v(rn([255*p,255*_,255*m,1]))};return l.start=function(e){return null==e?t:(t=e,l)},l.rotations=function(t){return null==t?e:(e=t,l)},l.gamma=function(t){return null==t?r:(r=t,l)},l.hue=function(t){return null==t?n:("array"===nn(n=t)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,l)},l.lightness=function(t){return null==t?i:("array"===nn(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),l)},l.scale=function(){return v.scale(l)},l.hue(n),l},v.mix=v.interpolate=Fe,v.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(sn(16*cn()));return new h(t,"hex")},v.scale=Je,v.analyze=mn.analyze,v.contrast=function(t,e){t=new h(t),e=new h(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},v.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new h(t),e=new h(e);for(var i=Array.from(t.lab()),a=i[0],o=i[1],l=i[2],u=Array.from(e.lab()),s=u[0],c=u[1],f=u[2],d=gn(o*o+l*l),p=gn(c*c+f*f),v=a<16?.511:.040975*a/(1+.01765*a),_=.0638*d/(1+.0131*d)+.638,m=d<1e-6?0:180*bn(l,o)/wn;m<0;)m+=360;for(;m>=360;)m-=360;var g=m>=164&&m<=345?.56+yn(.2*xn(wn*(m+168)/180)):.36+yn(.4*xn(wn*(m+35)/180)),b=d*d*d*d,y=gn(b/(b+1900)),x=_*(y*g+1-y),w=d-p,k=o-c,N=l-f,M=(a-s)/(n*v),C=w/(r*_);return gn(M*M+C*C+(k*k+N*N-w*w)/(x*x))},v.distance=function(t,e,n){void 0===n&&(n="lab"),t=new h(t),e=new h(e);var r=t.get(n),i=e.get(n),a=0;for(var o in r){var l=(r[o]||0)-(i[o]||0);a+=l*l}return Math.sqrt(a)},v.limits=mn.limits,v.valid=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];try{return new(Function.prototype.bind.apply(h,[null].concat(e))),!0}catch(t){return!1}},v.scales=kn,v.colors=R,v.brewer=zn,v}()}),X=U(function(t,e){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof Q&&Q.global===Q&&Q||this||{},r=n._,i=Array.prototype,a=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,l=i.push,u=i.slice,s=a.toString,c=a.hasOwnProperty,f=Array.isArray,d=Object.keys,h=Object.create,p=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};e.nodeType?n._=v:(!t.nodeType&&t.exports&&(e=t.exports=v),e._=v),v.VERSION="1.9.1";var _,m=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)}}return function(){return t.apply(e,arguments)}},g=function(t,e,n){return v.iteratee!==_?v.iteratee(t,e):null==t?v.identity:v.isFunction(t)?m(t,e,n):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=_=function(t,e){return g(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=arguments,r=Math.max(arguments.length-e,0),i=Array(r),a=0;a<r;a++)i[a]=n[a+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(a=0;a<e;a++)o[a]=n[a];return o[e]=i,t.apply(this,o)}},y=function(t){if(!v.isObject(t))return{};if(h)return h(t);p.prototype=t;var e=new p;return p.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},w=function(t,e){return null!=t&&c.call(t,e)},k=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},N=Math.pow(2,53)-1,M=x("length"),C=function(t){var e=M(t);return"number"==typeof e&&e>=0&&e<=N};v.each=v.forEach=function(t,e,n){var r,i;if(e=m(e,n),C(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var a=v.keys(t);for(r=0,i=a.length;r<i;r++)e(t[a[r]],a[r],t)}return t},v.map=v.collect=function(t,e,n){e=g(e,n);for(var r=!C(t)&&v.keys(t),i=(r||t).length,a=Array(i),o=0;o<i;o++){var l=r?r[o]:o;a[o]=e(t[l],l,t)}return a};var S=function(t){return function(e,n,r,i){var a=arguments.length>=3;return function(e,n,r,i){var a=!C(e)&&v.keys(e),o=(a||e).length,l=t>0?0:o-1;for(i||(r=e[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var u=a?a[l]:l;r=n(r,e[u],u,e)}return r}(e,m(n,i,4),r,a)}};v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(t,e,n){var r=(C(t)?v.findIndex:v.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},v.filter=v.select=function(t,e,n){var r=[];return e=g(e,n),v.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},v.reject=function(t,e,n){return v.filter(t,v.negate(g(e)),n)},v.every=v.all=function(t,e,n){e=g(e,n);for(var r=!C(t)&&v.keys(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return!1}return!0},v.some=v.any=function(t,e,n){e=g(e,n);for(var r=!C(t)&&v.keys(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(e(t[o],o,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,r){return C(t)||(t=v.values(t)),("number"!=typeof n||r)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=b(function(t,e,n){var r,i;return v.isFunction(e)?i=e:v.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),v.map(t,function(t){var a=i;if(!a){if(r&&r.length&&(t=k(t,r)),null==t)return;a=t[e]}return null==a?a:a.apply(t,n)})}),v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var r,i,a=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,u=(t=C(t)?t:v.values(t)).length;l<u;l++)null!=(r=t[l])&&r>a&&(a=r);else e=g(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))>o||i===-1/0&&a===-1/0)&&(a=t,o=i)});return a},v.min=function(t,e,n){var r,i,a=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var l=0,u=(t=C(t)?t:v.values(t)).length;l<u;l++)null!=(r=t[l])&&r<a&&(a=r);else e=g(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))<o||i===1/0&&a===1/0)&&(a=t,o=i)});return a},v.shuffle=function(t){return v.sample(t,1/0)},v.sample=function(t,e,n){if(null==e||n)return C(t)||(t=v.values(t)),t[v.random(t.length-1)];var r=C(t)?v.clone(t):v.values(t),i=M(r);e=Math.max(Math.min(e,i),0);for(var a=i-1,o=0;o<e;o++){var l=v.random(o,a),u=r[o];r[o]=r[l],r[l]=u}return r.slice(0,e)},v.sortBy=function(t,e,n){var r=0;return e=g(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var z=function(t,e){return function(n,r,i){var a=e?[[],[]]:{};return r=g(r,i),v.each(n,function(e,i){var o=r(e,i,n);t(a,e,o)}),a}};v.groupBy=z(function(t,e,n){w(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=z(function(t,e,n){t[n]=e}),v.countBy=z(function(t,e,n){w(t,n)?t[n]++:t[n]=1});var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?u.call(t):v.isString(t)?t.match(A):C(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:C(t)?t.length:v.keys(t).length},v.partition=z(function(t,e,n){t[n?0:1].push(e)},!0),v.first=v.head=v.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,Boolean)};var j=function(t,e,n,r){for(var i=(r=r||[]).length,a=0,o=M(t);a<o;a++){var l=t[a];if(C(l)&&(v.isArray(l)||v.isArguments(l)))if(e)for(var u=0,s=l.length;u<s;)r[i++]=l[u++];else j(l,e,n,r),i=r.length;else n||(r[i++]=l)}return r};v.flatten=function(t,e){return j(t,e,!1)},v.without=b(function(t,e){return v.difference(t,e)}),v.uniq=v.unique=function(t,e,n,r){v.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=g(n,r));for(var i=[],a=[],o=0,l=M(t);o<l;o++){var u=t[o],s=n?n(u,o,t):u;e&&!n?(o&&a===s||i.push(u),a=s):n?v.contains(a,s)||(a.push(s),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=b(function(t){return v.uniq(j(t,!0,!0))}),v.intersection=function(t){for(var e=arguments,n=[],r=arguments.length,i=0,a=M(t);i<a;i++){var o=t[i];if(!v.contains(n,o)){var l;for(l=1;l<r&&v.contains(e[l],o);l++);l===r&&n.push(o)}}return n},v.difference=b(function(t,e){return e=j(e,!0,!0),v.filter(t,function(t){return!v.contains(e,t)})}),v.unzip=function(t){for(var e=t&&v.max(t,M).length||0,n=Array(e),r=0;r<e;r++)n[r]=v.pluck(t,r);return n},v.zip=b(v.unzip),v.object=function(t,e){for(var n={},r=0,i=M(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var T=function(t){return function(e,n,r){n=g(n,r);for(var i=M(e),a=t>0?0:i-1;a>=0&&a<i;a+=t)if(n(e[a],a,e))return a;return-1}};v.findIndex=T(1),v.findLastIndex=T(-1),v.sortedIndex=function(t,e,n,r){for(var i=(n=g(n,r,1))(e),a=0,o=M(t);a<o;){var l=Math.floor((a+o)/2);n(t[l])<i?a=l+1:o=l}return a};var L=function(t,e,n){return function(r,i,a){var o=0,l=M(r);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+l,o):l=a>=0?Math.min(a+1,l):a+l+1;else if(n&&a&&l)return r[a=n(r,i)]===i?a:-1;if(i!=i)return(a=e(u.call(r,o,l),v.isNaN))>=0?a+o:-1;for(a=t>0?o:l-1;a>=0&&a<l;a+=t)if(r[a]===i)return a;return-1}};v.indexOf=L(1,v.findIndex,v.sortedIndex),v.lastIndexOf=L(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),a=0;a<r;a++,t+=n)i[a]=t;return i},v.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(u.call(t,r,r+=e));return n};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var a=y(t.prototype),o=t.apply(a,i);return v.isObject(o)?o:a};v.bind=b(function(t,e,n){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=b(function(i){return O(t,r,e,this,n.concat(i))});return r}),v.partial=b(function(t,e){var n=v.partial.placeholder,r=function(){for(var i=arguments,a=0,o=e.length,l=Array(o),u=0;u<o;u++)l[u]=e[u]===n?i[a++]:e[u];for(;a<arguments.length;)l.push(i[a++]);return O(t,r,this,this,l)};return r}),v.partial.placeholder=v,v.bindAll=b(function(t,e){var n=(e=j(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=v.bind(t[r],t)}}),v.memoize=function(t,e){var n=function(r){var i=n.cache,a=""+(e?e.apply(this,arguments):r);return w(i,a)||(i[a]=t.apply(this,arguments)),i[a]};return n.cache={},n},v.delay=b(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var r,i,a,o,l=0;n||(n={});var u=function(){l=!1===n.leading?0:v.now(),r=null,o=t.apply(i,a),r||(i=a=null)},s=function(){var s=v.now();l||!1!==n.leading||(l=s);var c=e-(s-l);return i=this,a=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),l=s,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,c)),o};return s.cancel=function(){clearTimeout(r),l=0,r=i=a=null},s},v.debounce=function(t,e,n){var r,i,a=function(e,n){r=null,n&&(i=t.apply(e,n))},o=b(function(o){if(r&&clearTimeout(r),n){var l=!r;r=setTimeout(a,e),l&&(i=t.apply(this,o))}else r=v.delay(a,e,this,o);return i});return o.cancel=function(){clearTimeout(r),r=null},o},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2),v.restArguments=b;var F=!{toString:null}.propertyIsEnumerable("toString"),q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],E=function(t,e){var n=q.length,r=t.constructor,i=v.isFunction(r)&&r.prototype||a,o="constructor";for(w(t,o)&&!v.contains(e,o)&&e.push(o);n--;)(o=q[n])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)};v.keys=function(t){if(!v.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)w(t,n)&&e.push(n);return F&&E(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&E(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},v.mapObject=function(t,e,n){e=g(e,n);for(var r=v.keys(t),i=r.length,a={},o=0;o<i;o++){var l=r[o];a[l]=e(t[l],l,t)}return a},v.pairs=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},v.invert=function(t){for(var e={},n=v.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()};var P=function(t,e){return function(n){var r=arguments,i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var a=1;a<i;a++)for(var o=r[a],l=t(o),u=l.length,s=0;s<u;s++){var c=l[s];e&&void 0!==n[c]||(n[c]=o[c])}return n}};v.extend=P(v.allKeys),v.extendOwn=v.assign=P(v.keys),v.findKey=function(t,e,n){e=g(e,n);for(var r,i=v.keys(t),a=0,o=i.length;a<o;a++)if(e(t[r=i[a]],r,t))return r};var H,R,D=function(t,e,n){return e in n};v.pick=b(function(t,e){var n={},r=e[0];if(null==t)return n;v.isFunction(r)?(e.length>1&&(r=m(r,e[1])),e=v.allKeys(t)):(r=D,e=j(e,!1,!1),t=Object(t));for(var i=0,a=e.length;i<a;i++){var o=e[i],l=t[o];r(l,o,t)&&(n[o]=l)}return n}),v.omit=b(function(t,e){var n,r=e[0];return v.isFunction(r)?(r=v.negate(r),e.length>1&&(n=e[1])):(e=v.map(j(e,!1,!1),String),r=function(t,n){return!v.contains(e,n)}),v.pick(t,r,n)}),v.defaults=P(v.allKeys,!0),v.create=function(t,e){var n=y(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),a=0;a<r;a++){var o=n[a];if(e[o]!==i[o]||!(o in i))return!1}return!0},H=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&R(t,e,n,r)},R=function(t,e,n,r){t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=s.call(t);if(i!==s.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return o.valueOf.call(t)===o.valueOf.call(e)}var a="[object Array]"===i;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var l=t.constructor,u=e.constructor;if(l!==u&&!(v.isFunction(l)&&l instanceof l&&v.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),a){if((c=t.length)!==e.length)return!1;for(;c--;)if(!H(t[c],e[c],n,r))return!1}else{var f,d=v.keys(t);if(c=d.length,v.keys(e).length!==c)return!1;for(;c--;)if(f=d[c],!w(e,f)||!H(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(t,e){return H(t,e)},v.isEmpty=function(t){return null==t||(C(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=f||function(t){return"[object Array]"===s.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){v["is"+t]=function(e){return s.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return w(t,"callee")});var I=n.document&&n.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof I&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===s.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){if(!v.isArray(e))return w(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!c.call(t,i))return!1;t=t[i]}return!!n},v.noConflict=function(){return n._=r,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(e){return k(e,t)}:x(t)},v.propertyOf=function(t){return null==t?function(){}:function(e){return v.isArray(e)?k(t,e):t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var r=Array(Math.max(0,t));e=m(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var $={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=v.invert($),Y=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};v.escape=Y($),v.unescape=Y(B),v.result=function(t,e,n){v.isArray(e)||(e=[e]);var r=e.length;if(!r)return v.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var a=null==t?void 0:t[e[i]];void 0===a&&(a=n,i=r),t=v.isFunction(a)?a.call(t):a}return t};var K=0;v.uniqueId=function(t){var e=++K+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+W[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var r,i=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(i,function(e,n,r,i,l){return o+=t.slice(a,l).replace(U,J),a=l+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var l=function(t){return r.call(this,t,v)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},v.chain=function(t){var e=v(t);return e._chain=!0,e};var X=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){return v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),X(this,n.apply(v,t))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],X(this,n)}}),v.each(["concat","join","slice"],function(t){var e=i[t];v.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)}}()}),V=(X._,"#00000000");function Z(t){return t===V?"#ddd":J(t).darker().alpha(1).hex()}function tt(t){return"#ffffff"===J(t).hex("rgb")?"#eeeeee":t}function et(t){return J(t).alpha()}var nt={setColor:function(t,e){this.set({color:t}),e&&this.refs.dropdown.set({visible:!1})},resetColor:function(){var t=this.get().initial;this.set({color_:V}),this.fire("change",t),this.setColor(t,!0)}};function rt(t){var e=this,n=t.changed,r=t.current,i=t.previous;if(n.color_&&i)try{var a=J(r.color_).hex();this.set({color:r.color_}),r.open&&a!==i.color_&&this.fire("change",r.validColor),r.validColor!==r.color_&&setTimeout(function(){e.set({color_:r.validColor})},100)}catch(t){}n.color&&r.color!==V&&!i?this.set({color_:r.color||V}):n.color&&r.color&&i&&(r.open&&this.fire("change",r.color),this.set({color_:r.color}))}function it(t,e){var n=-1,r=999999;return t[0]===t[1]?"-":(t.forEach(function(t,i){var a=J.distance(t,e,"lab");a<r&&(r=a,n=i)}),t[n])}function at(t,e,n,r,i){var a=[t],o=e/n,l=0;for(r=X.isUndefined(r)?n:r,i=i||1;n-- >0;)l+=o,a.unshift(t-l),r-- >0&&a.push(t+l);return a}function ot(t,e){var a,o,l,u=e.c;e.each_value,e.c_index;return{c:function(){a=f("div"),o=f("div"),this.h()},h:function(){o.className="transparency svelte-53boxl",b(o,"opacity",1-et(u)),v(a,"click",dt),v(a,"dblclick",ht),a.className="color svelte-53boxl",m(a,"class:selected","c === color_"),a.dataset.color=l=u,b(a,"background",u),b(a,"border-color",tt(u)),a._svelte={component:t,each_value:e.each_value,c_index:e.c_index}},m:function(t,e){r(a,t,e),n(o,a)},p:function(t,e){u=e.c,e.each_value,e.c_index,t.palette&&b(o,"opacity",1-et(u)),t.palette&&l!==(l=u)&&(a.dataset.color=l),t.palette&&(b(a,"background",u),b(a,"border-color",tt(u))),a._svelte.each_value=e.each_value,a._svelte.c_index=e.c_index},u:function(){i(a)},d:function(){_(a,"click",dt),_(a,"dblclick",ht)}}}function lt(t,e){var n,a,o,l=e.c;e.each_value_1,e.c_index_1;return{c:function(){n=f("div"),this.h()},h:function(){v(n,"click",pt),n.className=a="color "+(l==e.nearest_l?"selected":"")+" svelte-53boxl",n.dataset.color=o=l,b(n,"background",l),n._svelte={component:t,each_value_1:e.each_value_1,c_index_1:e.c_index_1}},m:function(t,e){r(n,t,e)},p:function(t,e){l=e.c,e.each_value_1,e.c_index_1,(t.gradient_l||t.nearest_l)&&a!==(a="color "+(l==e.nearest_l?"selected":"")+" svelte-53boxl")&&(n.className=a),t.gradient_l&&o!==(o=l)&&(n.dataset.color=o),t.gradient_l&&b(n,"background",l),n._svelte.each_value_1=e.each_value_1,n._svelte.c_index_1=e.c_index_1},u:function(){i(n)},d:function(){_(n,"click",pt)}}}function ut(t,e){var n,a,o,l=e.c;e.each_value_2,e.c_index_2;return{c:function(){n=f("div"),this.h()},h:function(){v(n,"click",vt),n.className=a="color "+(l==e.nearest_c?"selected":"")+" svelte-53boxl",n.dataset.color=o=l,b(n,"background",l),n._svelte={component:t,each_value_2:e.each_value_2,c_index_2:e.c_index_2}},m:function(t,e){r(n,t,e)},p:function(t,e){l=e.c,e.each_value_2,e.c_index_2,(t.gradient_c||t.nearest_c)&&a!==(a="color "+(l==e.nearest_c?"selected":"")+" svelte-53boxl")&&(n.className=a),t.gradient_c&&o!==(o=l)&&(n.dataset.color=o),t.gradient_c&&b(n,"background",l),n._svelte.each_value_2=e.each_value_2,n._svelte.c_index_2=e.c_index_2},u:function(){i(n)},d:function(){_(n,"click",vt)}}}function st(t,e){var n,a,o,l=e.c;e.each_value_3,e.c_index_3;return{c:function(){n=f("div"),this.h()},h:function(){v(n,"click",_t),n.className=a="color "+(l==e.nearest_h?"selected":"")+" svelte-53boxl",n.dataset.color=o=l,b(n,"background",l),n._svelte={component:t,each_value_3:e.each_value_3,c_index_3:e.c_index_3}},m:function(t,e){r(n,t,e)},p:function(t,e){l=e.c,e.each_value_3,e.c_index_3,(t.gradient_h||t.nearest_h)&&a!==(a="color "+(l==e.nearest_h?"selected":"")+" svelte-53boxl")&&(n.className=a),t.gradient_h&&o!==(o=l)&&(n.dataset.color=o),t.gradient_h&&b(n,"background",l),n._svelte.each_value_3=e.each_value_3,n._svelte.c_index_3=e.c_index_3},u:function(){i(n)},d:function(){_(n,"click",_t)}}}function ct(t,e){var a,o,u,s;function c(e){t.resetColor()}return{c:function(){a=f("button"),o=f("i"),u=h(" "),s=f("noscript"),this.h()},h:function(){o.className="im im-drop svelte-53boxl",v(a,"click",c),a.className="btn btn-small reset svelte-53boxl"},m:function(t,i){r(a,t,i),n(o,a),n(u,a),n(s,a),s.insertAdjacentHTML("afterend",e.reset)},p:function(t,e){t.reset&&(l(s),s.insertAdjacentHTML("afterend",e.reset))},u:function(){l(s),i(a)},d:function(){_(a,"click",c)}}}function ft(t,a){for(var o,l,u,c,d,p,g,y,x,w,k,N,M,C,S,z,A,j=!1,T=a.palette,L=[],O=0;O<T.length;O+=1)L[O]=ot(t,e(e({},a),{each_value:T,c:T[O],c_index:O}));var F=a.gradient_l,q=[];for(O=0;O<F.length;O+=1)q[O]=lt(t,e(e({},a),{each_value_1:F,c:F[O],c_index_1:O}));var E=a.gradient_c,P=[];for(O=0;O<E.length;O+=1)P[O]=ut(t,e(e({},a),{each_value_2:E,c:E[O],c_index_2:O}));var H=a.gradient_h,R=[];for(O=0;O<H.length;O+=1)R[O]=st(t,e(e({},a),{each_value_3:H,c:H[O],c_index_3:O}));var D=a.reset&&ct(t,a);function I(){j=!0,t.set({color_:N.value}),j=!1}function $(e){var n=t.get();t.setColor(n.color_,!0)}function B(t){t.stopPropagation()}return{c:function(){o=f("div"),l=f("div");for(var t=0;t<L.length;t+=1)L[t].c();u=h("\n\n                "),c=f("div");for(t=0;t<q.length;t+=1)q[t].c();d=h("\n                "),p=f("div");for(t=0;t<P.length;t+=1)P[t].c();g=h("\n                "),y=f("div");for(t=0;t<R.length;t+=1)R[t].c();x=h("\n                "),D&&D.c(),w=h("\n                "),k=f("div"),N=f("input"),M=h("\n                    "),(C=f("button")).innerHTML='<i class="icon-ok"></i>',S=h("\n                    "),z=f("div"),A=f("div"),this.h()},h:function(){l.className="palette svelte-53boxl",c.className="color-axis lightness svelte-53boxl",p.className="color-axis saturation svelte-53boxl",y.className="color-axis hue svelte-53boxl",v(N,"input",I),m(N,"type","text"),b(N,"background",a.color_),b(N,"border-color",Z(a.color_)),b(N,"color",a.textColor),N.className="hex svelte-53boxl",v(C,"click",$),C.className="btn btn-small ok svelte-53boxl",A.className="transparency svelte-53boxl",b(A,"opacity",1-et(a.color_)),z.className="color selected svelte-53boxl",b(z,"border-color",Z(a.color_)),b(z,"background",a.color_),k.className="footer svelte-53boxl",v(o,"click",B),o.className="color-selector svelte-53boxl"},m:function(t,e){r(o,t,e),n(l,o);for(var i=0;i<L.length;i+=1)L[i].m(l,null);n(u,o),n(c,o);for(i=0;i<q.length;i+=1)q[i].m(c,null);n(d,o),n(p,o);for(i=0;i<P.length;i+=1)P[i].m(p,null);n(g,o),n(y,o);for(i=0;i<R.length;i+=1)R[i].m(y,null);n(x,o),D&&D.m(o,null),n(w,o),n(k,o),n(N,k),N.value=a.color_,n(M,k),n(C,k),n(S,k),n(z,k),n(A,z)},p:function(n,r){var i=r.palette;if(n.palette){for(var a=0;a<i.length;a+=1){var u=e(e({},r),{each_value:i,c:i[a],c_index:a});L[a]?L[a].p(n,u):(L[a]=ot(t,u),L[a].c(),L[a].m(l,null))}for(;a<L.length;a+=1)L[a].u(),L[a].d();L.length=i.length}var s=r.gradient_l;if(n.gradient_l||n.nearest_l){for(a=0;a<s.length;a+=1){var f=e(e({},r),{each_value_1:s,c:s[a],c_index_1:a});q[a]?q[a].p(n,f):(q[a]=lt(t,f),q[a].c(),q[a].m(c,null))}for(;a<q.length;a+=1)q[a].u(),q[a].d();q.length=s.length}var d=r.gradient_c;if(n.gradient_c||n.nearest_c){for(a=0;a<d.length;a+=1){var h=e(e({},r),{each_value_2:d,c:d[a],c_index_2:a});P[a]?P[a].p(n,h):(P[a]=ut(t,h),P[a].c(),P[a].m(p,null))}for(;a<P.length;a+=1)P[a].u(),P[a].d();P.length=d.length}var v=r.gradient_h;if(n.gradient_h||n.nearest_h){for(a=0;a<v.length;a+=1){var _=e(e({},r),{each_value_3:v,c:v[a],c_index_3:a});R[a]?R[a].p(n,_):(R[a]=st(t,_),R[a].c(),R[a].m(y,null))}for(;a<R.length;a+=1)R[a].u(),R[a].d();R.length=v.length}r.reset?D?D.p(n,r):((D=ct(t,r)).c(),D.m(o,w)):D&&(D.u(),D.d(),D=null),j||(N.value=r.color_),n.color_&&(b(N,"background",r.color_),b(N,"border-color",Z(r.color_))),n.textColor&&b(N,"color",r.textColor),n.color_&&(b(A,"opacity",1-et(r.color_)),b(z,"border-color",Z(r.color_)),b(z,"background",r.color_))},u:function(){i(o);for(var t=0;t<L.length;t+=1)L[t].u();for(t=0;t<q.length;t+=1)q[t].u();for(t=0;t<P.length;t+=1)P[t].u();for(t=0;t<R.length;t+=1)R[t].u();D&&D.u()},d:function(){s(L),s(q),s(P),s(R),D&&D.d(),_(N,"input",I),_(C,"click",$),_(o,"click",B)}}}function dt(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];e.setColor(n,!1)}function ht(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];e.setColor(n,!0)}function pt(t){var e=this._svelte.component,n=this._svelte.each_value_1[this._svelte.c_index_1];e.setColor(n,!1)}function vt(t){var e=this._svelte.component,n=this._svelte.each_value_2[this._svelte.c_index_2];e.setColor(n,!1)}function _t(t){var e=this._svelte.component,n=this._svelte.each_value_3[this._svelte.c_index_3];e.setColor(n,!1)}function mt(t){T(this,t),this.refs={},this._state=e(e(this.store._init(["themeData"]),{reset:!1,initial:!1,palette:[],prepend:[],append:[],color:!1,color_:V,open:!1}),t.data),this.store._add(this,["themeData"]),this._recompute({$themeData:1,prepend:1,append:1,color_:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1},this._state),this._handlers.update=[rt],this._handlers.destroy=[q],this._slotted=t.slots||{};var a=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,e){var a,o,l,s,d,p,v,_,g,y,x,w=t._slotted.default,k={},N=e.color_&&ft(t,e),M={};"open"in e&&(M.visible=e.open,k.visible=!0);var C=new B({root:t.root,slots:{default:c(),button:c(),content:c()},data:M,_bind:function(e,n){t.get();var r={};!k.visible&&e.visible&&(r.open=n.visible),t._set(r),k={}}});return t.root._beforecreate.push(function(){C._bind({visible:1},C.get())}),t.refs.dropdown=C,{c:function(){a=f("div"),o=h("\n        "),l=f("span"),w||(s=f("div"),d=f("div"),p=f("div"),v=h("\n                    "),_=f("span")),g=h("\n        "),y=f("span"),N&&N.c(),x=h("\n    "),C._fragment.c(),this.h()},h:function(){w||(p.className="transparency svelte-53boxl",b(p,"opacity",1-et(e.validColor)),b(d,"background",e.validColor+" none repeat scroll 0% 0%"),d.className="the-color svelte-53boxl",_.className="caret svelte-53boxl",s.className="base-color-picker color-picker svelte-53boxl"),m(l,"slot","button"),m(y,"slot","content"),a.className="color-picker-cont svelte-53boxl"},m:function(t,e){r(a,t,e),n(o,C._slotted.default),n(l,C._slotted.button),w?n(w,l):(n(s,l),n(d,s),n(p,d),n(v,s),n(_,s)),n(g,C._slotted.default),n(y,C._slotted.content),N&&N.m(y,null),n(x,C._slotted.default),C._mount(a,null)},p:function(e,n){w||e.validColor&&(b(p,"opacity",1-et(n.validColor)),b(d,"background",n.validColor+" none repeat scroll 0% 0%")),n.color_?N?N.p(e,n):((N=ft(t,n)).c(),N.m(y,null)):N&&(N.u(),N.d(),N=null);var r={};!k.visible&&e.open&&(r.visible=n.open,k.visible=!0),C._set(r),k={}},u:function(){i(a),w&&u(l,w),N&&N.u()},d:function(){N&&N.d(),C.destroy(!1),t.refs.dropdown===C&&(t.refs.dropdown=null)}}}(this,this._state),this.root._oncreate.push(function(){a.fire("update",{changed:{$themeData:1,prepend:1,append:1,color_:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1,open:1,validColor:1,nearest_l:1,nearest_c:1,nearest_h:1,reset:1,textColor:1},current:a._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}e(mt.prototype,E),e(mt.prototype,nt),mt.prototype._recompute=function(t,e){var n,r,i,a;(t.$themeData||t.prepend||t.append)&&this._differs(e.palette,e.palette=(r=(n=e).$themeData,i=n.prepend,a=n.append,X.uniq(i.concat(r.colors.palette).concat(a))))&&(t.palette=!0),t.color_&&(this._differs(e.validColor,e.validColor=function(t){var e=t.color_;try{return J(e).hex()}catch(t){return"#000000"}}(e))&&(t.validColor=!0),this._differs(e.gradient_l,e.gradient_l=function(t){var e=t.color_,n=J(e).lch(),r=at(70,55,7,6).map(function(t){return J.lch(t,n[1],n[2]).hex()});return J.scale(["#000000"].concat(r).concat("#ffffff")).mode("lch").gamma(.8).padding(.1).colors(14)}(e))&&(t.gradient_l=!0)),(t.color_||t.palette)&&this._differs(e.gradient_c,e.gradient_c=function(t){var e=t.color_,n=t.palette,r=J(e).set("lch.c",120);isNaN(r.get("lch.h"))&&(r=J.lch(r.get("lch.l"),50,J(n[0]||"#d00").get("lch.h")));var i=J(e).set("lch.c",3);return J.scale([i,r]).mode("lch").gamma(1.2).colors(14)}(e))&&(t.gradient_c=!0),t.color_&&this._differs(e.gradient_h,e.gradient_h=function(t){var e=t.color_,n=J(e).lch(),r=at(n[2],75,7,6).map(function(t){return J.lch(n[0],n[1],t).hex()});return J.scale(r).mode("lch").colors(14)}(e))&&(t.gradient_h=!0),(t.color_||t.gradient_l)&&this._differs(e.nearest_l,e.nearest_l=function(t){var e=t.color_;return it(t.gradient_l,e)}(e))&&(t.nearest_l=!0),(t.color_||t.gradient_c)&&this._differs(e.nearest_c,e.nearest_c=function(t){var e=t.color_;return it(t.gradient_c,e)}(e))&&(t.nearest_c=!0),(t.color_||t.gradient_h)&&this._differs(e.nearest_h,e.nearest_h=function(t){var e=t.color_;return it(t.gradient_h,e)}(e))&&(t.nearest_h=!0),t.color_&&this._differs(e.textColor,e.textColor=function(t){var e=t.color_;return e===V?"#fff":J(e).get("lab.l")>60?"black":"white"}(e))&&(t.textColor=!0)};var gt={width:"100px"};function bt(e,n){var a;return{c:function(){a=f("label"),this.h()},h:function(){b(a,"width",n.width||gt.width),m(a,"class:disabled",!0),a.className="control-label svelte-1lchyq2"},m:function(t,e){r(a,t,e),a.innerHTML=n.label},p:function(t,e){t.label&&(a.innerHTML=e.label),t.width&&b(a,"width",e.width||gt.width)},u:function(){a.innerHTML="",i(a)},d:t}}function yt(e,n){var a;return{c:function(){a=f("p"),this.h()},h:function(){a.className="mini-help svelte-1lchyq2"},m:function(t,e){r(a,t,e),a.innerHTML=n.help},p:function(t,e){t.help&&(a.innerHTML=e.help)},u:function(){a.innerHTML="",i(a)},d:t}}function xt(t){var a,o,l,u,s,c,d,v,_,g,y;T(this,t),this._state=e({disabled:!1,help:!1,type:"default",valign:"baseline",inline:!1},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=(a=this,o=this._state,_=a._slotted.default,g=o.label&&bt(0,o),y=o.help&&yt(0,o),{c:function(){l=f("div"),g&&g.c(),u=h("\n    "),s=f("div"),d=h("\n        "),y&&y.c(),this.h()},h:function(){s.className="controls svelte-1lchyq2",m(s,"class:form-inline","inline"),b(s,"width","calc(100% - "+(o.width||gt.width)+" - 40px)"),l.className=v="control-group vis-option-group vis-option-group-"+o.type+" label-"+o.valign+" svelte-1lchyq2"},m:function(t,e){r(l,t,e),g&&g.m(l,null),n(u,l),n(s,l),_&&(n(_,s),n(c||(c=p()),s)),n(d,s),y&&y.m(s,null)},p:function(t,e){e.label?g?g.p(t,e):((g=bt(0,e)).c(),g.m(l,u)):g&&(g.u(),g.d(),g=null),e.help?y?y.p(t,e):((y=yt(0,e)).c(),y.m(s,null)):y&&(y.u(),y.d(),y=null),t.width&&b(s,"width","calc(100% - "+(e.width||gt.width)+" - 40px)"),(t.type||t.valign)&&v!==(v="control-group vis-option-group vis-option-group-"+e.type+" label-"+e.valign+" svelte-1lchyq2")&&(l.className=v)},u:function(){i(l),g&&g.u(),_&&function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)}(c,_),y&&y.u()},d:function(){g&&g.d(),y&&y.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(xt.prototype,E);var wt=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,kt=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,Nt="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";function Mt(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,e){e=(((void 0!==e?e||"":Nt)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=t,r=t;for(;;)if(r=(n=r).replace(kt,"").replace(wt,function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""}),n===r)return r}(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML=t;for(var r=n.querySelectorAll("*"),i=0;i<r.length;i++)for(var a=0;a<r[i].attributes.length;a++){var o=r[i].attributes[a];o.specified&&"on"===o.name.substr(0,2)&&r[i].removeAttribute(o.name)}return n.innerHTML}}function Ct(t){var e=t.$vis,n=t.keys,r=t.customizable,i=t.axis,a=t.custom,o=t.palette;return e&&r?(i?X.uniq("date"===e.axes(!0)[i].type()?e.axes(!0)[i].raw():e.axes(!0)[i].values()):n&&n.length?n:e.colorKeys?e.colorKeys():e.keys()).map(function(t){return{key:t=Mt(t,""),defined:void 0!==a[t]&&!1!==a[t],color:void 0!==a[t]&&!1!==a[t]?jt(a[t],o):"#cccccc"}}):[]}var St={update:function(t){var e=this.get().palette;this.set({value:At(t,e)})},updateCustom:function(t){var e=this.get(),n=e.selected,r=e.palette,i=e.custom;n.forEach(function(e){t?i[e]=At(t,r):delete i[e]}),this.set({custom:i})},toggle:function(t){t.preventDefault();var e=this.get().expanded;this.set({expanded:!e})},toggleSelect:function(t,e){e.preventDefault();var n=this.get().selected,r=n.indexOf(t);e.shiftKey?r>-1?n.splice(r,1):n.push(t):(n.length=1,n[0]=t),this.set({selected:n})},getColor:function(t){return jt(t,this.get().palette)},reset:function(){var t=this.get(),e=t.selected,n=t.custom;e.forEach(function(t){return delete n[t]}),this.set({custom:n})},resetAll:function(){var t=this.get().custom;Object.keys(t).forEach(function(e){return delete t[e]}),this.set({custom:t})},selectAll:function(t){t.preventDefault();var e=this.get(),n=e.selected;e.colorKeys.forEach(function(t){n.indexOf(t.key)<0&&n.push(t.key)}),this.set({selected:n})},selectNone:function(t){t.preventDefault();var e=this.get().selected;e.length=0,this.set({selected:e})},selectInvert:function(t){t.preventDefault();var e=this.get(),n=e.selected;e.colorKeys.forEach(function(t){var e=n.indexOf(t.key);e<0?n.push(t.key):n.splice(e,1)}),this.set({selected:n})}};function zt(t){var e=t.changed,n=t.current;if(e.custom){var r=n.custom;r&&0===r.length&&(r={}),this.set({custom:r})}}function At(t,e){var n=e.indexOf(t);return n>-1?n:t}function jt(t,e){return"number"==typeof t?e[t%e.length]:t}function Tt(t,e){var n={},r={color:e.hexColor,palette:e.palette};"open"in e&&(r.visible=e.open,n.visible=!0);var i=new mt({root:t.root,data:r,_bind:function(e,r){t.get();var i={};!n.visible&&e.visible&&(i.open=r.visible),t._set(i),n={}}});return t.root._beforecreate.push(function(){i._bind({visible:1},i.get())}),i.on("change",function(e){t.update(e)}),{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},p:function(t,e){var r={};t.hexColor&&(r.color=e.hexColor),t.palette&&(r.palette=e.palette),!n.visible&&t.open&&(r.visible=e.open,n.visible=!0),i._set(r),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function Lt(t,e){var a,o,l;function u(e){t.toggle(e)}return{c:function(){a=f("span"),(o=f("a")).textContent="customize colors...",this.h()},h:function(){v(o,"click",u),o.href="#customize",o.className=l="btn btn-small custom "+(e.expanded?"btn-primary":""),m(o,"role","button"),a.className="custom-color-selector-head"},m:function(t,e){r(a,t,e),n(o,a)},p:function(t,e){t.expanded&&l!==(l="btn btn-small custom "+(e.expanded?"btn-primary":""))&&(o.className=l)},u:function(){i(a)},d:function(){_(o,"click",u)}}}function Ot(e,n){var a;return{c:function(){(a=f("h4")).textContent="Select element(s):",this.h()},h:function(){a.className="svelte-45slus"},m:function(t,e){r(a,t,e)},u:function(){i(a)},d:t}}function Ft(t,e){var a,o,l,u,s,c,d,p,m=e.k,g=(e.each_value,e.k_index,m.defined?"":"×"),y=m.key;return{c:function(){a=f("li"),o=f("div"),l=h(g),u=h("\n                    "),s=f("label"),c=h(y),this.h()},h:function(){o.className="color svelte-45slus",b(o,"background",m.color),s.className="svelte-45slus",v(a,"click",It),a.className=d=(e.selected.indexOf(m.key)>-1?"selected":"")+" svelte-45slus",a.dataset.series=p=m.key,a._svelte={component:t,each_value:e.each_value,k_index:e.k_index}},m:function(t,e){r(a,t,e),n(o,a),n(l,o),n(u,a),n(s,a),n(c,s)},p:function(t,e){m=e.k,e.each_value,e.k_index,t.colorKeys&&g!==(g=m.defined?"":"×")&&(l.data=g),t.colorKeys&&b(o,"background",m.color),t.colorKeys&&y!==(y=m.key)&&(c.data=y),(t.selected||t.colorKeys)&&d!==(d=(e.selected.indexOf(m.key)>-1?"selected":"")+" svelte-45slus")&&(a.className=d),t.colorKeys&&p!==(p=m.key)&&(a.dataset.series=p),a._svelte.each_value=e.each_value,a._svelte.k_index=e.k_index},u:function(){i(a)},d:function(){_(a,"click",It)}}}function qt(e,n){var a;return{c:function(){(a=f("h4")).textContent="Choose a color:",this.h()},h:function(){a.className="svelte-45slus"},m:function(t,e){r(a,t,e)},u:function(){i(a)},d:t}}function Et(t,e){var n;function a(e){t.reset()}return{c:function(){(n=f("button")).textContent="Reset",this.h()},h:function(){v(n,"click",a),n.className="btn"},m:function(t,e){r(n,t,e)},u:function(){i(n)},d:function(){_(n,"click",a)}}}function Pt(t,e){var a,o,l={},u={initial:!1,reset:"Reset",color:e.customColor,palette:e.palette};"openCustom"in e&&(u.visible=e.openCustom,l.visible=!0);var s=new mt({root:t.root,data:u,_bind:function(e,n){t.get();var r={};!l.visible&&e.visible&&(r.openCustom=n.visible),t._set(r),l={}}});t.root._beforecreate.push(function(){s._bind({visible:1},s.get())}),s.on("change",function(e){t.updateCustom(e)});var c=!e.compact&&Et(t);return{c:function(){a=f("div"),s._fragment.c(),o=h("\n                "),c&&c.c(),this.h()},h:function(){a.className="select",b(a,"margin-bottom","20px")},m:function(t,e){r(a,t,e),s._mount(a,null),n(o,a),c&&c.m(a,null)},p:function(e,n){var r={initial:!1};e.customColor&&(r.color=n.customColor),e.palette&&(r.palette=n.palette),!l.visible&&e.openCustom&&(r.visible=n.openCustom,l.visible=!0),s._set(r),l={},n.compact?c&&(c.u(),c.d(),c=null):c||((c=Et(t)).c(),c.m(a,null))},u:function(){i(a),c&&c.u()},d:function(){s.destroy(!1),c&&c.d()}}}function Ht(e,n){var a;return{c:function(){(a=f("p")).textContent="Please select an element on the left to change colors for individual elements...",this.h()},h:function(){a.className="mini-help"},m:function(t,e){r(a,t,e)},p:t,u:function(){i(a)},d:t}}function Rt(e,n){var a;return{c:function(){a=h("colors")},m:function(t,e){r(a,t,e)},u:function(){i(a)},d:t}}function Dt(t,a){for(var o,l,u,c,d,p,m,g,y,x,w,k,N,M,C,S,z,A,j,T=!a.compact&&Ot(),L=a.colorKeys,O=[],F=0;F<L.length;F+=1)O[F]=Ft(t,e(e({},a),{each_value:L,k:L[F],k_index:F}));function q(e){t.selectAll(e)}function E(e){t.selectNone(e)}function P(e){t.selectInvert(e)}var H=!a.compact&&qt();function R(t){return t.selected.length?Pt:Ht}var D=R(a),I=D(t,a),$=!a.compact&&Rt();function B(e){t.resetAll()}return{c:function(){o=f("div"),l=f("div"),u=f("div"),T&&T.c(),c=h("\n            "),d=f("ul");for(var t=0;t<O.length;t+=1)O[t].c();p=h("\n            "),m=f("div"),g=h("Select:  \n                "),(y=f("a")).textContent="all",x=h("   "),(w=f("a")).textContent="none",k=h("  \n                "),(N=f("a")).textContent="invert",M=h("\n        "),C=f("div"),H&&H.c(),S=h(" "),I.c(),z=h("\n            "),A=f("button"),j=h("Reset all "),$&&$.c(),this.h()},h:function(){d.className="dataseries unstyled svelte-45slus",v(y,"click",q),y.href="#/select-all",v(w,"click",E),w.href="#/select-none",v(N,"click",P),N.href="#/select-invert",b(m,"font-size","12px"),b(m,"text-align","left"),b(m,"margin-bottom","10px"),u.className="span2",b(u,"width","43%"),v(A,"click",B),A.className="btn",C.className="span2",b(C,"width",a.compact?"35%":"42%"),l.className="row",o.className="custom-color-selector-body svelte-45slus",b(o,"display","block")},m:function(t,e){r(o,t,e),n(l,o),n(u,l),T&&T.m(u,null),n(c,u),n(d,u);for(var i=0;i<O.length;i+=1)O[i].m(d,null);n(p,u),n(m,u),n(g,m),n(y,m),n(x,m),n(w,m),n(k,m),n(N,m),n(M,l),n(C,l),H&&H.m(C,null),n(S,C),I.m(C,null),n(z,C),n(A,C),n(j,A),$&&$.m(A,null)},p:function(n,r){r.compact?T&&(T.u(),T.d(),T=null):T||((T=Ot()).c(),T.m(u,c));var i=r.colorKeys;if(n.colorKeys||n.selected){for(var a=0;a<i.length;a+=1){var o=e(e({},r),{each_value:i,k:i[a],k_index:a});O[a]?O[a].p(n,o):(O[a]=Ft(t,o),O[a].c(),O[a].m(d,null))}for(;a<O.length;a+=1)O[a].u(),O[a].d();O.length=i.length}r.compact?H&&(H.u(),H.d(),H=null):H||((H=qt()).c(),H.m(C,S)),D===(D=R(r))&&I?I.p(n,r):(I.u(),I.d(),(I=D(t,r)).c(),I.m(C,z)),r.compact?$&&($.u(),$.d(),$=null):$||(($=Rt()).c(),$.m(A,null)),n.compact&&b(C,"width",r.compact?"35%":"42%")},u:function(){i(o),T&&T.u();for(var t=0;t<O.length;t+=1)O[t].u();H&&H.u(),I.u(),$&&$.u()},d:function(){T&&T.d(),s(O),_(y,"click",q),_(w,"click",E),_(N,"click",P),H&&H.d(),I.d(),$&&$.d(),_(A,"click",B)}}}function It(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.k_index];e.toggleSelect(n.key,t)}function $t(t){T(this,t),this._state=e(e(this.store._init(["vis","themeData"]),{width:"100px",open:!1,openCustom:!1,customizable:!1,expanded:!1,keys:!1,compact:!1,axis:!1,selected:[],custom:{}}),t.data),this.store._add(this,["vis","themeData"]),this._recompute({$themeData:1,$vis:1,keys:1,customizable:1,axis:1,custom:1,palette:1,value:1,selected:1},this._state),this._handlers.update=[zt],this._handlers.destroy=[q];var a,o,l,u,s,f,d,v,_,m,g,b,y,x,w=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(a=this,o=this._state,m=o.hexColor&&Tt(a,o),g=o.customizable&&Lt(a,o),b={label:o.label,width:o.width||"100px"},y=new xt({root:a.root,slots:{default:c()},data:b}),x=o.customizable&&o.expanded&&Dt(a,o),{c:function(){l=h("\n    "),m&&m.c(),u=p(),s=h(" "),g&&g.c(),f=p(),d=h("\n"),y._fragment.c(),v=h("\n\n"),x&&x.c(),_=p()},m:function(t,e){n(l,y._slotted.default),m&&m.m(y._slotted.default,null),n(u,y._slotted.default),n(s,y._slotted.default),g&&g.m(y._slotted.default,null),n(f,y._slotted.default),n(d,y._slotted.default),y._mount(t,e),r(v,t,e),x&&x.m(t,e),r(_,t,e)},p:function(t,e){e.hexColor?m?m.p(t,e):((m=Tt(a,e)).c(),m.m(u.parentNode,u)):m&&(m.u(),m.d(),m=null),e.customizable?g?g.p(t,e):((g=Lt(a,e)).c(),g.m(f.parentNode,f)):g&&(g.u(),g.d(),g=null);var n={};t.label&&(n.label=e.label),t.width&&(n.width=e.width||"100px"),y._set(n),e.customizable&&e.expanded?x?x.p(t,e):((x=Dt(a,e)).c(),x.m(_.parentNode,_)):x&&(x.u(),x.d(),x=null)},u:function(){m&&m.u(),g&&g.u(),y._unmount(),i(v),x&&x.u(),i(_)},d:function(){m&&m.d(),g&&g.d(),y.destroy(!1),x&&x.d()}}),this.root._oncreate.push(function(){w.fire("update",{changed:{$vis:1,keys:1,customizable:1,axis:1,custom:1,palette:1,$themeData:1,value:1,selected:1,label:1,width:1,hexColor:1,open:1,expanded:1,compact:1,colorKeys:1,customColor:1,openCustom:1},current:w._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function Bt(t){var e=t.changed,n=t.current,r=t.previous;if(e.selected&&n.selected&&this.set({value:"custom"!==n.selected?n.selected:n.custom+" "}),e.value&&r){for(var i=0,a=n.options;i<a.length;i+=1){if(a[i].f===n.value)return void this.set({selected:n.value,custom:""})}this.set({selected:"custom",custom:n.value})}e.custom&&n.custom&&"custom"===n.selected&&this.set({value:n.custom})}function Yt(e,a){var o,l,u,s=a.opt,c=(a.each_value,a.opt_index,s.l);return{c:function(){o=f("option"),l=h(c),this.h()},h:function(){o.__value=u=s.f,o.value=o.__value},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){s=e.opt,e.each_value,e.opt_index,t.options&&c!==(c=s.l)&&(l.data=c),t.options&&u!==(u=s.f)&&(o.__value=u),o.value=o.__value},u:function(){i(o)},d:t}}function Kt(t,e){var n,a=!1;function o(){a=!0,t.set({custom:n.value}),a=!1}return{c:function(){n=f("input"),this.h()},h:function(){v(n,"input",o),m(n,"type","text"),n.disabled=e.disabled,n.className="svelte-6348wb"},m:function(t,i){r(n,t,i),n.value=e.custom},p:function(t,e){a||(n.value=e.custom),t.disabled&&(n.disabled=e.disabled)},u:function(){i(n)},d:function(){_(n,"input",o)}}}function Gt(e,o){var l,u,s,c,d;return{c:function(){l=f("div"),u=h("For help on custom formats, check the "),s=f("noscript"),c=f("noscript"),d=h("."),this.h()},h:function(){l.className="small svelte-6348wb"},m:function(t,e){r(l,t,e),n(u,l),n(s,l),s.insertAdjacentHTML("afterend",o.customFormatHelp),n(c,l),n(d,l)},p:function(t,e){t.customFormatHelp&&(a(s,c),s.insertAdjacentHTML("afterend",e.customFormatHelp))},u:function(){a(s,c),i(l)},d:t}}function Wt(t){T(this,t),this._state=e(e(this.store._init(["vis","dataset"]),{axis:!1,value:"",custom:"",selected:null,type:!1,disabled:!1}),t.data),this.store._add(this,["vis","dataset"]),this._recompute({$vis:1,$dataset:1,axis:1,axisCol:1,type:1,columnType:1,disabled:1},this._state),this._handlers.state=[Bt],this._handlers.destroy=[q];var r=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,r){for(var i,a,o,l,u,d,m,g,b,w=!1,k=r.options,N=[],M=0;M<k.length;M+=1)N[M]=Yt(0,e(e({},r),{each_value:k,opt:k[M],opt_index:M}));function C(){w=!0,t.set({selected:x(o)}),w=!1}var S="custom"==r.selected&&Kt(t,r),z="custom"==r.selected&&Gt(0,r),A={type:"custom-format",width:r.width||"100px",valign:"top",label:r.label,disabled:r.disabled},j=new xt({root:t.root,slots:{default:c()},data:A});return{c:function(){i=h("\n    "),a=f("div"),o=f("select");for(var t=0;t<N.length;t+=1)N[t].c();l=f("option"),u=h("(custom)"),d=h("\n        "),S&&S.c(),m=h("\n    "),z&&z.c(),g=p(),b=h("\n"),j._fragment.c(),this.h()},h:function(){l.__value="custom",l.value=l.__value,v(o,"change",C),"selected"in r||t.root._beforecreate.push(C),o.disabled=r.disabled,o.className="svelte-6348wb",a.className="flex svelte-6348wb"},m:function(t,e){n(i,j._slotted.default),n(a,j._slotted.default),n(o,a);for(var s=0;s<N.length;s+=1)N[s].m(o,null);n(l,o),n(u,l),y(o,r.selected),n(d,a),S&&S.m(a,null),n(m,j._slotted.default),z&&z.m(j._slotted.default,null),n(g,j._slotted.default),n(b,j._slotted.default),j._mount(t,e)},p:function(n,r){var i=r.options;if(n.options){for(var u=0;u<i.length;u+=1){var s=e(e({},r),{each_value:i,opt:i[u],opt_index:u});N[u]?N[u].p(n,s):(N[u]=Yt(0,s),N[u].c(),N[u].m(o,l))}for(;u<N.length;u+=1)N[u].u(),N[u].d();N.length=i.length}w||y(o,r.selected),n.disabled&&(o.disabled=r.disabled),"custom"==r.selected?S?S.p(n,r):((S=Kt(t,r)).c(),S.m(a,null)):S&&(S.u(),S.d(),S=null),"custom"==r.selected?z?z.p(n,r):((z=Gt(0,r)).c(),z.m(g.parentNode,g)):z&&(z.u(),z.d(),z=null);var c={};n.width&&(c.width=r.width||"100px"),n.label&&(c.label=r.label),n.disabled&&(c.disabled=r.disabled),j._set(c)},u:function(){for(var t=0;t<N.length;t+=1)N[t].u();S&&S.u(),z&&z.u(),j._unmount()},d:function(){s(N),_(o,"change",C),S&&S.d(),z&&z.d(),j.destroy(!1)}}}(this,this._state),this.root._oncreate.push(function(){var t={columnType:1,disabled:1,axisCol:1,type:1,$vis:1,$dataset:1,axis:1,width:1,label:1,selected:1,options:1,custom:1,customFormatHelp:1};Bt.call(r,{changed:t,current:r._state}),r.fire("update",{changed:t,current:r._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}e($t.prototype,E),e($t.prototype,St),$t.prototype._recompute=function(t,e){t.$themeData&&this._differs(e.palette,e.palette=e.$themeData.colors.palette)&&(t.palette=!0),(t.$vis||t.keys||t.customizable||t.axis||t.custom||t.palette)&&this._differs(e.colorKeys,e.colorKeys=Ct(e))&&(t.colorKeys=!0),(t.value||t.palette)&&this._differs(e.hexColor,e.hexColor=function(t){return jt(t.value,t.palette)}(e))&&(t.hexColor=!0),(t.selected||t.palette||t.custom)&&this._differs(e.customColor,e.customColor=function(t){var e=t.selected,n=t.palette,r=t.custom;if(void 0===r[e[0]])return"#ccc";var i=e.filter(function(t){return void 0!==r[t]}).map(function(t){return jt(r[t],n)});return i.length?J.average(i,"lab"):"#ccc"}(e))&&(t.customColor=!0)},e(Wt.prototype,E),Wt.prototype._recompute=function(t,e){(t.$vis||t.$dataset||t.axis)&&this._differs(e.axisCol,e.axisCol=function(t){var e=t.$vis,n=t.$dataset,r=t.axis;if(!e||!r)return null;var i=e.axes()[r];return n.column("object"==typeof i?i[0]:i)}(e))&&(t.axisCol=!0),(t.axisCol||t.type)&&this._differs(e.columnType,e.columnType=function(t){var e=t.axisCol,n=t.type;return e?e.type():n||"number"}(e))&&(t.columnType=!0),(t.columnType||t.disabled)&&this._differs(e.customFormatHelp,e.customFormatHelp=function(t){var e=t.columnType,n=t.disabled;return"date"===e?(n?"":'<a href="http://momentjs.com/docs/#/displaying/format/" target="_blank">')+"moment.js documentation"+(n?"":"</a>"):"number"===e?(n?"":'<a href="http://numeraljs.com/#format" target="_blank">')+"numeral.js documentation"+(n?"":"</a>"):""}(e))&&(t.customFormatHelp=!0),t.columnType&&this._differs(e.options,e.options=function(t){var e=t.columnType;return"number"===e?[{l:"1,000[.00]",f:"0,0.[00]"},{l:"0",f:"0"},{l:"0.0",f:"0.0"},{l:"0.00",f:"0.00"},{l:"0.000",f:"0.000"},{l:"0.[0]",f:"0.[0]"},{l:"0.[00]",f:"0.[00]"},{l:"0%",f:"0%"},{l:"0.0%",f:"0.0%"},{l:"0.00%",f:"0.00%"},{l:"0.[0]%",f:"0.[0]%"},{l:"0.[00]%",f:"0.[00]%"},{l:"10,000",f:"0,0"},{l:"1st",f:"0o"},{l:"123k",f:"0a"},{l:"123.4k",f:"0.[0]a"},{l:"123.45k",f:"0.[00]a"}]:"date"===e?[{l:"2015, 2016",f:"YYYY"},{l:"2015 Q1, 2015 Q2",f:"YYYY [Q]Q"},{l:"2015, Q2, Q3",f:"YYYY|[Q]Q"},{l:"2015, Feb, Mar",f:"YYYY|MMM"},{l:"’15, ’16",f:"’YY"},{l:"April, May",f:"MMMM"},{l:"Apr, May",f:"MMM"},{l:"Apr ’15, May ’15",f:"MMM ’YY"},{l:"April, 2, 3",f:"MMM|DD"}]:[]}(e))&&(t.options=!0)};function Qt(t,e){var a,o,l,u,s=e.opt,c=(e.each_value,e.opt_index,s.label);return{c:function(){a=f("li"),o=f("a"),this.h()},h:function(){v(o,"click",Jt),o.href=l="#/"+s.value,o._svelte={component:t,each_value:e.each_value,opt_index:e.opt_index},a.className=u=(e.value==s.value?"selected":"")+" svelte-kh5nv7"},m:function(t,e){r(a,t,e),n(o,a),o.innerHTML=c},p:function(t,e){s=e.opt,e.each_value,e.opt_index,t.options&&c!==(c=s.label)&&(o.innerHTML=c),t.options&&l!==(l="#/"+s.value)&&(o.href=l),o._svelte.each_value=e.each_value,o._svelte.opt_index=e.opt_index,(t.value||t.options)&&u!==(u=(e.value==s.value?"selected":"")+" svelte-kh5nv7")&&(a.className=u)},u:function(){o.innerHTML="",i(a)},d:function(){_(o,"click",Jt)}}}function Ut(t,n){for(var a,o=n.options,l=[],u=0;u<o.length;u+=1)l[u]=Qt(t,e(e({},n),{each_value:o,opt:o[u],opt_index:u}));return{c:function(){for(var t=0;t<l.length;t+=1)l[t].c();a=p()},m:function(t,e){for(var n=0;n<l.length;n+=1)l[n].m(t,e);r(a,t,e)},p:function(n,r){var i=r.options;if(n.value||n.options){for(var o=0;o<i.length;o+=1){var u=e(e({},r),{each_value:i,opt:i[o],opt_index:o});l[o]?l[o].p(n,u):(l[o]=Qt(t,u),l[o].c(),l[o].m(a.parentNode,a))}for(;o<l.length;o+=1)l[o].u(),l[o].d();l.length=i.length}},u:function(){for(var t=0;t<l.length;t+=1)l[t].u();i(a)},d:function(){s(l)}}}function Jt(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.opt_index];e.select(t,n)}function Xt(t){T(this,t),this._state=e({forcePlaceholder:!1,disabled:!1,width:"auto",options:[],optgroups:[],placeholder:"(select an item)"},t.data),this._recompute({value:1,options:1,placeholder:1,forcePlaceholder:1},this._state),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var r,i,a,l,u,s,d,p,g,y,x,w,k;function N(e){t.keydown(e)}var M=e.options.length&&Ut(t,e),C={disabled:e.disabled},S=new B({root:t.root,slots:{default:c(),button:c(),content:c()},data:C}),z={width:e.width,inline:!0,label:e.label,disabled:e.disabled},A=new xt({root:t.root,slots:{default:c()},data:z});return{c:function(){r=h("\n    "),i=h("\n        "),a=f("span"),l=f("div"),u=f("button"),s=f("noscript"),d=h("\n                    "),p=f("span"),g=h("\n        "),y=f("span"),x=f("ul"),M&&M.c(),w=h("\n    "),S._fragment.c(),k=h("\n"),A._fragment.c(),this.h()},h:function(){p.className="caret svelte-kh5nv7",v(u,"keydown",N),u.className="btn dropdown-toggle svelte-kh5nv7",m(u,"class:disabled",!0),l.className="btn-group",m(a,"slot","button"),x.className="dropdown-menu svelte-kh5nv7",b(x,"display","block"),m(y,"slot","content")},m:function(t,o){n(r,A._slotted.default),n(i,S._slotted.default),n(a,S._slotted.button),n(l,a),n(u,l),n(s,u),s.insertAdjacentHTML("beforebegin",e.currentLabel),n(d,u),n(p,u),n(g,S._slotted.default),n(y,S._slotted.content),n(x,y),M&&M.m(x,null),n(w,S._slotted.default),S._mount(A._slotted.default,null),n(k,A._slotted.default),A._mount(t,o)},p:function(e,n){e.currentLabel&&(o(s),s.insertAdjacentHTML("beforebegin",n.currentLabel)),n.options.length?M?M.p(e,n):((M=Ut(t,n)).c(),M.m(x,null)):M&&(M.u(),M.d(),M=null);var r={};e.disabled&&(r.disabled=n.disabled),S._set(r);var i={};e.width&&(i.width=n.width),i.inline=!0,e.label&&(i.label=n.label),e.disabled&&(i.disabled=n.disabled),A._set(i)},u:function(){o(s),M&&M.u(),A._unmount()},d:function(){_(u,"keydown",N),M&&M.d(),S.destroy(!1),A.destroy(!1)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function Vt(t,e){var r,i,a,o={},l={disabled:e.disabled,indeterminate:e.indeterminate.underline};"underline"in e.value&&(l.value=e.value.underline,o.value=!0);var u=new Y({root:t.root,slots:{default:c()},data:l,_bind:function(e,n){var r=t.get(),i={};!o.value&&e.value&&(r.value.underline=n.value,i.value=r.value),t._set(i),o={}}});return t.root._beforecreate.push(function(){u._bind({value:1},u.get())}),{c:function(){r=h("\n            "),i=f("i"),a=h("\n        "),u._fragment.c(),this.h()},h:function(){i.className="fa fa-fw fa-underline"},m:function(t,e){n(r,u._slotted.default),n(i,u._slotted.default),n(a,u._slotted.default),u._mount(t,e)},p:function(t,e){var n={};t.disabled&&(n.disabled=e.disabled),t.indeterminate&&(n.indeterminate=e.indeterminate.underline),!o.value&&t.value&&(n.value=e.value.underline,o.value=!0),u._set(n),o={}},u:function(){u._unmount()},d:function(){u.destroy(!1)}}}function Zt(t,e){var a,o,l,u,s={},d={disabled:e.disabled,indeterminate:e.indeterminate.wide};"wide"in e.value&&(d.value=e.value.wide,s.value=!0);var p=new Y({root:t.root,slots:{default:c()},data:d,_bind:function(e,n){var r=t.get(),i={};!s.value&&e.value&&(r.value.wide=n.value,i.value=r.value),t._set(i),s={}}});return t.root._beforecreate.push(function(){p._bind({value:1},p.get())}),{c:function(){a=h("\n            "),o=f("i"),l=h("\n        "),p._fragment.c(),u=h("\n        "),this.h()},h:function(){o.className="fa fa-text-width fa-fw ",m(o,"aria-hidden","true")},m:function(t,e){n(a,p._slotted.default),n(o,p._slotted.default),n(l,p._slotted.default),p._mount(t,e),r(u,t,e)},p:function(t,e){var n={};t.disabled&&(n.disabled=e.disabled),t.indeterminate&&(n.indeterminate=e.indeterminate.wide),!s.value&&t.value&&(n.value=e.value.wide,s.value=!0),p._set(n),s={}},u:function(){p._unmount(),i(u)},d:function(){p.destroy(!1)}}}function te(t,e){var r,i,a,o,l,u,s={},d={disabled:e.disabled,reset:e.colorReset};"color"in e.value&&(d.color=e.value.color,s.color=!0);var p=new mt({root:t.root,slots:{default:c()},data:d,_bind:function(e,n){var r=t.get(),i={};!s.color&&e.color&&(r.value.color=n.color,i.value=r.value),t._set(i),s={}}});return t.root._beforecreate.push(function(){p._bind({color:1},p.get())}),{c:function(){r=h("\n            "),i=f("button"),a=f("i"),o=h("\n                "),l=f("div"),u=h("\n        "),p._fragment.c(),this.h()},h:function(){a.className="fa fa-font fa-fw svelte-zqouky",m(a,"aria-hidden","true"),l.className="color-bar svelte-zqouky",b(l,"background",e.value.color),i.disabled=e.disabled,i.className="btn-color btn btn-s svelte-zqouky"},m:function(t,e){n(r,p._slotted.default),n(i,p._slotted.default),n(a,i),n(o,i),n(l,i),n(u,p._slotted.default),p._mount(t,e)},p:function(t,e){t.value&&b(l,"background",e.value.color),t.disabled&&(i.disabled=e.disabled);var n={};t.disabled&&(n.disabled=e.disabled),t.colorReset&&(n.reset=e.colorReset),!s.color&&t.value&&(n.color=e.value.color,s.color=!0),p._set(n),s={}},u:function(){p._unmount()},d:function(){p.destroy(!1)}}}function ee(t,e){var r,i,a,o,l,u,s={},d={disabled:e.disabled,reset:e.backgroundReset};"background"in e.value&&(d.color=e.value.background,s.color=!0);var p=new mt({root:t.root,slots:{default:c()},data:d,_bind:function(e,n){var r=t.get(),i={};!s.color&&e.color&&(r.value.background=n.color,i.value=r.value),t._set(i),s={}}});return t.root._beforecreate.push(function(){p._bind({color:1},p.get())}),{c:function(){r=h("\n            "),i=f("button"),a=f("i"),o=h("\n                "),l=f("div"),u=h("\n        "),p._fragment.c(),this.h()},h:function(){a.className="fa fa-paint-brush fa-fw svelte-zqouky",m(a,"aria-hidden","true"),l.className="color-bar svelte-zqouky",b(l,"background",e.value.background?e.value.background:"transparent"),i.disabled=e.disabled,i.className="btn-color btn btn-s svelte-zqouky"},m:function(t,e){n(r,p._slotted.default),n(i,p._slotted.default),n(a,i),n(o,i),n(l,i),n(u,p._slotted.default),p._mount(t,e)},p:function(t,e){t.value&&b(l,"background",e.value.background?e.value.background:"transparent"),t.disabled&&(i.disabled=e.disabled);var n={};t.disabled&&(n.disabled=e.disabled),t.backgroundReset&&(n.reset=e.backgroundReset),!s.color&&t.value&&(n.color=e.value.background,s.color=!0),p._set(n),s={}},u:function(){p._unmount()},d:function(){p.destroy(!1)}}}function ne(t,e){var n={},r={width:e.fontSizePercent?"43px":"30px",slider:!1,disabled:e.disabled,unit:e.fontSizePercent?"%":"px",step:e.fontSizePercent?.01:1,multiply:e.fontSizePercent?100:1,min:0,max:e.fontSizePercent?5:50};"fontSize"in e.value&&(r.value=e.value.fontSize,n.value=!0);var i=new I({root:t.root,data:r,_bind:function(e,r){var i=t.get(),a={};!n.value&&e.value&&(i.value.fontSize=r.value,a.value=i.value),t._set(a),n={}}});return t.root._beforecreate.push(function(){i._bind({value:1},i.get())}),{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},p:function(t,e){var r={};t.fontSizePercent&&(r.width=e.fontSizePercent?"43px":"30px"),r.slider=!1,t.disabled&&(r.disabled=e.disabled),t.fontSizePercent&&(r.unit=e.fontSizePercent?"%":"px"),t.fontSizePercent&&(r.step=e.fontSizePercent?.01:1),t.fontSizePercent&&(r.multiply=e.fontSizePercent?100:1),t.fontSizePercent&&(r.max=e.fontSizePercent?5:50),!n.value&&t.value&&(r.value=e.value.fontSize,n.value=!0),i._set(r),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}e(Xt.prototype,E),e(Xt.prototype,{select:function(t,e){t.preventDefault(),this.set({value:e.value}),this.fire("change",e.value)},keydown:function(t){"ArrowDown"===t.key?this.moveSelection(1):"ArrowUp"===t.key&&this.moveSelection(-1)},moveSelection:function(t){var e=this.get(),n=e.value,r=e.options,i=r.map(function(t){return t.value}).indexOf(n);n<0?i=t>0?t:r.length+t:i+=t;var a=r[(i+r.length)%r.length].value;this.set({value:a}),this.fire("change",a)}}),Xt.prototype._recompute=function(t,e){(t.value||t.options||t.placeholder||t.forcePlaceholder)&&this._differs(e.currentLabel,e.currentLabel=function(t){var e=t.value,n=t.options,r=t.placeholder;if(!t.forcePlaceholder)for(var i=0;i<n.length;i++)if(n[i].value===e)return n[i].label;return'<span style="color:#999;font-size:12px;">'+r+"</span>"}(e))&&(t.currentLabel=!0)},e(function(t){T(this,t),this._state=e({value:{bold:!1,italic:!1,underline:!1,wide:!1,color:"#000000",background:"#ffffff",fontSize:13,colorReset:!1,backgroundReset:!1},indeterminate:{bold:!1,italic:!1,underline:!1,wide:!1,color:!1,background:!1,fontSize:!1},disabled:!1,disabled_msg:"",width:"80px",help:"",placeholder:"",underline:!0,spacing:!1,color:!1,fontSize:!1,fontSizePercent:!1,background:!1},t.data);var r=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var r,i,a,o,l,u,s,d,v,_,m,g,b,y,x,w,k={},N={},M={disabled:e.disabled,indeterminate:e.indeterminate.bold};"bold"in e.value&&(M.value=e.value.bold,k.value=!0);var C=new Y({root:t.root,slots:{default:c()},data:M,_bind:function(e,n){var r=t.get(),i={};!k.value&&e.value&&(r.value.bold=n.value,i.value=r.value),t._set(i),k={}}});t.root._beforecreate.push(function(){C._bind({value:1},C.get())});var S={disabled:e.disabled,indeterminate:e.indeterminate.italic};"italic"in e.value&&(S.value=e.value.italic,N.value=!0);var z=new Y({root:t.root,slots:{default:c()},data:S,_bind:function(e,n){var r=t.get(),i={};!N.value&&e.value&&(r.value.italic=n.value,i.value=r.value),t._set(i),N={}}});t.root._beforecreate.push(function(){z._bind({value:1},z.get())});var A=e.underline&&Vt(t,e),j=e.spacing&&Zt(t,e),T=e.color&&te(t,e),L=e.background&&ee(t,e),O=e.fontSize&&ne(t,e),F={width:e.width,type:"radio",valign:"baseline",label:e.label,disabled:e.disabled},q=new xt({root:t.root,slots:{default:c()},data:F});return{c:function(){r=h("\n    "),i=f("div"),a=h("\n            "),o=f("i"),l=h("\n        "),C._fragment.c(),u=h("\n        "),s=h("\n            "),d=f("i"),v=h("\n        "),z._fragment.c(),_=h("\n        "),A&&A.c(),m=h(" "),j&&j.c(),g=p(),T&&T.c(),b=h(" "),L&&L.c(),y=h("\n    "),O&&O.c(),x=p(),w=h("\n"),q._fragment.c(),this.h()},h:function(){o.className="fa fa-fw fa-bold",d.className="fa fa-fw fa-italic",i.className="btn-group svelte-l5q6v5 svelte-zqouky"},m:function(t,e){n(r,q._slotted.default),n(i,q._slotted.default),n(a,C._slotted.default),n(o,C._slotted.default),n(l,C._slotted.default),C._mount(i,null),n(u,i),n(s,z._slotted.default),n(d,z._slotted.default),n(v,z._slotted.default),z._mount(i,null),n(_,i),A&&A.m(i,null),n(m,i),j&&j.m(i,null),n(g,i),T&&T.m(i,null),n(b,i),L&&L.m(i,null),n(y,q._slotted.default),O&&O.m(q._slotted.default,null),n(x,q._slotted.default),n(w,q._slotted.default),q._mount(t,e)},p:function(e,n){var r={};e.disabled&&(r.disabled=n.disabled),e.indeterminate&&(r.indeterminate=n.indeterminate.bold),!k.value&&e.value&&(r.value=n.value.bold,k.value=!0),C._set(r),k={};var a={};e.disabled&&(a.disabled=n.disabled),e.indeterminate&&(a.indeterminate=n.indeterminate.italic),!N.value&&e.value&&(a.value=n.value.italic,N.value=!0),z._set(a),N={},n.underline?A?A.p(e,n):((A=Vt(t,n)).c(),A.m(i,m)):A&&(A.u(),A.d(),A=null),n.spacing?j?j.p(e,n):((j=Zt(t,n)).c(),j.m(i,g)):j&&(j.u(),j.d(),j=null),n.color?T?T.p(e,n):((T=te(t,n)).c(),T.m(i,b)):T&&(T.u(),T.d(),T=null),n.background?L?L.p(e,n):((L=ee(t,n)).c(),L.m(i,null)):L&&(L.u(),L.d(),L=null),n.fontSize?O?O.p(e,n):((O=ne(t,n)).c(),O.m(x.parentNode,x)):O&&(O.u(),O.d(),O=null);var o={};e.width&&(o.width=n.width),e.label&&(o.label=n.label),e.disabled&&(o.disabled=n.disabled),q._set(o)},u:function(){A&&A.u(),j&&j.u(),T&&T.u(),L&&L.u(),O&&O.u(),q._unmount()},d:function(){C.destroy(!1),z.destroy(!1),A&&A.d(),j&&j.d(),T&&T.d(),L&&L.d(),O&&O.d(),q.destroy(!1)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this.get(),e=t.fontSizePercent,n=t.value;e&&13===n.fontSize&&(n.fontSize=1,this.set({value:n}))}).call(r),r.fire("update",{changed:{width:1,label:1,disabled:1,indeterminate:1,value:1,underline:1,spacing:1,color:1,colorReset:1,background:1,backgroundReset:1,fontSize:1,fontSizePercent:1},current:r._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}.prototype,E);var re={toggle:function(){if(!this.get().notoggle){var t=this.get(),e=t.open,n=t.id;if(n){var r=JSON.parse(window.localStorage.getItem("dw-vis-groups"))||{};r[n]=e?"closed":"open",window.localStorage.setItem("dw-vis-groups",JSON.stringify(r))}this.set({open:!e})}}};function ie(e,n){var a,o,l;return{c:function(){a=f("i"),o=h("\n        "),l=f("i"),this.h()},h:function(){a.className="fa fa-chevron-up expand-group pull-right",l.className="fa fa-chevron-down collapse-group pull-right"},m:function(t,e){r(a,t,e),r(o,t,e),r(l,t,e)},u:function(){i(a),i(o),i(l)},d:t}}function ae(e,a){var o,l,s=e._slotted.default;return{c:function(){o=f("div"),s||(l=h("content")),this.h()},h:function(){o.className="option-group-content vis-option-type-chart-description"},m:function(t,e){r(o,t,e),n(s||l,o)},u:function(){i(o),s&&u(o,s)},d:t}}function oe(t){T(this,t),this._state=e({notoggle:!1,id:!1,open:!0},t.data),this._slotted=t.slots||{};var a=this;t.root||(this._oncreate=[]),this.slots={},this._fragment=function(t,e){var a,o,u,s,c,d=!e.notoggle&&ie();function p(e){t.toggle()}var g=e.open&&ae(t);return{c:function(){a=f("div"),o=f("label"),d&&d.c(),u=h(" "),s=f("noscript"),c=h("\n\n    "),g&&g.c(),this.h()},h:function(){v(o,"click",p),o.className="group-title",m(a,"class:group-open","open"),m(a,"class:notoggle",!0),a.className="vis-option-type-group svelte-1dxu1tl"},m:function(t,i){r(a,t,i),n(o,a),d&&d.m(o,null),n(u,o),n(s,o),s.insertAdjacentHTML("afterend",e.label),n(c,a),g&&g.m(a,null)},p:function(e,n){n.notoggle?d&&(d.u(),d.d(),d=null):d||((d=ie()).c(),d.m(o,u)),e.label&&(l(s),s.insertAdjacentHTML("afterend",n.label)),n.open?g||((g=ae(t)).c(),g.m(a,null)):g&&(g.u(),g.d(),g=null)},u:function(){l(s),i(a),d&&d.u(),g&&g.u()},d:function(){d&&d.d(),_(o,"click",p),g&&g.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this.get()||{},e=t.id;if(!t.notoggle&&e){var n=JSON.parse(window.localStorage.getItem("dw-vis-groups"))||{};n&&n[e]&&this.set({open:"closed"!==n[e]})}}).call(a),a.fire("update",{changed:{notoggle:1,label:1,open:1},current:a._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),F(this._oncreate))}e(oe.prototype,E),e(oe.prototype,re);var le={show:function(){var t=this,e=setTimeout(function(){t.set({visible:!0})},400);this.set({t:e})},hide:function(){var t=this.get().t;clearTimeout(t),this.set({visible:!1})}};function ue(e,n){var a;return{c:function(){a=f("i"),this.h()},h:function(){a.className="im im-graduation-hat svelte-1efx6hn"},m:function(t,e){r(a,t,e)},u:function(){i(a)},d:t}}function se(e,n){var a;return{c:function(){a=h("?")},m:function(t,e){r(a,t,e)},u:function(){i(a)},d:t}}function ce(e,a){var o,l=e._slotted.default;return{c:function(){o=f("div"),this.h()},h:function(){o.className="content svelte-1efx6hn"},m:function(t,e){r(o,t,e),l&&n(l,o)},u:function(){i(o),l&&u(o,l)},d:t}}function fe(t){T(this,t),this._state=e({visible:!1},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=function(t,e){var a,o,l;function u(t){return t.visible?ue:se}var s=u(e),c=s(t,e),d=e.visible&&ce(t);function p(e){t.show()}function m(e){t.hide()}return{c:function(){a=f("div"),o=f("span"),c.c(),l=h("\n    "),d&&d.c(),this.h()},h:function(){o.className="svelte-1efx6hn",v(a,"mouseenter",p),v(a,"mouseleave",m),a.className="help svelte-1efx6hn"},m:function(t,e){r(a,t,e),n(o,a),c.m(o,null),n(l,a),d&&d.m(a,null)},p:function(e,n){s!==(s=u(n))&&(c.u(),c.d(),(c=s(t,n)).c(),c.m(o,null)),n.visible?d||((d=ce(t)).c(),d.m(a,null)):d&&(d.u(),d.d(),d=null)},u:function(){i(a),c.u(),d&&d.u()},d:function(){c.d(),d&&d.d(),_(a,"mouseenter",p),_(a,"mouseleave",m)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function de(n){var a,o,l;T(this,n),this._state=e({},n.data),this._fragment=(a=this._state,l=a.item.name||a.item.label||a.item.id,{c:function(){o=f("div")},m:function(t,e){r(o,t,e),o.innerHTML=l},p:function(t,e){t.item&&l!==(l=e.item.name||e.item.label||e.item.id)&&(o.innerHTML=l)},u:function(){o.innerHTML="",i(o)},d:t}),n.target&&(this._fragment.c(),this._mount(n.target,n.anchor))}e(fe.prototype,E),e(fe.prototype,le),e(de.prototype,E);var he={select:function(t,e,n){var r=this.get(),i=r.multiselectable,a=r.selectable,o=r.disabled;if(a&&!o)return t.stopPropagation(),i&&t.shiftKey?this.selectShift(t,e):i&&(t.ctrlKey||t.metaKey)?this.selectCtrl(t,e):void this.selectNormal(t,e)},selectNormal:function(t,e){var n=this.get().selected;0===n.length&&e.id===n[0]?n.length=0:(n.length=1,n[0]=e.id),this.set({selected:n})},selectCtrl:function(t,e){var n=this.get().selected,r=n.indexOf(e.id);r>-1?n.splice(r,1):n.push(e.id),this.set({selected:n})},selectShift:function(t,e){var n=this.get(),r=n.selected,i=n.items,a=i.map(function(t){return t.id});if(1===r.length){var o=a.indexOf(r[0]);if(o>-1){var l=i.indexOf(e);l>-1&&(r.length=0,r.push.apply(r,a.slice(Math.min(l,o),Math.max(l,o)+1)))}}else if(r.length>1){var u=a.indexOf(r[0]),s=a.indexOf(r[r.length-1]),c=i.indexOf(e);Math.abs(c-u)<Math.abs(c-s)?u=c:s=c,r.length=0,r.push.apply(r,a.slice(u,s+1))}this.set({selected:r})},dragstart:function(t,e){var n=this.get(),r=n.draggable,i=n.items,a=n.selected,o=n.disabled;r&&!o&&(a.length=1,a[0]=i[e].id,t.dataTransfer.setData("item",e),this.set({dragging:!0,selected:a}))},dragover:function(t){var e=this.get(),n=e.draggable,r=e.disabled;if(n&&!r){var i=t.target,a=i.parentElement===this.refs.list?+i.getAttribute("data-pos"):-1,o=i.getBoundingClientRect(),l=(t.clientY-o.top)/o.height;this.set({dragtarget:a,dropafter:l>.5}),t.dataTransfer.dropEffect="move"}},drop:function(t){var e=this.get(),n=e.draggable,r=e.disabled;if(n&&!r){var i=t.dataTransfer.getData("item"),a=this.get(),o=a.dragtarget,l=a.dropafter,u=a.items;if(i!==o){var s=u[o],c=u.splice(i,1)[0],f=u.indexOf(s);f||l?u.splice(f+(l?1:0),0,c):u.unshift(c)}this.set({dragging:!1,dragtarget:-1,items:u}),this.fire("itemDrag",{items:u})}}};function pe(t,e){var a,o,l=e.item,u=e.each_value,s=e.index,c={},d=e.itemRenderer;function h(e){var n={};return s in e.each_value&&(n.item=l,c.item=!0),{root:t.root,data:n,_bind:function(e,n){var r=t.get(),i={};!c.item&&e.item&&(u[s]=n.item,i.items=r.items),t._set(i),c={}}}}if(d){var p=new d(h(e));t.root._beforecreate.push(function(){p._bind({item:1},p.get())})}return{c:function(){a=f("li"),o=f("a"),p&&p._fragment.c(),this.h()},h:function(){v(o,"click|preventDefault",ve),o.href="#item-"+s,o.className="svelte-d0p0x8",o._svelte={component:t,each_value:e.each_value,index:e.index},v(a,"dragstart",_e),v(a,"click|preventDefault",me),m(a,"class:selected","selected.indexOf(item.id ) > -1"),m(a,"class:dragtarget","dragtarget === index"),m(a,"class:dropafter","dropafter"),m(a,"class:dropbefore","!dropafter"),a.dataset.pos=s,a.draggable=e.draggable,a.className="svelte-d0p0x8",a._svelte={component:t,each_value:e.each_value,index:e.index}},m:function(t,e){r(a,t,e),n(o,a),p&&p._mount(o,null)},p:function(t,e){if(l=e.item,u=e.each_value,s=e.index,d!==(d=e.itemRenderer))p&&p.destroy(),d&&((p=new d(h(e)))._fragment.c(),p._mount(o,null));else{var n={};!c.item&&t.items&&(n.item=l,c.item=!0),p._set(n),c={}}o._svelte.each_value=e.each_value,o._svelte.index=e.index,t.draggable&&(a.draggable=e.draggable),a._svelte.each_value=e.each_value,a._svelte.index=e.index},u:function(){i(a)},d:function(){p&&p.destroy(!1),_(o,"click|preventDefault",ve),_(a,"dragstart",_e),_(a,"click|preventDefault",me)}}}function ve(t){var e=this._svelte.component,n=this._svelte.each_value,r=this._svelte.index,i=n[r];e.select(t,i,r)}function _e(t){var e=this._svelte.component,n=this._svelte.each_value,r=this._svelte.index;n[r];e.dragstart(t,r)}function me(t){var e=this._svelte.component,n=this._svelte.each_value,r=this._svelte.index,i=n[r];e.select(t,i,r)}function ge(t){T(this,t),this.refs={},this._state=e({items:[],itemRenderer:de,selected:[],selectable:!0,draggable:!1,compact:!1,multiselectable:!0,dragging:!1,dragtarget:-1,dropafter:!1,disabled:!1},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,n){for(var a,o=n.items,l=[],u=0;u<o.length;u+=1)l[u]=pe(t,e(e({},n),{each_value:o,item:o[u],index:u}));function c(e){t.drop(e)}function d(e){t.dragover(e)}return{c:function(){a=f("ul");for(var t=0;t<l.length;t+=1)l[t].c();this.h()},h:function(){v(a,"drop|preventDefault",c),v(a,"dragover|preventDefault",d),a.className="unstyled svelte-d0p0x8",m(a,"class:disabled",!0),m(a,"class:dragging","dragging"),m(a,"class:compact","compact")},m:function(e,n){r(a,e,n);for(var i=0;i<l.length;i+=1)l[i].m(a,null);t.refs.list=a},p:function(n,r){var i=r.items;if(n.draggable||n.items){for(var o=0;o<i.length;o+=1){var u=e(e({},r),{each_value:i,item:i[o],index:o});l[o]?l[o].p(n,u):(l[o]=pe(t,u),l[o].c(),l[o].m(a,null))}for(;o<l.length;o+=1)l[o].u(),l[o].d();l.length=i.length}},u:function(){i(a);for(var t=0;t<l.length;t+=1)l[t].u()},d:function(){s(l),_(a,"drop|preventDefault",c),_(a,"dragover|preventDefault",d),t.refs.list===a&&(t.refs.list=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function be(t){var e=t.changed;t.previous&&e.value&&this.set({indeterminate:!1})}function ye(t,e){var a,o,l,u,s,c,d,p,g,b=e.opt,y=(e.each_value,e.opt_index,b.label);function x(){t.set({value:o.__value})}var w=b.help&&xe(t,e);return{c:function(){a=f("label"),o=f("input"),u=f("span"),s=h(" "),c=f("span"),d=h(y),p=h("\n            "),w&&w.c(),this.h()},h:function(){t._bindingGroups[0].push(o),v(o,"change",x),m(o,"type","radio"),o.__value=l=b.value,o.value=o.__value,o.disabled=e.disabled,o.className="svelte-10ew9ci",u.className="css-ui svelte-10ew9ci",a.title=g=b.tooltip||"",m(a,"class:disabled",!0),m(a,"class:has-help","opt.help"),a.className="svelte-10ew9ci"},m:function(t,i){r(a,t,i),n(o,a),o.checked=o.__value===e.value,n(u,a),n(s,a),n(c,a),n(d,c),n(p,a),w&&w.m(a,null)},p:function(e,n){b=n.opt,n.each_value,n.opt_index,o.checked=o.__value===n.value,e.options&&l!==(l=b.value)&&(o.__value=l),o.value=o.__value,e.disabled&&(o.disabled=n.disabled),e.options&&y!==(y=b.label)&&(d.data=y),b.help?w?w.p(e,n):((w=xe(t,n)).c(),w.m(a,null)):w&&(w.u(),w.d(),w=null),e.options&&g!==(g=b.tooltip||"")&&(a.title=g)},u:function(){i(a),w&&w.u()},d:function(){t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(o),1),_(o,"change",x),w&&w.d()}}}function xe(e,n){var a,o=n.opt,l=(n.each_value,n.opt_index,o.help);return{c:function(){a=f("div"),this.h()},h:function(){a.className="help svelte-10ew9ci"},m:function(t,e){r(a,t,e),a.innerHTML=l},p:function(t,e){o=e.opt,e.each_value,e.opt_index,t.options&&l!==(l=o.help)&&(a.innerHTML=l)},u:function(){a.innerHTML="",i(a)},d:t}}function we(e,a){var o,l,s,c,d=e._slotted.default;return{c:function(){o=f("div"),l=f("fieldset"),s=f("div"),this.h()},h:function(){s.className="control-group vis-option-group",l.id="visOptions",o.className=c="section "+a.id},m:function(t,e){r(o,t,e),n(l,o),n(s,l),d&&n(d,s)},p:function(t,e){t.id&&c!==(c="section "+e.id)&&(o.className=c)},u:function(){i(o),d&&u(s,d)},d:t}}function ke(e,a){var o,l,u,s=a.opt,c=(a.each_value,a.opt_index,s.label);return{c:function(){o=f("option"),l=h(c),this.h()},h:function(){o.__value=u=s.value,o.value=o.__value},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){s=e.opt,e.each_value,e.opt_index,t.options&&c!==(c=s.label)&&(l.data=c),t.options&&u!==(u=s.value)&&(o.__value=u),o.value=o.__value},u:function(){i(o)},d:t}}function Ne(t,n){for(var a,o=n.options,l=[],u=0;u<o.length;u+=1)l[u]=ke(0,e(e({},n),{each_value:o,opt:o[u],opt_index:u}));return{c:function(){for(var t=0;t<l.length;t+=1)l[t].c();a=p()},m:function(t,e){for(var n=0;n<l.length;n+=1)l[n].m(t,e);r(a,t,e)},p:function(t,n){var r=n.options;if(t.options){for(var i=0;i<r.length;i+=1){var o=e(e({},n),{each_value:r,opt:r[i],opt_index:i});l[i]?l[i].p(t,o):(l[i]=ke(0,o),l[i].c(),l[i].m(a.parentNode,a))}for(;i<l.length;i+=1)l[i].u(),l[i].d();l.length=r.length}},u:function(){for(var t=0;t<l.length;t+=1)l[t].u();i(a)},d:function(){s(l)}}}function Me(t,n){for(var a,o,l=n.optgroup,u=(n.each_value_1,n.optgroup_index,l.options),c=[],d=0;d<u.length;d+=1)c[d]=Ce(t,e(e({},n),{each_value_2:u,opt:u[d],opt_index_1:d}));return{c:function(){a=f("optgroup");for(var t=0;t<c.length;t+=1)c[t].c();this.h()},h:function(){m(a,"label",o=l.label)},m:function(t,e){r(a,t,e);for(var n=0;n<c.length;n+=1)c[n].m(a,null)},p:function(n,r){l=r.optgroup,r.each_value_1,r.optgroup_index;var i=l.options;if(n.optgroups){for(var u=0;u<i.length;u+=1){var s=e(e({},r),{each_value_2:i,opt:i[u],opt_index_1:u});c[u]?c[u].p(n,s):(c[u]=Ce(t,s),c[u].c(),c[u].m(a,null))}for(;u<c.length;u+=1)c[u].u(),c[u].d();c.length=i.length}n.optgroups&&o!==(o=l.label)&&m(a,"label",o)},u:function(){i(a);for(var t=0;t<c.length;t+=1)c[t].u()},d:function(){s(c)}}}function Ce(e,a){a.optgroup,a.each_value_1,a.optgroup_index;var o,l,u,s=a.opt,c=(a.each_value_2,a.opt_index_1,s.label);return{c:function(){o=f("option"),l=h(c),this.h()},h:function(){o.__value=u=s.value,o.value=o.__value},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){e.optgroup,e.each_value_1,e.optgroup_index,s=e.opt,e.each_value_2,e.opt_index_1,t.optgroups&&c!==(c=s.label)&&(l.data=c),t.optgroups&&u!==(u=s.value)&&(o.__value=u),o.value=o.__value},u:function(){i(o)},d:t}}function Se(t,n){for(var a,o=n.optgroups,l=[],u=0;u<o.length;u+=1)l[u]=Me(t,e(e({},n),{each_value_1:o,optgroup:o[u],optgroup_index:u}));return{c:function(){for(var t=0;t<l.length;t+=1)l[t].c();a=p()},m:function(t,e){for(var n=0;n<l.length;n+=1)l[n].m(t,e);r(a,t,e)},p:function(n,r){var i=r.optgroups;if(n.optgroups){for(var o=0;o<i.length;o+=1){var u=e(e({},r),{each_value_1:i,optgroup:i[o],optgroup_index:o});l[o]?l[o].p(n,u):(l[o]=Me(t,u),l[o].c(),l[o].m(a.parentNode,a))}for(;o<l.length;o+=1)l[o].u(),l[o].d();l.length=i.length}},u:function(){for(var t=0;t<l.length;t+=1)l[t].u();i(a)},d:function(){s(l)}}}function ze(t){var e=t.changed,n=t.current;if(e.selected&&n.selected){var r=this.get().axis,i=function(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}(this.store.getMetadata("axes",{}));"-"===n.selected?delete i[r]:i[r]=n.selected,this.store.setMetadata("axes",i)}}function Ae(e,a){var o,l,u=a.axis["na-label"]||"--";return{c:function(){o=f("option"),l=h(u),this.h()},h:function(){o.__value="-",o.value=o.__value},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){t.axis&&u!==(u=e.axis["na-label"]||"--")&&(l.data=u)},u:function(){i(o)},d:t}}function je(e,a){var o,l,u,s=a.column,c=(a.each_value,a.column_index,s.name);return{c:function(){o=f("option"),l=h(c),this.h()},h:function(){o.__value=u=s.name,o.value=o.__value},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){s=e.column,e.each_value,e.column_index,t.columns&&c!==(c=s.name)&&(l.data=c),t.columns&&u!==(u=s.name)&&(o.__value=u),o.value=o.__value},u:function(){i(o)},d:t}}function Te(t){T(this,t),this._state=e(e(this.store._init(["visualization","dataset"]),{selected:!1,width:"200px",valign:"baseline"}),t.data),this.store._add(this,["visualization","dataset"]),this._recompute({axis:1,$visualization:1,$dataset:1},this._state),this._handlers.state=[ze],this._handlers.destroy=[q];var r=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,r){for(var i,a,o,l,u=!1,d=r.$visualization&&r.$visualization.axes[r.axis].optional&&Ae(0,r),m=r.columns,g=[],w=0;w<m.length;w+=1)g[w]=je(0,e(e({},r),{each_value:m,column:m[w],column_index:w}));function k(){u=!0,t.set({selected:x(a)}),u=!1}var N={width:r.width,valign:r.valign,label:r.label},M=new xt({root:t.root,slots:{default:c()},data:N});return{c:function(){i=h("\n    "),a=f("select"),d&&d.c(),o=p();for(var t=0;t<g.length;t+=1)g[t].c();l=h("\n"),M._fragment.c(),this.h()},h:function(){v(a,"change",k),"selected"in r||t.root._beforecreate.push(k),b(a,"width","calc(100% - 50px)")},m:function(t,e){n(i,M._slotted.default),n(a,M._slotted.default),d&&d.m(a,null),n(o,a);for(var u=0;u<g.length;u+=1)g[u].m(a,null);y(a,r.selected),n(l,M._slotted.default),M._mount(t,e)},p:function(t,n){n.$visualization&&n.$visualization.axes[n.axis].optional?d?d.p(t,n):((d=Ae(0,n)).c(),d.m(a,o)):d&&(d.u(),d.d(),d=null);var r=n.columns;if(t.columns){for(var i=0;i<r.length;i+=1){var l=e(e({},n),{each_value:r,column:r[i],column_index:i});g[i]?g[i].p(t,l):(g[i]=je(0,l),g[i].c(),g[i].m(a,null))}for(;i<g.length;i+=1)g[i].u(),g[i].d();g.length=r.length}u||y(a,n.selected);var s={};t.width&&(s.width=n.width),t.valign&&(s.valign=n.valign),t.label&&(s.label=n.label),M._set(s)},u:function(){d&&d.u();for(var t=0;t<g.length;t+=1)g[t].u();M._unmount()},d:function(){d&&d.d(),s(g),_(a,"change",k),M.destroy(!1)}}}(this,this._state),this.root._oncreate.push(function(){var t={axis:1,$visualization:1,$dataset:1,width:1,valign:1,label:1,selected:1,columns:1};ze.call(r,{changed:t,current:r._state}),function(){var t=this;this.store.on("state",function(e){var n=e.current;if(e.changed.visualization){if(!t.get)return;var r=t.get();if(!r)return;if(!r.selected&&n.visualization){var i=t.store.getMetadata("axes",{})[t.get().axis];t.set({selected:i})}}})}.call(r),r.fire("update",{changed:t,current:r._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}e(ge.prototype,E),e(ge.prototype,he),e(function(t){T(this,t),this.refs={},this._state=e({width:"100px",multiply:1,unit:"",slider:!0,min:0,max:100,disabled:!1,step:1},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var r,i,a={},o={},l={disabled:e.disabled,unit:e.unit,multiply:e.multiply,step:e.step,min:e.min,max:e.max,slider:e.slider};"value"in e&&(l.value=e.value,a.value=!0);var u=new I({root:t.root,data:l,_bind:function(e,n){t.get();var r={};!a.value&&e.value&&(r.value=n.value),t._set(r),a={}}});t.root._beforecreate.push(function(){u._bind({value:1},u.get())}),t.refs.baseNumber=u;var s={disabled:e.disabled,type:"number",label:e.label,valign:"middle"};"width"in e&&(s.width=e.width,o.width=!0);var f=new xt({root:t.root,slots:{default:c()},data:s,_bind:function(e,n){t.get();var r={};!o.width&&e.width&&(r.width=n.width),t._set(r),o={}}});return t.root._beforecreate.push(function(){f._bind({width:1},f.get())}),{c:function(){r=h("\n    "),u._fragment.c(),i=h("\n"),f._fragment.c()},m:function(t,e){n(r,f._slotted.default),u._mount(f._slotted.default,null),n(i,f._slotted.default),f._mount(t,e)},p:function(t,e){var n={};t.disabled&&(n.disabled=e.disabled),t.unit&&(n.unit=e.unit),t.multiply&&(n.multiply=e.multiply),t.step&&(n.step=e.step),t.min&&(n.min=e.min),t.max&&(n.max=e.max),t.slider&&(n.slider=e.slider),!a.value&&t.value&&(n.value=e.value,a.value=!0),u._set(n),a={};var r={};t.disabled&&(r.disabled=e.disabled),t.label&&(r.label=e.label),!o.width&&t.width&&(r.width=e.width,o.width=!0),f._set(r),o={}},u:function(){f._unmount()},d:function(){u.destroy(!1),t.refs.baseNumber===u&&(t.refs.baseNumber=null),f.destroy(!1)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}.prototype,E),e(function(t){T(this,t),this._state=e({value:null,disabled:!1,indeterminate:!1,width:"auto",valign:"top",inline:!0},t.data),this._bindingGroups=[[]],this._handlers.state=[be];var r=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,r){for(var i,a,o,l=r.options,u=[],d=0;d<l.length;d+=1)u[d]=ye(t,e(e({},r),{each_value:l,opt:l[d],opt_index:d}));var p={width:r.width,type:"radio",valign:"top",label:r.label,disabled:r.disabled},v=new xt({root:t.root,slots:{default:c()},data:p});return{c:function(){i=h("\n    "),a=f("div");for(var t=0;t<u.length;t+=1)u[t].c();o=h("\n"),v._fragment.c(),this.h()},h:function(){m(a,"class:inline",!0),m(a,"class:indeterminate",!0)},m:function(t,e){n(i,v._slotted.default),n(a,v._slotted.default);for(var r=0;r<u.length;r+=1)u[r].m(a,null);n(o,v._slotted.default),v._mount(t,e)},p:function(n,r){var i=r.options;if(n.options||n.value||n.disabled){for(var o=0;o<i.length;o+=1){var l=e(e({},r),{each_value:i,opt:i[o],opt_index:o});u[o]?u[o].p(n,l):(u[o]=ye(t,l),u[o].c(),u[o].m(a,null))}for(;o<u.length;o+=1)u[o].u(),u[o].d();u.length=i.length}var s={};n.width&&(s.width=r.width),n.label&&(s.label=r.label),n.disabled&&(s.disabled=r.disabled),v._set(s)},u:function(){for(var t=0;t<u.length;t+=1)u[t].u();v._unmount()},d:function(){s(u),v.destroy(!1)}}}(this,this._state),this.root._oncreate.push(function(){var t={width:1,label:1,disabled:1,options:1,value:1};be.call(r,{changed:t,current:r._state}),r.fire("update",{changed:t,current:r._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}.prototype,E),e(function(t){var n,a,o,l;T(this,t),this._state=e({},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=(n=this,a=this._state,l=a.id==a.active&&we(n,a),{c:function(){l&&l.c(),o=p()},m:function(t,e){l&&l.m(t,e),r(o,t,e)},p:function(t,e){e.id==e.active?l?l.p(t,e):((l=we(n,e)).c(),l.m(o.parentNode,o)):l&&(l.u(),l.d(),l=null)},u:function(){l&&l.u(),i(o)},d:function(){l&&l.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}.prototype,E),e(function(t){T(this,t),this._state=e({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[]},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var r,i,a,o,l=!1,u=e.options.length&&Ne(0,e),s=e.optgroups.length&&Se(t,e);function d(){l=!0,t.set({value:x(i)}),l=!1}var m={type:"select",width:e.labelWidth,valign:"baseline",inline:!0,label:e.label,disabled:e.disabled},g=new xt({root:t.root,slots:{default:c()},data:m});return{c:function(){r=h("\n    "),i=f("select"),u&&u.c(),a=p(),s&&s.c(),o=h("\n"),g._fragment.c(),this.h()},h:function(){v(i,"change",d),"value"in e||t.root._beforecreate.push(d),i.disabled=e.disabled,b(i,"width",e.width)},m:function(t,l){n(r,g._slotted.default),n(i,g._slotted.default),u&&u.m(i,null),n(a,i),s&&s.m(i,null),y(i,e.value),n(o,g._slotted.default),g._mount(t,l)},p:function(e,n){n.options.length?u?u.p(e,n):((u=Ne(0,n)).c(),u.m(i,a)):u&&(u.u(),u.d(),u=null),n.optgroups.length?s?s.p(e,n):((s=Se(t,n)).c(),s.m(i,null)):s&&(s.u(),s.d(),s=null),l||y(i,n.value),e.disabled&&(i.disabled=n.disabled),e.width&&b(i,"width",n.width);var r={};e.labelWidth&&(r.width=n.labelWidth),r.inline=!0,e.label&&(r.label=n.label),e.disabled&&(r.disabled=n.disabled),g._set(r)},u:function(){u&&u.u(),s&&s.u(),g._unmount()},d:function(){u&&u.d(),s&&s.d(),_(i,"change",d),g.destroy(!1)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}.prototype,E),e(Te.prototype,E),Te.prototype._recompute=function(t,e){(t.axis||t.$visualization||t.$dataset)&&this._differs(e.columns,e.columns=function(t){var e=t.axis,n=t.$visualization,r=t.$dataset,i=[];return r&&n&&e?(r.eachColumn(function(t){n.axes[e].accepts.indexOf(t.type())>-1&&i.push({name:t.name()})}),i):[]}(e))&&(t.columns=!0)};function Le(t,e){var r,i,a,o,l,u=e.option,s=(e.each_value,e.option_index,u.label&&Oe(t,e)),f=u.svg&&Fe(t,e),d={notoggle:1,disabled:e.disabled,value:e.value===u.value},v=new Y({root:t.root,slots:{default:c()},data:d});return v.on("select",function(e){t.select(u)}),{c:function(){r=h("\n            "),s&&s.c(),i=p(),a=h(" "),f&&f.c(),o=p(),l=h("\n        "),v._fragment.c()},m:function(t,e){n(r,v._slotted.default),s&&s.m(v._slotted.default,null),n(i,v._slotted.default),n(a,v._slotted.default),f&&f.m(v._slotted.default,null),n(o,v._slotted.default),n(l,v._slotted.default),v._mount(t,e)},p:function(e,n){u=n.option,n.each_value,n.option_index,u.label?s?s.p(e,n):((s=Oe(t,n)).c(),s.m(i.parentNode,i)):s&&(s.u(),s.d(),s=null),u.svg?f?f.p(e,n):((f=Fe(t,n)).c(),f.m(o.parentNode,o)):f&&(f.u(),f.d(),f=null);var r={};e.disabled&&(r.disabled=n.disabled),(e.value||e.options)&&(r.value=n.value===u.value),v._set(r)},u:function(){s&&s.u(),f&&f.u(),v._unmount()},d:function(){s&&s.d(),f&&f.d(),v.destroy(!1)}}}function Oe(e,n){var a,o=n.option,l=(n.each_value,n.option_index,o.label);return{c:function(){a=f("span")},m:function(t,e){r(a,t,e),a.innerHTML=l},p:function(t,e){o=e.option,e.each_value,e.option_index,t.options&&l!==(l=o.label)&&(a.innerHTML=l)},u:function(){a.innerHTML="",i(a)},d:t}}function Fe(e,a){var o,l,u,s=a.option;a.each_value,a.option_index;return{c:function(){o=d("svg"),l=d("path"),this.h()},h:function(){m(l,"class:stroke","option.stroke"),b(l,"stroke-width",s.stroke||0),m(l,"class:crisp","option.crisp"),m(l,"class:selected","value === option.value"),m(l,"d",u=s.svg),m(l,"class","svelte-glvnmn"),m(o,"height","16"),m(o,"viewBox","0 0 24 24"),m(o,"xmlns","http://www.w3.org/2000/svg"),m(o,"fill-rule","evenodd"),m(o,"clip-rule","evenodd"),m(o,"class","svelte-glvnmn")},m:function(t,e){r(o,t,e),n(l,o)},p:function(t,e){s=e.option,e.each_value,e.option_index,t.options&&b(l,"stroke-width",s.stroke||0),t.options&&u!==(u=s.svg)&&m(l,"d",u)},u:function(){i(o)},d:t}}function qe(t){T(this,t),this._state=e({disabled:!1,width:"auto",value:"red",options:[],optgroups:[]},t.data),this._slotted=t.slots||{},t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,r){for(var i,a,o,l,d=t._slotted.default,p=r.options,v=[],_=0;_<p.length;_+=1)v[_]=Le(t,e(e({},r),{each_value:p,option:p[_],option_index:_}));var m={type:"select",width:r.width,valign:"middle",inline:!0,label:r.label,disabled:r.disabled},g=new xt({root:t.root,slots:{default:c()},data:m});return{c:function(){i=h("\n    "),a=f("div");for(var t=0;t<v.length;t+=1)v[t].c();o=h("\n    "),l=h("\n"),g._fragment.c(),this.h()},h:function(){a.className="btn-group svelte-l5q6v5"},m:function(t,e){n(i,g._slotted.default),n(a,g._slotted.default);for(var r=0;r<v.length;r+=1)v[r].m(a,null);n(o,g._slotted.default),d&&n(d,g._slotted.default),n(l,g._slotted.default),g._mount(t,e)},p:function(n,r){var i=r.options;if(n.disabled||n.options||n.value){for(var o=0;o<i.length;o+=1){var l=e(e({},r),{each_value:i,option:i[o],option_index:o});v[o]?v[o].p(n,l):(v[o]=Le(t,l),v[o].c(),v[o].m(a,null))}for(;o<v.length;o+=1)v[o].u(),v[o].d();v.length=i.length}var u={};n.width&&(u.width=r.width),u.inline=!0,n.label&&(u.label=r.label),n.disabled&&(u.disabled=r.disabled),g._set(u)},u:function(){for(var t=0;t<v.length;t+=1)v[t].u();d&&u(g._slotted.default,d),g._unmount()},d:function(){s(v),g.destroy(!1)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}e(qe.prototype,E),e(qe.prototype,{select:function(t){this.set({value:t.value})}});function Ee(t){var e=this,n=t.changed,r=t.current;t.previous;n.value&&r.value&&(this.set({highlight:!0}),setTimeout(function(){e.set({highlight:!1})},300))}function Pe(t,e){var r,i,a=t._slotted.help,o=new fe({root:t.root,slots:{default:c()}});return{c:function(){r=h("\n        "),i=h("\n    "),o._fragment.c()},m:function(t,e){n(r,o._slotted.default),a&&n(a,o._slotted.default),n(i,o._slotted.default),o._mount(t,e)},u:function(){a&&u(o._slotted.default,a),o._unmount()},d:function(){o.destroy(!1)}}}function He(e,a){var o,l,u,s,c;return{c:function(){o=f("div"),l=f("div"),this.h()},h:function(){l.className="disabled-msg svelte-f43ms8"},m:function(t,e){r(o,t,e),n(l,o),l.innerHTML=a.disabled_msg},p:function(t,e){(c||t.disabled_msg)&&(l.innerHTML=e.disabled_msg)},i:function(t,n){s||(s=!0,c=!1,e.root._aftercreate.push(function(){u||(u=k(e,o,G,{},!0)),u.run(!0,function(){e.fire("intro.end",{node:o})})}),this.m(t,n))},o:function(t){if(!c){c=!0,s=!1;var n=1;u.run(!1,function(){e.fire("outro.end",{node:o}),0==--n&&t(),u=null})}},u:function(){l.innerHTML="",i(o)},d:t}}function Re(e,a){var o,l,s,c,d,h=e._slotted.default;return{c:function(){o=f("div"),l=f("div"),this.h()},h:function(){l.className="switch-content svelte-f43ms8"},m:function(t,e){r(o,t,e),n(l,o),h&&n(h,l)},p:t,i:function(t,n){c||(c=!0,d=!1,e.root._aftercreate.push(function(){s||(s=k(e,o,G,{},!0)),s.run(!0,function(){e.fire("intro.end",{node:o})})}),this.m(t,n))},o:function(t){if(!d){d=!0,c=!1;var n=1;s.run(!1,function(){e.fire("outro.end",{node:o}),0==--n&&t(),s=null})}},u:function(){i(o),h&&u(l,h)},d:t}}function De(t){T(this,t),this._state=e({value:!1,hasHelp:!1,disabled_msg:"",disabled_state:"auto",disabled:!1,highlight:!1,indeterminate:!1},t.data),this._handlers.state=[Ee],this._slotted=t.slots||{};var a=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,e){var a,o,u,s,c,d,p,g,y,x,w,k,N,M=e.hasHelp&&Pe(t);function C(){t.set({value:c.checked,indeterminate:c.indeterminate})}function S(e){t.toggle()}var z=[He,Re],A=[];function j(t){return t.disabled&&t.disabled_msg?0:t.disabled&&"on"!=t.disabled_state||!t.value||t.indeterminate?-1:1}return~(k=j(e))&&(N=A[k]=z[k](t,e)),{c:function(){a=f("div"),M&&M.c(),o=h("\n    "),u=f("label"),s=f("button"),c=f("input"),p=f("span"),g=h("\n        "),y=f("noscript"),w=h("\n    "),N&&N.c(),this.h()},h:function(){v(c,"change",C),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(C),c.className=d=(e.disabled&&"on"==e.disabled_state?"disabled-force-checked":e.disabled&&"off"==e.disabled_state?"disabled-force-unchecked":"")+" svelte-f43ms8",c.disabled=e.disabled,m(c,"type","checkbox"),p.className="slider round svelte-f43ms8",v(s,"click",S),s.className="switch svelte-f43ms8",u.className=x="switch-outer "+(e.disabled?"disabled":"")+" svelte-f43ms8",b(u,"padding-left","40px"),m(a,"class:highlight",!0),a.className="control-group vis-option-group vis-option-type-switch svelte-f43ms8"},m:function(t,i){r(a,t,i),M&&M.m(a,null),n(o,a),n(u,a),n(s,u),n(c,s),c.checked=e.value,c.indeterminate=e.indeterminate,n(p,s),n(g,u),n(y,u),y.insertAdjacentHTML("afterend",e.label),n(w,a),~k&&A[k].i(a,null)},p:function(e,n){n.hasHelp?M||((M=Pe(t)).c(),M.m(a,o)):M&&(M.u(),M.d(),M=null),c.checked=n.value,c.indeterminate=n.indeterminate,(e.disabled||e.disabled_state)&&d!==(d=(n.disabled&&"on"==n.disabled_state?"disabled-force-checked":n.disabled&&"off"==n.disabled_state?"disabled-force-unchecked":"")+" svelte-f43ms8")&&(c.className=d),e.disabled&&(c.disabled=n.disabled),e.label&&(l(y),y.insertAdjacentHTML("afterend",n.label)),e.disabled&&x!==(x="switch-outer "+(n.disabled?"disabled":"")+" svelte-f43ms8")&&(u.className=x);var r=k;(k=j(n))===r?~k&&A[k].p(e,n):(N&&N.o(function(){A[r].u(),A[r].d(),A[r]=null}),~k?((N=A[k])||(N=A[k]=z[k](t,n)).c(),N.i(a,null)):N=null)},u:function(){l(y),i(a),M&&M.u()},d:function(){M&&M.d(),_(c,"change",C),_(s,"click",S),~k&&(A[k].u(),A[k].d())}}}(this,this._state),this.root._oncreate.push(function(){var t={hasHelp:1,disabled:1,disabled_state:1,value:1,indeterminate:1,label:1,disabled_msg:1};Ee.call(a,{changed:t,current:a._state}),function(){this.set({hasHelp:!(!this.options||!this.options.slots||!this.options.slots.help)})}.call(a),a.fire("update",{changed:t,current:a._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function Ie(e,a){var o,l,u,s,c;return{c:function(){o=f("div"),l=f("div"),this.h()},h:function(){l.className="disabled-msg svelte-1qnxtfn"},m:function(t,e){r(o,t,e),n(l,o),l.innerHTML=a.disabled_msg},p:function(t,e){(c||t.disabled_msg)&&(l.innerHTML=e.disabled_msg)},i:function(t,n){s||(s=!0,c=!1,e.root._aftercreate.push(function(){u||(u=k(e,o,G,{},!0)),u.run(!0,function(){e.fire("intro.end",{node:o})})}),this.m(t,n))},o:function(t){if(!c){c=!0,s=!1;var n=1;u.run(!1,function(){e.fire("outro.end",{node:o}),0==--n&&t(),u=null})}},u:function(){l.innerHTML="",i(o)},d:t}}function $e(t){T(this,t),this._state=e({disabled:!1,disabled_msg:"",width:"100px",help:"",placeholder:""},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var a,o,l,u,s,d=!1;function g(){d=!0,t.set({value:o.value}),d=!1}var b={disabled:e.disabled,type:"text",width:e.width,label:e.label,help:e.help},y=new xt({root:t.root,slots:{default:c()},data:b}),x=e.disabled&&e.disabled_msg&&Ie(t,e);return{c:function(){a=h("\n    "),o=f("input"),l=h("\n"),y._fragment.c(),u=h("\n\n"),x&&x.c(),s=p(),this.h()},h:function(){v(o,"input",g),o.disabled=e.disabled,m(o,"type","text"),o.className="input-large svelte-1qnxtfn",o.placeholder=e.placeholder},m:function(t,i){n(a,y._slotted.default),n(o,y._slotted.default),o.value=e.value,n(l,y._slotted.default),y._mount(t,i),r(u,t,i),x&&x.i(t,i),r(s,t,i)},p:function(e,n){d||(o.value=n.value),e.disabled&&(o.disabled=n.disabled),e.placeholder&&(o.placeholder=n.placeholder);var r={};e.disabled&&(r.disabled=n.disabled),e.width&&(r.width=n.width),e.label&&(r.label=n.label),e.help&&(r.help=n.help),y._set(r),n.disabled&&n.disabled_msg?(x?x.p(e,n):(x=Ie(t,n))&&x.c(),x.i(s.parentNode,s)):x&&x.o(function(){x.u(),x.d(),x=null})},u:function(){y._unmount(),i(u),x&&x.u(),i(s)},d:function(){_(o,"input",g),y.destroy(!1),x&&x.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function Be(t){T(this,t),this._state=e({placeholder:""},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(t,e){var r,i,a,o=!1;function l(){o=!0,t.set({value:i.value}),o=!1}var u={disabled:e.disabled,type:"textarea",width:e.width,label:e.label,help:e.help},s=new xt({root:t.root,slots:{default:c()},data:u});return{c:function(){r=h("\n    "),i=f("textarea"),a=h("\n"),s._fragment.c(),this.h()},h:function(){v(i,"input",l),i.placeholder=e.placeholder,b(i,"width",e.width||"auto")},m:function(t,o){n(r,s._slotted.default),n(i,s._slotted.default),i.value=e.value,n(a,s._slotted.default),s._mount(t,o)},p:function(t,e){o||(i.value=e.value),t.placeholder&&(i.placeholder=e.placeholder),t.width&&b(i,"width",e.width||"auto");var n={};t.disabled&&(n.disabled=e.disabled),t.width&&(n.width=e.width),t.label&&(n.label=e.label),t.help&&(n.help=e.help),s._set(n)},u:function(){s._unmount()},d:function(){_(i,"input",l),s.destroy(!1)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}e(De.prototype,E),e(De.prototype,{toggle:function(){var t=this.get(),e=t.disabled,n=t.indeterminate;e||this.set({value:!!n||!this.get().value,indeterminate:!1})}}),e($e.prototype,E),e(Be.prototype,E);var Ye={focus:function(){this.refs.searchInput.focus()},blur:function(){this.refs.searchInput.blur()},onClick:function(t){this.set({open:!0}),this.fire("focus",t)},search:function(t){this.set({open:!0}),this.fire("search",{query:t})},select:function(t,e){this.set({selectedItem:t,query:t.display||t.title||t.name,open:!1}),e&&e.stopPropagation(),this.fire("select",{item:t})},keyup:function(t){if(t){if(13===t.keyCode){var e=this.get().selectedItem;this.select(e)}if(38===t.keyCode||40===t.keyCode){var n=this.get(),r=n.selectedIndex,i=n.matches;isNaN(r)&&(r=-1);var a=i.length||0;38===t.keyCode&&(r=(r-1+a)%a),40===t.keyCode&&(r=(r+1)%a),this.set({selectedIndex:r,selectedItem:i[r]})}27===t.keyCode&&(this.set({open:!1}),this.blur())}}};function Ke(t){var e=t.changed,n=t.current;if(e.selectedIndex&&this.refs.dropdown){var r=this.refs.dropdown,i=n.selectedIndex,a=r.children[i].getBoundingClientRect(),o=r.getBoundingClientRect();a.y+a.height-o.y>o.height?r.scrollBy(0,a.y+a.height-o.y-o.height+5):a.y-o.y<0&&r.scrollBy(0,a.y-o.y-5)}}function Ge(e,n){var a,o;return{c:function(){a=f("i"),this.h()},h:function(){a.className=o="icon "+n.icon+" svelte-6lqhz6"},m:function(t,e){r(a,t,e)},p:function(t,e){t.icon&&o!==(o="icon "+e.icon+" svelte-6lqhz6")&&(a.className=o)},u:function(){i(a)},d:t}}function We(t,e){var n,a,o,l=e.item,u=(e.each_value,e.i),s=l.display||l.title||l.name;return{c:function(){n=f("li"),this.h()},h:function(){v(n,"click",Ue),n.className=a=(u==e.selectedIndex?"selected":"")+" svelte-6lqhz6",n.style.cssText=o=l.style||"",n._svelte={component:t,each_value:e.each_value,i:e.i}},m:function(t,e){r(n,t,e),n.innerHTML=s},p:function(t,e){l=e.item,e.each_value,u=e.i,t.matches&&s!==(s=l.display||l.title||l.name)&&(n.innerHTML=s),t.selectedIndex&&a!==(a=(u==e.selectedIndex?"selected":"")+" svelte-6lqhz6")&&(n.className=a),t.matches&&o!==(o=l.style||"")&&(n.style.cssText=o),n._svelte.each_value=e.each_value,n._svelte.i=e.i},u:function(){n.innerHTML="",i(n)},d:function(){_(n,"click",Ue)}}}function Qe(t,n){for(var a,o=n.matches,l=[],u=0;u<o.length;u+=1)l[u]=We(t,e(e({},n),{each_value:o,item:o[u],i:u}));return{c:function(){a=f("ul");for(var t=0;t<l.length;t+=1)l[t].c();this.h()},h:function(){a.className="dropdown-results svelte-6lqhz6"},m:function(e,n){r(a,e,n);for(var i=0;i<l.length;i+=1)l[i].m(a,null);t.refs.dropdown=a},p:function(n,r){var i=r.matches;if(n.selectedIndex||n.matches){for(var o=0;o<i.length;o+=1){var u=e(e({},r),{each_value:i,item:i[o],i:o});l[o]?l[o].p(n,u):(l[o]=We(t,u),l[o].c(),l[o].m(a,null))}for(;o<l.length;o+=1)l[o].u(),l[o].d();l.length=i.length}},u:function(){i(a);for(var t=0;t<l.length;t+=1)l[t].u()},d:function(){s(l),t.refs.dropdown===a&&(t.refs.dropdown=null)}}}function Ue(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.i];e.select(n,t)}function Je(t){T(this,t),this.refs={},this._state=e({selection:"",query:"",icon:!1,placeholder:"",filter:"indexOf",selectedItem:void 0,selectedIndex:void 0,searching:!1,open:!1,items:[]},t.data),this._recompute({query:1,items:1,filter:1},this._state),this._handlers.update=[Ke],this._slotted=t.slots||{};var a=this;t.root||(this._oncreate=[]),this.slots={},this._fragment=function(t,e){var a,o,l,s,c,d,p,g,b,y,x=!1,w=t._slotted.button;function k(e){t.set({open:!1})}function N(){x=!0,t.set({query:l.value}),x=!1}function M(e){t.keyup(e)}function C(e){var n=t.get();t.search(n.query)}window.addEventListener("click",k);var S=e.icon&&Ge(0,e);function z(e){t.set({open:!0})}var A=e.open&&e.matches.length&&Qe(t,e);function j(e){t.onClick(e)}function T(t){t.stopPropagation()}return{c:function(){a=f("div"),o=f("div"),l=f("input"),c=h("\n\n        "),S&&S.c(),d=h("\n\n        "),p=f("div"),w||((g=f("button")).innerHTML='<span class="caret"></span>'),b=h("\n\n        "),A&&A.c(),this.h()},h:function(){v(l,"input",N),v(l,"keydown",M),v(l,"input",C),m(l,"type","search"),l.placeholder=s=e.open?e.placeholder:e.selection||e.placeholder,l.className="svelte-6lqhz6",w||(v(g,"click",z),g.className="btn btn-small btn-primary svelte-6lqhz6"),p.className="btn-wrap svelte-6lqhz6",v(o,"click",j),o.className=y="dropdown "+(e.icon?"icon":"")+" "+(!e.open&&e.selection?"selection":"")+" svelte-6lqhz6",v(a,"click",T),a.className="control-group vis-option-group vis-option-type-select"},m:function(i,u){r(a,i,u),n(o,a),n(l,o),t.refs.searchInput=l,l.value=e.query,n(c,o),S&&S.m(o,null),n(d,o),n(p,o),n(w||g,p),n(b,o),A&&A.m(o,null)},p:function(e,n){x||(l.value=n.query),(e.open||e.placeholder||e.selection)&&s!==(s=n.open?n.placeholder:n.selection||n.placeholder)&&(l.placeholder=s),n.icon?S?S.p(e,n):((S=Ge(0,n)).c(),S.m(o,d)):S&&(S.u(),S.d(),S=null),n.open&&n.matches.length?A?A.p(e,n):((A=Qe(t,n)).c(),A.m(o,null)):A&&(A.u(),A.d(),A=null),(e.icon||e.open||e.selection)&&y!==(y="dropdown "+(n.icon?"icon":"")+" "+(!n.open&&n.selection?"selection":"")+" svelte-6lqhz6")&&(o.className=y)},u:function(){i(a),S&&S.u(),w&&u(p,w),A&&A.u()},d:function(){window.removeEventListener("click",k),_(l,"input",N),_(l,"keydown",M),_(l,"input",C),t.refs.searchInput===l&&(t.refs.searchInput=null),S&&S.d(),w||_(g,"click",z),A&&A.d(),_(o,"click",j),_(a,"click",T)}}}(this,this._state),this.root._oncreate.push(function(){a.fire("update",{changed:{query:1,items:1,filter:1,icon:1,open:1,selection:1,placeholder:1,matches:1,selectedIndex:1},current:a._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),F(this._oncreate))}function Xe(t){var e=t.changed,n=t.current,r=this.store.get().dw_chart;if(e.customFields&&n.customFields){var i=r.get("metadata.custom",{});n.customFields.forEach(function(t){i[t.key]||(i[t.key]="")}),this.set({custom:i,initialized:!0})}e.custom&&n.initialized&&(r.set("metadata.custom",n.custom),r.saveSoon&&r.saveSoon())}function Ve(e,n){var a,o,l;return{c:function(){a=f("i"),o=h("\n            "),l=f("i"),this.h()},h:function(){a.className="fa fa-chevron-up expand-group pull-right",l.className="fa fa-chevron-down collapse-group pull-right"},m:function(t,e){r(a,t,e),r(o,t,e),r(l,t,e)},u:function(){i(a),i(o),i(l)},d:t}}function Ze(t,e){var n,a=e.field;e.each_value,e.field_index;function o(t){return"text"==a.type?tn:"textArea"==a.type?en:null}var l=o(),u=l&&l(t,e);return{c:function(){u&&u.c(),n=p()},m:function(t,e){u&&u.m(t,e),r(n,t,e)},p:function(e,r){a=r.field,r.each_value,r.field_index,l===(l=o())&&u?u.p(e,r):(u&&(u.u(),u.d()),(u=l&&l(t,r))&&u.c(),u&&u.m(n.parentNode,n))},u:function(){u&&u.u(),i(n)},d:function(){u&&u.d()}}}function tn(t,e){var n=e.field,r=(e.each_value,e.field_index,{}),i={labelWidth:"auto",label:n.title,help:n.description};n.key in e.custom&&(i.value=e.custom[n.key],r.value=!0);var a=new $e({root:t.root,data:i,_bind:function(e,i){var a=t.get(),o={};!r.value&&e.value&&(a.custom[n.key]=i.value,o.custom=a.custom),t._set(o),r={}}});return t.root._beforecreate.push(function(){a._bind({value:1},a.get())}),{c:function(){a._fragment.c()},m:function(t,e){a._mount(t,e)},p:function(t,e){n=e.field,e.each_value,e.field_index;var i={};t.customFields&&(i.label=n.title),t.customFields&&(i.help=n.description),(!r.value&&t.custom||t.customFields)&&(i.value=e.custom[n.key],r.value=!0),a._set(i),r={}},u:function(){a._unmount()},d:function(){a.destroy(!1)}}}function en(t,e){var n=e.field,r=(e.each_value,e.field_index,{}),i={labelWidth:"auto",label:n.title,help:n.description};n.key in e.custom&&(i.value=e.custom[n.key],r.value=!0);var a=new Be({root:t.root,data:i,_bind:function(e,i){var a=t.get(),o={};!r.value&&e.value&&(a.custom[n.key]=i.value,o.custom=a.custom),t._set(o),r={}}});return t.root._beforecreate.push(function(){a._bind({value:1},a.get())}),{c:function(){a._fragment.c()},m:function(t,e){a._mount(t,e)},p:function(t,e){n=e.field,e.each_value,e.field_index;var i={};t.customFields&&(i.label=n.title),t.customFields&&(i.help=n.description),(!r.value&&t.custom||t.customFields)&&(i.value=e.custom[n.key],r.value=!0),a._set(i),r={}},u:function(){a._unmount()},d:function(){a.destroy(!1)}}}function nn(t,a){var o,l,u,c,d,p,g=!a.notoggle&&Ve();function b(e){t.toggle()}for(var y=a.customFields,x=[],w=0;w<y.length;w+=1)x[w]=Ze(t,e(e({},a),{each_value:y,field:y[w],field_index:w}));return{c:function(){o=f("div"),l=f("label"),g&&g.c(),u=h(" Custom fields"),c=h("\n\n        "),d=f("div"),p=f("div");for(var t=0;t<x.length;t+=1)x[t].c();this.h()},h:function(){v(l,"click",b),l.className="group-title",m(p,"svelte-ref-customFields",""),p.className="svelte-jjuh81",d.className="option-group-content vis-option-type-chart-description",o.className="vis-option-type-group group-open"},m:function(e,i){r(o,e,i),n(l,o),g&&g.m(l,null),n(u,l),n(c,o),n(d,o),n(p,d);for(var a=0;a<x.length;a+=1)x[a].m(p,null);t.refs.customFields=p},p:function(n,r){r.notoggle?g&&(g.u(),g.d(),g=null):g||((g=Ve()).c(),g.m(l,u));var i=r.customFields;if(n.customFields||n.custom){for(var a=0;a<i.length;a+=1){var o=e(e({},r),{each_value:i,field:i[a],field_index:a});x[a]?x[a].p(n,o):(x[a]=Ze(t,o),x[a].c(),x[a].m(p,null))}for(;a<x.length;a+=1)x[a].u(),x[a].d();x.length=i.length}},u:function(){i(o),g&&g.u();for(var t=0;t<x.length;t+=1)x[t].u()},d:function(){g&&g.d(),_(l,"click",b),s(x),t.refs.customFields===p&&(t.refs.customFields=null)}}}function rn(t){T(this,t),this.refs={},this._state=e({customFields:[],custom:{},initialized:!1},t.data),this._handlers.state=[Xe];var n,a,o,l,u=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(n=this,a=this._state,l=a.customFields.length&&a.initialized&&nn(n,a),{c:function(){l&&l.c(),o=p()},m:function(t,e){l&&l.m(t,e),r(o,t,e)},p:function(t,e){e.customFields.length&&e.initialized?l?l.p(t,e):((l=nn(n,e)).c(),l.m(o.parentNode,o)):l&&(l.u(),l.d(),l=null)},u:function(){l&&l.u(),i(o)},d:function(){l&&l.d()}}),this.root._oncreate.push(function(){var t={customFields:1,initialized:1,notoggle:1,custom:1};Xe.call(u,{changed:t,current:u._state}),u.fire("update",{changed:t,current:u._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,F(this._beforecreate),F(this._oncreate),F(this._aftercreate),this._lock=!1)}function an(t,n){this._observers={pre:M(),post:M()},this._handlers={},this._dependents=[],this._computed=M(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?z:S}e(Je.prototype,E),e(Je.prototype,Ye),Je.prototype._recompute=function(t,e){var n,r,i;(t.query||t.items||t.filter)&&this._differs(e.matches,e.matches=(r=(n=e).query,i=n.items,n.filter&&r?i&&i.filter?i.filter(function(t){return(t.search||t.title||t.name).toLowerCase().indexOf(r.toLowerCase())>-1}):[]:i))&&(t.matches=!0)},e(rn.prototype,E),e(an.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=M();function i(a){if(t[a])throw new Error("Cyclical dependency detected");if(!r[a]){r[a]=!0;var o=e[a];o&&(t[a]=!0,o.deps.forEach(i),n.push(o))}}for(var a in this._computed)t=M(),i(a)},compute:function(t,e,n){var r,i=this,a={deps:e,update:function(a,o,l){var u=e.map(function(t){return t in o&&(l=!0),a[t]});if(l){var s=n.apply(null,u);i._differs(s,r)&&(r=s,o[t]=!0,a[t]=r)}}};a.update(this._state,{},!0),this._computed[t]=a,this._sortComputedProperties()},fire:A,get:j,observe:L,on:O,onchange:function(t){return console.warn("store.onchange is deprecated in favour of store.on('state', event => {...})"),this.on("state",function(e){t(e.current,e.changed)})},set:function(t){var n=this._state,r=this._changed={},i=!1;for(var a in t){if(this._computed[a])throw new Error("'"+a+"' is a read-only property");this._differs(t[a],n[a])&&(r[a]=i=!0)}if(i){this._state=e(e({},n),t);for(var o=0;o<this._sortedComputedProperties.length;o+=1)this._sortedComputedProperties[o].update(this._state,r);this.fire("state",{changed:r,current:this._state,previous:n});var l=this._dependents.slice();for(o=0;o<l.length;o+=1){var u=l[o],s={};i=!1;for(var c=0;c<u.props.length;c+=1){var f=u.props[c];f in r&&(s["$"+f]=this._state[f],i=!0)}i&&u.component.set(s)}this.fire("update",{changed:r,current:this._state,previous:n})}}});return{App:rn,data:{chart:{id:""}},store:new an({}),init:function(t){window.dw.backend.on("dataset-loaded",function(){t.store.set({dataset:chart.dataset()})}).on("theme-changed-and-loaded",function(){t.store.set({theme:window.dw.theme(chart.get("theme"))})}).on("backend-vis-loaded",function(e){t.store.set({vis:e})})}}});
