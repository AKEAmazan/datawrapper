!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("chroma")):"function"==typeof define&&define.amd?define(["chroma"],t):e.controls=t(e.chroma)}(this,function(e){"use strict";function t(){}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){t.appendChild(e)}function i(e,t,n){t.insertBefore(e,n)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function l(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function s(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function r(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function u(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function f(){return document.createComment("")}function d(e,t,n){e.addEventListener(t,n,!1)}function v(e,t,n){e.removeEventListener(t,n,!1)}function p(e,t,n){e.setAttribute(t,n)}function m(e){return""===e?void 0:+e}function g(e,t,n){e.style.setProperty(t,n)}function b(e,t){for(var n=0;n<e.options.length;n+=1){var o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function x(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function k(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function y(e,t){e._handlers=Object.create(null),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function N(e){for(;e&&e.length;)e.shift()()}function C(){this.store._remove(this)}e=e&&e.hasOwnProperty("default")?e.default:e;var M,w={destroy:k,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}},observe:function(e,t,n){var o=t.bind(this);return n&&!1===n.init||o(this.get()[e],void 0),this.on(n&&n.defer?"update":"state",function(t){t.changed[e]&&o(t.current[e],t.previous&&t.previous[e])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(n({},e)),this.root._lock||(this.root._lock=!0,N(this.root._beforecreate),N(this.root._oncreate),N(this.root._aftercreate),this.root._lock=!1)},teardown:k,_recompute:t,_set:function(e){var t=this._state,o={},i=!1;for(var a in e)this._differs(e[a],t[a])&&(o[a]=i=!0);i&&(this._state=n(n({},t),e),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:t}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:t})))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}};function H(e){y(this,e),this._state=n({disabled:!1},e.data),this._fragment=function(e,t){var n,c,l,s,r,f;function _(){e.set({value:l.checked})}return{c:function(){n=u("div"),c=u("label"),l=u("input"),s=h("Â "),r=h(t.label),this.h()},h:function(){d(l,"change",_),p(l,"type","checkbox"),l.disabled=t.disabled,l.className="svelte-llolt7",c.className=f="checkbox "+(t.disabled?"disabled":"")+" svelte-llolt7",n.className="control-group vis-option-group vis-option-type-checkbox"},m:function(e,a){i(n,e,a),o(c,n),o(l,c),l.checked=t.value,o(s,c),o(r,c)},p:function(e,t){l.checked=t.value,e.disabled&&(l.disabled=t.disabled),e.label&&(r.data=t.label),e.disabled&&f!==(f="checkbox "+(t.disabled?"disabled":"")+" svelte-llolt7")&&(c.className=f)},u:function(){a(n)},d:function(){v(l,"change",_)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}n(H.prototype,w);var $={bodyClick:function(e){if(M.get){var t=M.get().visible,n=e.target;if(t){for(;!n.classList.contains("color-picker-cont")&&"body"!=n.nodeName.toLowerCase();)n=n.parentNode;M.set({visible:n!=window.document.body})}}}};function L(){window.document.body.removeEventListener("click",this.bodyClick)}function T(t,n){var o=-1,i=999999;return t[0]==t[1]?"-":(t.forEach(function(t,a){var c=e.distance(t,n,"lab");c<i&&(i=c,o=a)}),t[o])}function Y(e,t,n,o,i){var a=[e],c=t/n,l=0;for(o=_.isUndefined(o)?n:o,i=i||1;n-- >0;)l+=c,a.unshift(e-l),o-- >0&&a.push(e+l);return a}function K(e,t){var n,o,c=t.c;t.each_value,t.c_index;return{c:function(){n=u("div"),this.h()},h:function(){d(n,"click",S),d(n,"dblclick",E),n.className="color",n.dataset.color=o=c,g(n,"background",c),n._svelte={component:e,each_value:t.each_value,c_index:t.c_index}},m:function(e,t){i(n,e,t)},p:function(e,t){c=t.c,t.each_value,t.c_index,e.palette&&o!==(o=c)&&(n.dataset.color=o),e.palette&&g(n,"background",c),n._svelte.each_value=t.each_value,n._svelte.c_index=t.c_index},u:function(){a(n)},d:function(){v(n,"click",S),v(n,"dblclick",E)}}}function j(e,t){var n,o,c,l=t.c;t.each_value_1,t.c_index_1;return{c:function(){n=u("div"),this.h()},h:function(){d(n,"click",F),n.className=o="color "+(l==t.nearest_l?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,g(n,"background",l),n._svelte={component:e,each_value_1:t.each_value_1,c_index_1:t.c_index_1}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_1,t.c_index_1,(e.gradient_l||e.nearest_l)&&o!==(o="color "+(l==t.nearest_l?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_l&&c!==(c=l)&&(n.dataset.color=c),e.gradient_l&&g(n,"background",l),n._svelte.each_value_1=t.each_value_1,n._svelte.c_index_1=t.c_index_1},u:function(){a(n)},d:function(){v(n,"click",F)}}}function z(e,t){var n,o,c,l=t.c;t.each_value_2,t.c_index_2;return{c:function(){n=u("div"),this.h()},h:function(){d(n,"click",Q),n.className=o="color "+(l==t.nearest_c?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,g(n,"background",l),n._svelte={component:e,each_value_2:t.each_value_2,c_index_2:t.c_index_2}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_2,t.c_index_2,(e.gradient_c||e.nearest_c)&&o!==(o="color "+(l==t.nearest_c?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_c&&c!==(c=l)&&(n.dataset.color=c),e.gradient_c&&g(n,"background",l),n._svelte.each_value_2=t.each_value_2,n._svelte.c_index_2=t.c_index_2},u:function(){a(n)},d:function(){v(n,"click",Q)}}}function A(e,t){var n,o,c,l=t.c;t.each_value_3,t.c_index_3;return{c:function(){n=u("div"),this.h()},h:function(){d(n,"click",D),n.className=o="color "+(l==t.nearest_h?"selected":"")+" svelte-sffwrd",n.dataset.color=c=l,g(n,"background",l),n._svelte={component:e,each_value_3:t.each_value_3,c_index_3:t.c_index_3}},m:function(e,t){i(n,e,t)},p:function(e,t){l=t.c,t.each_value_3,t.c_index_3,(e.gradient_h||e.nearest_h)&&o!==(o="color "+(l==t.nearest_h?"selected":"")+" svelte-sffwrd")&&(n.className=o),e.gradient_h&&c!==(c=l)&&(n.dataset.color=c),e.gradient_h&&g(n,"background",l),n._svelte.each_value_3=t.each_value_3,n._svelte.c_index_3=t.c_index_3},u:function(){a(n)},d:function(){v(n,"click",D)}}}function O(e,t){for(var c,l,s,f,_,m,b,x,k,y,N,C,M,w,H,$=!1,L=t.palette,T=[],Y=0;Y<L.length;Y+=1)T[Y]=K(e,n(n({},t),{each_value:L,c:L[Y],c_index:Y}));var O=t.gradient_l,S=[];for(Y=0;Y<O.length;Y+=1)S[Y]=j(e,n(n({},t),{each_value_1:O,c:O[Y],c_index_1:Y}));var E=t.gradient_c,F=[];for(Y=0;Y<E.length;Y+=1)F[Y]=z(e,n(n({},t),{each_value_2:E,c:E[Y],c_index_2:Y}));var Q=t.gradient_h,D=[];for(Y=0;Y<Q.length;Y+=1)D[Y]=A(e,n(n({},t),{each_value_3:Q,c:Q[Y],c_index_3:Y}));function G(){$=!0,e.set({color:N.value}),$=!1}function P(t){e.set({visible:!1})}return{c:function(){c=u("div"),l=u("div");for(var e=0;e<T.length;e+=1)T[e].c();s=h("\n\n        "),f=u("div");for(e=0;e<S.length;e+=1)S[e].c();_=h("\n        "),m=u("div");for(e=0;e<F.length;e+=1)F[e].c();b=h("\n        "),x=u("div");for(e=0;e<D.length;e+=1)D[e].c();k=h("\n\n        "),y=u("div"),N=u("input"),C=h("\n            "),(M=u("button")).innerHTML='<i class="icon-ok"></i>',w=h("\n            "),H=u("div"),this.h()},h:function(){l.className="palette",f.className="color-axis lightness",m.className="color-axis saturation",x.className="color-axis hue",d(N,"input",G),p(N,"type","text"),g(N,"background",t.color),g(N,"border-color",t.borderColor),g(N,"color",t.textColor),N.className="hex svelte-sffwrd",d(M,"click",P),M.className="btn btn-small ok",H.className="color selected",g(H,"background",t.color),y.className="footer",c.className="color-selector"},m:function(e,n){i(c,e,n),o(l,c);for(var a=0;a<T.length;a+=1)T[a].m(l,null);o(s,c),o(f,c);for(a=0;a<S.length;a+=1)S[a].m(f,null);o(_,c),o(m,c);for(a=0;a<F.length;a+=1)F[a].m(m,null);o(b,c),o(x,c);for(a=0;a<D.length;a+=1)D[a].m(x,null);o(k,c),o(y,c),o(N,y),N.value=t.color,o(C,y),o(M,y),o(w,y),o(H,y)},p:function(t,o){var i=o.palette;if(t.palette){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,c:i[a],c_index:a});T[a]?T[a].p(t,c):(T[a]=K(e,c),T[a].c(),T[a].m(l,null))}for(;a<T.length;a+=1)T[a].u(),T[a].d();T.length=i.length}var s=o.gradient_l;if(t.gradient_l||t.nearest_l){for(a=0;a<s.length;a+=1){var r=n(n({},o),{each_value_1:s,c:s[a],c_index_1:a});S[a]?S[a].p(t,r):(S[a]=j(e,r),S[a].c(),S[a].m(f,null))}for(;a<S.length;a+=1)S[a].u(),S[a].d();S.length=s.length}var u=o.gradient_c;if(t.gradient_c||t.nearest_c){for(a=0;a<u.length;a+=1){var h=n(n({},o),{each_value_2:u,c:u[a],c_index_2:a});F[a]?F[a].p(t,h):(F[a]=z(e,h),F[a].c(),F[a].m(m,null))}for(;a<F.length;a+=1)F[a].u(),F[a].d();F.length=u.length}var d=o.gradient_h;if(t.gradient_h||t.nearest_h){for(a=0;a<d.length;a+=1){var _=n(n({},o),{each_value_3:d,c:d[a],c_index_3:a});D[a]?D[a].p(t,_):(D[a]=A(e,_),D[a].c(),D[a].m(x,null))}for(;a<D.length;a+=1)D[a].u(),D[a].d();D.length=d.length}$||(N.value=o.color),t.color&&g(N,"background",o.color),t.borderColor&&g(N,"border-color",o.borderColor),t.textColor&&g(N,"color",o.textColor),t.color&&g(H,"background",o.color)},u:function(){a(c);for(var e=0;e<T.length;e+=1)T[e].u();for(e=0;e<S.length;e+=1)S[e].u();for(e=0;e<F.length;e+=1)F[e].u();for(e=0;e<D.length;e+=1)D[e].u()},d:function(){r(T),r(S),r(F),r(D),v(N,"input",G),v(M,"click",P)}}}function S(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];t.set({color:n})}function E(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];t.set({color:n,visible:!1})}function F(e){var t=this._svelte.component,n=this._svelte.each_value_1[this._svelte.c_index_1];t.set({color:n})}function Q(e){var t=this._svelte.component,n=this._svelte.each_value_2[this._svelte.c_index_2];t.set({color:n})}function D(e){var t=this._svelte.component,n=this._svelte.each_value_3[this._svelte.c_index_3];t.set({color:n})}function G(e){y(this,e),this._state=n({palette:[],color:"#63c0de",visible:!1},e.data),this._recompute({color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1},this._state),this._handlers.destroy=[L];var t=this;e.root||(this._oncreate=[]),this._fragment=function(e,t){var n,c,l;function s(t){e.set({visible:!0})}var r=t.visible&&t.color&&O(e,t);return{c:function(){n=u("div"),(c=u("div")).innerHTML='<div class="arrow"></div>',l=h("\n    "),r&&r.c(),this.h()},h:function(){d(c,"click",s),c.className="base-color-picker color-picker",g(c,"background",t.color+" none repeat scroll 0% 0%"),n.className="color-picker-cont svelte-sffwrd"},m:function(e,t){i(n,e,t),o(c,n),o(l,n),r&&r.m(n,null)},p:function(t,o){t.color&&g(c,"background",o.color+" none repeat scroll 0% 0%"),o.visible&&o.color?r?r.p(t,o):((r=O(e,o)).c(),r.m(n,null)):r&&(r.u(),r.d(),r=null)},u:function(){a(n),r&&r.u()},d:function(){v(c,"click",s),r&&r.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;e.observe("color",function(t,n){e.get().visible&&t!=n&&e.fire("change",t)}),M=this,window.document.body.addEventListener("click",this.bodyClick)}).call(t),t.fire("update",{changed:{color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1,visible:1,nearest_l:1,nearest_c:1,nearest_h:1,borderColor:1,textColor:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),N(this._oncreate))}function P(e){var t=e.$vis,n=e.customizable,o=e.axis,i=e.custom,a=e.palette;return t&&n?(o?_.unique(t.axes(!0)[o].values()):t.colorKeys?t.colorKeys():t.keys()).map(function(e){var t;return t=e,{key:e=dw.utils.purifyHtml(t,""),defined:void 0!==i[e],color:void 0!==i[e]?R(i[e],a):"#cccccc"}}):[]}n(G.prototype,w),n(G.prototype,$),G.prototype._recompute=function(t,n){var o,i,a;t.color&&this._differs(n.gradient_l,n.gradient_l=(o=n.color,i=e(o).lch(),a=Y(70,55,7,6).map(function(t){return e.lch(t,i[1],i[2]).hex()}),e.scale(["#000000"].concat(a).concat("#ffffff")).mode("lch").gamma(.8).padding(.1).colors(14)))&&(t.gradient_l=!0),(t.color||t.palette)&&this._differs(n.gradient_c,n.gradient_c=function(t){var n=t.color,o=t.palette,i=e(n).set("lch.c",120);isNaN(i.get("lch.h"))&&(i=e.lch(i.get("lch.l"),50,e(o[0]).get("lch.h")));var a=e(n).set("lch.c",3);return e.scale([a,i]).mode("lch").gamma(1.2).colors(14)}(n))&&(t.gradient_c=!0),t.color&&this._differs(n.gradient_h,n.gradient_h=function(t){var n=t.color,o=e(n).lch(),i=Y(o[2],75,7,6).map(function(t){return e.lch(o[0],o[1],t).hex()});return e.scale(i).mode("lch").colors(14)}(n))&&(t.gradient_h=!0),(t.color||t.gradient_l)&&this._differs(n.nearest_l,n.nearest_l=function(e){var t=e.color;return T(e.gradient_l,t)}(n))&&(t.nearest_l=!0),(t.color||t.gradient_c)&&this._differs(n.nearest_c,n.nearest_c=function(e){var t=e.color;return T(e.gradient_c,t)}(n))&&(t.nearest_c=!0),(t.color||t.gradient_h)&&this._differs(n.nearest_h,n.nearest_h=function(e){var t=e.color;return T(e.gradient_h,t)}(n))&&(t.nearest_h=!0),t.color&&(this._differs(n.textColor,n.textColor=function(t){var n=t.color;return e(n).get("lab.l")>60?"black":"white"}(n))&&(t.textColor=!0),this._differs(n.borderColor,n.borderColor=function(t){var n=t.color;return e(n).darker().hex()}(n))&&(t.borderColor=!0))};var q={update:function(e){var t=this.get().palette;this.set({value:I(e,t)})},updateCustom:function(e){var t=this.get(),n=t.selected,o=t.palette,i=t.custom;n.forEach(function(t){return i[t]=I(e,o)}),this.set({custom:i})},toggle:function(e){e.preventDefault();var t=this.get().expanded;this.set({expanded:!t})},toggleSelect:function(e,t){t.preventDefault();var n=this.get().selected,o=n.indexOf(e);t.shiftKey?o>-1?n.splice(o,1):n.push(e):(n.length=1,n[0]=e),this.set({selected:n})},getColor:function(e){return R(e,this.get().palette)},reset:function(){var e=this.get(),t=e.selected,n=e.custom;t.forEach(function(e){return delete n[e]}),this.set({custom:n})},resetAll:function(){var e=this.get().custom;Object.keys(e).forEach(function(t){return delete e[t]}),this.set({custom:e})},selectAll:function(e){e.preventDefault();var t=this.get(),n=t.selected;t.colorKeys.forEach(function(e){n.indexOf(e.key)<0&&n.push(e.key)}),this.set({selected:n})},selectNone:function(e){e.preventDefault();var t=this.get().selected;t.length=0,this.set({selected:t})},selectInvert:function(e){e.preventDefault();var t=this.get(),n=t.selected,o=t.colorKeys;console.log(n),o.forEach(function(e){var t=n.indexOf(e.key);t<0?n.push(e.key):n.splice(t,1)}),console.log(n),this.set({selected:n})}};function I(e,t){var n=t.indexOf(e);return n>-1?n:e}function R(e,t){return"number"==typeof e?t[e%t.length]:e}function B(e,t){var n={},o={color:t.hexColor,palette:t.palette};"open"in t&&(o.visible=t.open,n.visible=!0);var i=new G({root:e.root,data:o,_bind:function(t,o){e.get();var i={};!n.visible&&t.visible&&(i.open=o.visible),e._set(i),n={}}});return e.root._beforecreate.push(function(){i._bind({visible:1},i.get())}),i.on("change",function(t){e.update(t)}),{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var o={};e.hexColor&&(o.color=t.hexColor),e.palette&&(o.palette=t.palette),!n.visible&&e.open&&(o.visible=t.open,n.visible=!0),i._set(o),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function U(e,t){var n,c,l;function s(t){e.toggle(t)}return{c:function(){n=u("span"),(c=u("a")).textContent="customize colors...",this.h()},h:function(){d(c,"click",s),c.href="#customize",c.className=l="btn btn-small custom "+(t.expanded?"btn-primary":""),p(c,"role","button"),n.className="custom-color-selector-head"},m:function(e,t){i(n,e,t),o(c,n)},p:function(e,t){e.expanded&&l!==(l="btn btn-small custom "+(t.expanded?"btn-primary":""))&&(c.className=l)},u:function(){a(n)},d:function(){v(c,"click",s)}}}function J(e,t){var n,c,l,s,r,f,_,p,m=t.k,b=(t.each_value,t.k_index,m.defined?"":"Ã"),x=m.key;return{c:function(){n=u("li"),c=u("div"),l=h(b),s=h("\n                    "),r=u("label"),f=h(x),this.h()},h:function(){c.className="color",g(c,"background",m.color),d(n,"click",Z),n.className=_=t.selected.indexOf(m.key)>-1?"selected":"",n.dataset.series=p=m.key,n._svelte={component:e,each_value:t.each_value,k_index:t.k_index}},m:function(e,t){i(n,e,t),o(c,n),o(l,c),o(s,n),o(r,n),o(f,r)},p:function(e,t){m=t.k,t.each_value,t.k_index,e.colorKeys&&b!==(b=m.defined?"":"Ã")&&(l.data=b),e.colorKeys&&g(c,"background",m.color),e.colorKeys&&x!==(x=m.key)&&(f.data=x),(e.selected||e.colorKeys)&&_!==(_=t.selected.indexOf(m.key)>-1?"selected":"")&&(n.className=_),e.colorKeys&&p!==(p=m.key)&&(n.dataset.series=p),n._svelte.each_value=t.each_value,n._svelte.k_index=t.k_index},u:function(){a(n)},d:function(){v(n,"click",Z)}}}function V(e,t){var n,c,l,s={},r={color:t.customColor,palette:t.palette};"openCustom"in t&&(r.visible=t.openCustom,s.visible=!0);var f=new G({root:e.root,data:r,_bind:function(t,n){e.get();var o={};!s.visible&&t.visible&&(o.openCustom=n.visible),e._set(o),s={}}});function _(t){e.reset()}return e.root._beforecreate.push(function(){f._bind({visible:1},f.get())}),f.on("change",function(t){e.updateCustom(t)}),{c:function(){n=u("div"),f._fragment.c(),c=h("\n                "),(l=u("button")).textContent="Reset",this.h()},h:function(){d(l,"click",_),l.className="btn",n.className="select"},m:function(e,t){i(n,e,t),f._mount(n,null),o(c,n),o(l,n)},p:function(e,t){var n={};e.customColor&&(n.color=t.customColor),e.palette&&(n.palette=t.palette),!s.visible&&e.openCustom&&(n.visible=t.openCustom,s.visible=!0),f._set(n),s={}},u:function(){a(n)},d:function(){f.destroy(!1),v(l,"click",_)}}}function W(e,n){var o;return{c:function(){(o=u("div")).textContent="Please select an element on the left to change colors for individual elements...",this.h()},h:function(){o.className="info"},m:function(e,t){i(o,e,t)},p:t,u:function(){a(o)},d:t}}function X(e,t){for(var c,l,s,f,_,p,m,b,x,k,y,N,C,M,w,H,$,L,T,Y,K=t.colorKeys,j=[],z=0;z<K.length;z+=1)j[z]=J(e,n(n({},t),{each_value:K,k:K[z],k_index:z}));function A(t){e.selectAll(t)}function O(t){e.selectNone(t)}function S(t){e.selectInvert(t)}function E(e){return e.selected.length?V:W}var F=E(t),Q=F(e,t);function D(t){e.resetAll()}return{c:function(){c=u("div"),l=u("div"),s=u("div"),(f=u("h4")).textContent="Select element(s):",_=h("\n            "),p=u("ul");for(var e=0;e<j.length;e+=1)j[e].c();m=h("\n            "),b=u("div"),x=h("Select: Â \n                "),(k=u("a")).textContent="all",y=h(" Â \n                "),(N=u("a")).textContent="none",C=h(" Â \n                "),(M=u("a")).textContent="invert",w=h("\n        "),H=u("div"),($=u("h4")).textContent="Choose a color:",L=h("\n            "),Q.c(),T=h("\n            "),(Y=u("button")).textContent="Reset all colors",this.h()},h:function(){p.className="dataseries unstyled",d(k,"click",A),k.href="#/select-all",d(N,"click",O),N.href="#/select-none",d(M,"click",S),M.href="#/select-invert",g(b,"font-size","12px"),g(b,"text-align","center"),g(b,"margin-bottom","10px"),s.className="span2",g(s,"width","43%"),d(Y,"click",D),g(Y,"margin-top","20px"),Y.className="btn",H.className="span2",g(H,"width","42%"),l.className="row",c.className="custom-color-selector-body",g(c,"display","block")},m:function(e,t){i(c,e,t),o(l,c),o(s,l),o(f,s),o(_,s),o(p,s);for(var n=0;n<j.length;n+=1)j[n].m(p,null);o(m,s),o(b,s),o(x,b),o(k,b),o(y,b),o(N,b),o(C,b),o(M,b),o(w,l),o(H,l),o($,H),o(L,H),Q.m(H,null),o(T,H),o(Y,H)},p:function(t,o){var i=o.colorKeys;if(t.colorKeys||t.selected){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,k:i[a],k_index:a});j[a]?j[a].p(t,c):(j[a]=J(e,c),j[a].c(),j[a].m(p,null))}for(;a<j.length;a+=1)j[a].u(),j[a].d();j.length=i.length}F===(F=E(o))&&Q?Q.p(t,o):(Q.u(),Q.d(),(Q=F(e,o)).c(),Q.m(H,T))},u:function(){a(c);for(var e=0;e<j.length;e+=1)j[e].u();Q.u()},d:function(){r(j),v(k,"click",A),v(N,"click",O),v(M,"click",S),Q.d(),v(Y,"click",D)}}}function Z(e){var t=this._svelte.component,n=this._svelte.each_value[this._svelte.k_index];t.toggleSelect(n.key,e)}function ee(e){y(this,e),this._state=n(n(this.store._init(["vis","theme"]),{open:!1,openCustom:!1,customizable:!1,expanded:!1,selected:[],custom:{}}),e.data),this.store._add(this,["vis","theme"]),this._recompute({$theme:1,$vis:1,customizable:1,axis:1,custom:1,palette:1,value:1,selected:1},this._state),this._handlers.destroy=[C];var t,c,l,s,r,d,_,v,p,m,b,x,k=this;e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(t=this,c=this._state,m=c.hexColor&&B(t,c),b=c.customizable&&U(t,c),x=c.customizable&&c.expanded&&X(t,c),{c:function(){l=u("div"),s=u("label"),r=h("\n    "),d=u("div"),m&&m.c(),_=h("\n\n        "),b&&b.c(),v=h("\n\n"),x&&x.c(),p=f(),this.h()},h:function(){s.className="control-label",g(s,"width","100px"),d.className="controls",l.className="control-group vis-option-type-color"},m:function(e,t){i(l,e,t),o(s,l),s.innerHTML=c.label,o(r,l),o(d,l),m&&m.m(d,null),o(_,d),b&&b.m(d,null),i(v,e,t),x&&x.m(e,t),i(p,e,t)},p:function(e,n){e.label&&(s.innerHTML=n.label),n.hexColor?m?m.p(e,n):((m=B(t,n)).c(),m.m(d,_)):m&&(m.u(),m.d(),m=null),n.customizable?b?b.p(e,n):((b=U(t,n)).c(),b.m(d,null)):b&&(b.u(),b.d(),b=null),n.customizable&&n.expanded?x?x.p(e,n):((x=X(t,n)).c(),x.m(p.parentNode,p)):x&&(x.u(),x.d(),x=null)},u:function(){s.innerHTML="",a(l),m&&m.u(),b&&b.u(),a(v),x&&x.u(),a(p)},d:function(){m&&m.d(),b&&b.d(),x&&x.d()}}),this.root._oncreate.push(function(){(function(){var e=this;this.observe("custom",function(t){t&&0===t.length&&(t={}),e.set({custom:t})})}).call(k),k.fire("update",{changed:{$vis:1,customizable:1,axis:1,custom:1,palette:1,$theme:1,value:1,selected:1,label:1,hexColor:1,open:1,expanded:1,colorKeys:1,customColor:1,openCustom:1},current:k._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,N(this._beforecreate),N(this._oncreate),N(this._aftercreate),this._lock=!1)}n(ee.prototype,w),n(ee.prototype,q),ee.prototype._recompute=function(t,n){t.$theme&&this._differs(n.palette,n.palette=n.$theme.colors.palette)&&(t.palette=!0),(t.$vis||t.customizable||t.axis||t.custom||t.palette)&&this._differs(n.colorKeys,n.colorKeys=P(n))&&(t.colorKeys=!0),(t.value||t.palette)&&this._differs(n.hexColor,n.hexColor=function(e){return R(e.value,e.palette)}(n))&&(t.hexColor=!0),(t.selected||t.palette||t.custom)&&this._differs(n.customColor,n.customColor=function(t){var n=t.selected,o=t.palette,i=t.custom;if(void 0===i[n[0]])return"#ccc";var a=n.filter(function(e){return void 0!==i[e]}).map(function(e){return R(i[e],o)});return a.length?e.average(a,"lab"):"#ccc"}(n))&&(t.customColor=!0)};var te={update:function(e){var t=this.get().palette;this.set({value:function(e,t){var n=t.indexOf(e);if(n>-1)return n;return e}(e,t)})},getColor:function e(t){this.get().palette;return e(t)}};function ne(e,t){var n={},o={color:t.hexColor,palette:t.palette};"open"in t&&(o.visible=t.open,n.visible=!0);var i=new G({root:e.root,data:o,_bind:function(t,o){e.get();var i={};!n.visible&&t.visible&&(i.open=o.visible),e._set(i),n={}}});return e.root._beforecreate.push(function(){i._bind({visible:1},i.get())}),i.on("change",function(t){e.update(t)}),{c:function(){i._fragment.c()},m:function(e,t){i._mount(e,t)},p:function(e,t){var o={};e.hexColor&&(o.color=t.hexColor),e.palette&&(o.palette=t.palette),!n.visible&&e.open&&(o.visible=t.open,n.visible=!0),i._set(o),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function oe(e){var t,o,c,l;y(this,e),this._state=n(n(this.store._init(["theme"]),{open:!1,custom:{}}),e.data),this.store._add(this,["theme"]),this._recompute({$theme:1,value:1,palette:1},this._state),this._handlers.destroy=[C],e.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(t=this,o=this._state,l=o.hexColor&&ne(t,o),{c:function(){l&&l.c(),c=f()},m:function(e,t){l&&l.m(e,t),i(c,e,t)},p:function(e,n){n.hexColor?l?l.p(e,n):((l=ne(t,n)).c(),l.m(c.parentNode,c)):l&&(l.u(),l.d(),l=null)},u:function(){l&&l.u(),a(c)},d:function(){l&&l.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),this._lock=!0,N(this._beforecreate),N(this._oncreate),N(this._aftercreate),this._lock=!1)}function ie(e,n){var l,s,r,f,d;return{c:function(){l=u("div"),s=h("For help on custom formats, check the "),r=u("noscript"),f=u("noscript"),d=h("."),this.h()},h:function(){l.className="small svelte-h47p2z"},m:function(e,t){i(l,e,t),o(s,l),o(r,l),r.insertAdjacentHTML("afterend",n.customFormatHelp),o(f,l),o(d,l)},p:function(e,t){e.customFormatHelp&&(c(r,f),r.insertAdjacentHTML("afterend",t.customFormatHelp))},u:function(){c(r,f),a(l)},d:t}}function ae(e,n){var c,l,s,r=n.opt,f=(n.each_value,n.opt_index,r.l);return{c:function(){c=u("option"),l=h(f),this.h()},h:function(){c.__value=s=r.f,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){r=t.opt,t.each_value,t.opt_index,e.options&&f!==(f=r.l)&&(l.data=f),e.options&&s!==(s=r.f)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function ce(e,t){var n,o=!1;function c(){o=!0,e.set({custom:n.value}),o=!1}return{c:function(){n=u("input"),this.h()},h:function(){d(n,"input",c),p(n,"type","text"),n.className="svelte-h47p2z"},m:function(e,o){i(n,e,o),n.value=t.custom},p:function(e,t){o||(n.value=t.custom)},u:function(){a(n)},d:function(){v(n,"input",c)}}}function le(e){y(this,e),this._state=n(n(this.store._init(["vis","dataset"]),{axis:!1,value:"",custom:"",selected:null}),e.data),this.store._add(this,["vis","dataset"]),this._recompute({$vis:1,$dataset:1,axis:1,axisCol:1},this._state),this._handlers.destroy=[C];var t=this;e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){for(var c,l,s,f,_,p,m,g,k,y=!1,N="custom"==t.selected&&ie(0,t),C=t.options,M=[],w=0;w<C.length;w+=1)M[w]=ae(0,n(n({},t),{each_value:C,opt:C[w],opt_index:w}));function H(){y=!0,e.set({selected:x(p)}),y=!1}var $="custom"==t.selected&&ce(e,t);return{c:function(){c=u("div"),l=u("label"),s=h("\n\n    "),f=u("div"),N&&N.c(),_=h("\n\n        "),p=u("select");for(var e=0;e<M.length;e+=1)M[e].c();m=u("option"),g=h("(custom)"),k=h("\n        "),$&&$.c(),this.h()},h:function(){l.className="control-label svelte-h47p2z",m.__value="custom",m.value=m.__value,d(p,"change",H),"selected"in t||e.root._beforecreate.push(H),p.className="svelte-h47p2z",f.className="controls form-inline",c.className="control-group vis-option-custom-format"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(s,c),o(f,c),N&&N.m(f,null),o(_,f),o(p,f);for(var a=0;a<M.length;a+=1)M[a].m(p,null);o(m,p),o(g,m),b(p,t.selected),o(k,f),$&&$.m(f,null)},p:function(t,o){t.label&&(l.innerHTML=o.label),"custom"==o.selected?N?N.p(t,o):((N=ie(0,o)).c(),N.m(f,_)):N&&(N.u(),N.d(),N=null);var i=o.options;if(t.options){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,opt:i[a],opt_index:a});M[a]?M[a].p(t,c):(M[a]=ae(0,c),M[a].c(),M[a].m(p,m))}for(;a<M.length;a+=1)M[a].u(),M[a].d();M.length=i.length}y||b(p,o.selected),"custom"==o.selected?$?$.p(t,o):(($=ce(e,o)).c(),$.m(f,null)):$&&($.u(),$.d(),$=null)},u:function(){l.innerHTML="",a(c),N&&N.u();for(var e=0;e<M.length;e+=1)M[e].u();$&&$.u()},d:function(){N&&N.d(),r(M),v(p,"change",H),$&&$.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;this.observe("selected",function(t,n){if(t!=n){var o=e.get().custom;e.set({value:"custom"!=t?t:o+" "})}}),this.observe("value",function(t,n){if(t!=n){for(var o=0,i=e.get().options;o<i.length;o+=1)if(i[o].f==t)return e.set({selected:t});e.set({selected:"custom",custom:t})}}),this.observe("custom",function(t,n){t!=n&&"custom"==e.get().selected&&e.set({value:t})})}).call(t),t.fire("update",{changed:{axisCol:1,$vis:1,$dataset:1,axis:1,label:1,selected:1,customFormatHelp:1,options:1,custom:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),N(this._beforecreate),N(this._oncreate))}function se(e){var c,r,f,d,_,v,p,m,g,b,x,k;y(this,e),this._state=n({},e.data),this._slotted=e.slots||{},this.slots={},this._fragment=(c=this,r=this._state,k=c._slotted.default,{c:function(){f=u("div"),d=u("label"),_=u("i"),v=h("\n        "),p=u("i"),m=h("\n        "),g=u("noscript"),b=h("\n\n    "),x=u("div"),this.h()},h:function(){_.className="fa fa-chevron-up expand-group pull-right",p.className="fa fa-chevron-down collapse-group pull-right",d.className="group-title",x.className="option-group-content vis-option-type-chart-description",f.className="vis-option-type-group group-open"},m:function(e,t){i(f,e,t),o(d,f),o(_,d),o(v,d),o(p,d),o(m,d),o(g,d),g.insertAdjacentHTML("afterend",r.label),o(b,f),o(x,f),k&&o(k,x)},p:function(e,t){e.label&&(l(g),g.insertAdjacentHTML("afterend",t.label))},u:function(){l(g),a(f),k&&s(x,k)},d:t}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function re(e){y(this,e),this._state=n({unit:"",width:"100px"},e.data),this._fragment=function(e,t){var n,c,l,s,r,f,_,b,x,k,y=!1;function N(){e.set({value:m(r.value)})}function C(){e.set({value:m(r.value)})}function M(){y=!0,e.set({value:m(_.value)}),y=!1}return{c:function(){n=u("div"),c=u("label"),l=h("\n    "),s=u("div"),r=u("input"),f=h("Â Â "),_=u("input"),b=h(" "),x=u("span"),k=h(t.unit),this.h()},h:function(){g(c,"width",t.width),c.className="control-label",d(r,"input",N),d(r,"change",C),p(r,"type","range"),r.min=t.min,r.max=t.max,r.step=t.step,r.className="svelte-l16hlj",d(_,"input",M),p(_,"type","number"),_.min=t.min,_.max=t.max,_.step=t.step,_.className="svelte-l16hlj",x.className="unit svelte-l16hlj",s.className="controls",n.className="control-group vis-option-group vis-option-type-number"},m:function(e,a){i(n,e,a),o(c,n),c.innerHTML=t.label,o(l,n),o(s,n),o(r,s),r.value=t.value,o(f,s),o(_,s),_.value=t.value,o(b,s),o(x,s),o(k,x)},p:function(e,t){e.label&&(c.innerHTML=t.label),e.width&&g(c,"width",t.width),r.value=t.value,r.value=t.value,e.min&&(r.min=t.min),e.max&&(r.max=t.max),e.step&&(r.step=t.step),y||(_.value=t.value),e.min&&(_.min=t.min),e.max&&(_.max=t.max),e.step&&(_.step=t.step),e.unit&&(k.data=t.unit)},u:function(){c.innerHTML="",a(n)},d:function(){v(r,"input",N),v(r,"change",C),v(_,"input",M)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ue(e,t){var n,c,l,s,r,f=t.opt,_=(t.each_value,t.opt_index,f.label);function m(){e.set({value:c.__value})}return{c:function(){n=u("label"),c=u("input"),s=h("Â "),r=h(_),this.h()},h:function(){e._bindingGroups[0].push(c),d(c,"change",m),p(c,"type","radio"),c.__value=l=f.value,c.value=c.__value,n.className="radio"},m:function(e,a){i(n,e,a),o(c,n),c.checked=c.__value===t.value,o(s,n),o(r,n)},p:function(e,t){f=t.opt,t.each_value,t.opt_index,c.checked=c.__value===t.value,e.options&&l!==(l=f.value)&&(c.__value=l),c.value=c.__value,e.options&&_!==(_=f.label)&&(r.data=_)},u:function(){a(n)},d:function(){e._bindingGroups[0].splice(e._bindingGroups[0].indexOf(c),1),v(c,"change",m)}}}function he(e){y(this,e),this._state=n({},e.data),this._bindingGroups=[[]],this._fragment=function(e,t){for(var c,l,s,f,d=t.options,_=[],v=0;v<d.length;v+=1)_[v]=ue(e,n(n({},t),{each_value:d,opt:d[v],opt_index:v}));return{c:function(){c=u("div"),l=u("label"),s=h("\n\n    "),f=u("div");for(var e=0;e<_.length;e+=1)_[e].c();this.h()},h:function(){l.className="control-label",f.className="controls form-inline",c.className="control-group vis-option-group vis-option-type-radio"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(s,c),o(f,c);for(var a=0;a<_.length;a+=1)_[a].m(f,null)},p:function(t,o){t.label&&(l.innerHTML=o.label);var i=o.options;if(t.options||t.value){for(var a=0;a<i.length;a+=1){var c=n(n({},o),{each_value:i,opt:i[a],opt_index:a});_[a]?_[a].p(t,c):(_[a]=ue(e,c),_[a].c(),_[a].m(f,null))}for(;a<_.length;a+=1)_[a].u(),_[a].d();_.length=i.length}},u:function(){l.innerHTML="",a(c);for(var e=0;e<_.length;e+=1)_[e].u()},d:function(){r(_)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function fe(e,n){var c,l,s,r=n.opt,f=(n.each_value,n.opt_index,r.label);return{c:function(){c=u("option"),l=h(f),this.h()},h:function(){c.__value=s=r.value,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){r=t.opt,t.each_value,t.opt_index,e.options&&f!==(f=r.label)&&(l.data=f),e.options&&s!==(s=r.value)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function de(e,t){for(var o,c=t.options,l=[],s=0;s<c.length;s+=1)l[s]=fe(0,n(n({},t),{each_value:c,opt:c[s],opt_index:s}));return{c:function(){for(var e=0;e<l.length;e+=1)l[e].c();o=f()},m:function(e,t){for(var n=0;n<l.length;n+=1)l[n].m(e,t);i(o,e,t)},p:function(e,t){var i=t.options;if(e.options){for(var a=0;a<i.length;a+=1){var c=n(n({},t),{each_value:i,opt:i[a],opt_index:a});l[a]?l[a].p(e,c):(l[a]=fe(0,c),l[a].c(),l[a].m(o.parentNode,o))}for(;a<l.length;a+=1)l[a].u(),l[a].d();l.length=i.length}},u:function(){for(var e=0;e<l.length;e+=1)l[e].u();a(o)},d:function(){r(l)}}}function _e(e,t){for(var o,c,l=t.optgroup,s=(t.each_value_1,t.optgroup_index,l.options),h=[],f=0;f<s.length;f+=1)h[f]=ve(e,n(n({},t),{each_value_2:s,opt:s[f],opt_index_1:f}));return{c:function(){o=u("optgroup");for(var e=0;e<h.length;e+=1)h[e].c();this.h()},h:function(){p(o,"label",c=l.label)},m:function(e,t){i(o,e,t);for(var n=0;n<h.length;n+=1)h[n].m(o,null)},p:function(t,i){l=i.optgroup,i.each_value_1,i.optgroup_index;var a=l.options;if(t.optgroups){for(var s=0;s<a.length;s+=1){var r=n(n({},i),{each_value_2:a,opt:a[s],opt_index_1:s});h[s]?h[s].p(t,r):(h[s]=ve(e,r),h[s].c(),h[s].m(o,null))}for(;s<h.length;s+=1)h[s].u(),h[s].d();h.length=a.length}t.optgroups&&c!==(c=l.label)&&p(o,"label",c)},u:function(){a(o);for(var e=0;e<h.length;e+=1)h[e].u()},d:function(){r(h)}}}function ve(e,n){n.optgroup,n.each_value_1,n.optgroup_index;var c,l,s,r=n.opt,f=(n.each_value_2,n.opt_index_1,r.label);return{c:function(){c=u("option"),l=h(f),this.h()},h:function(){c.__value=s=r.value,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){t.optgroup,t.each_value_1,t.optgroup_index,r=t.opt,t.each_value_2,t.opt_index_1,e.optgroups&&f!==(f=r.label)&&(l.data=f),e.optgroups&&s!==(s=r.value)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function pe(e,t){for(var o,c=t.optgroups,l=[],s=0;s<c.length;s+=1)l[s]=_e(e,n(n({},t),{each_value_1:c,optgroup:c[s],optgroup_index:s}));return{c:function(){for(var e=0;e<l.length;e+=1)l[e].c();o=f()},m:function(e,t){for(var n=0;n<l.length;n+=1)l[n].m(e,t);i(o,e,t)},p:function(t,i){var a=i.optgroups;if(t.optgroups){for(var c=0;c<a.length;c+=1){var s=n(n({},i),{each_value_1:a,optgroup:a[c],optgroup_index:c});l[c]?l[c].p(t,s):(l[c]=_e(e,s),l[c].c(),l[c].m(o.parentNode,o))}for(;c<l.length;c+=1)l[c].u(),l[c].d();l.length=a.length}},u:function(){for(var e=0;e<l.length;e+=1)l[e].u();a(o)},d:function(){r(l)}}}function me(e){y(this,e),this._state=n({disabled:!1,width:"auto",options:[],optgroups:[]},e.data),e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){var n,c,l,s,r,_,p,m=!1,k=t.options.length&&de(0,t),y=t.optgroups.length&&pe(e,t);function N(){m=!0,e.set({value:x(r)}),m=!1}return{c:function(){n=u("div"),c=u("label"),l=h("\n\n    "),s=u("div"),r=u("select"),k&&k.c(),_=f(),y&&y.c(),this.h()},h:function(){c.className="control-label",d(r,"change",N),"value"in t||e.root._beforecreate.push(N),r.disabled=t.disabled,g(r,"width",t.width),s.className=p="controls form-inline "+(t.disabled?"disabled":""),n.className="control-group vis-option-type-select"},m:function(e,a){i(n,e,a),o(c,n),c.innerHTML=t.label,o(l,n),o(s,n),o(r,s),k&&k.m(r,null),o(_,r),y&&y.m(r,null),b(r,t.value)},p:function(t,n){t.label&&(c.innerHTML=n.label),n.options.length?k?k.p(t,n):((k=de(0,n)).c(),k.m(r,_)):k&&(k.u(),k.d(),k=null),n.optgroups.length?y?y.p(t,n):((y=pe(e,n)).c(),y.m(r,null)):y&&(y.u(),y.d(),y=null),m||b(r,n.value),t.disabled&&(r.disabled=n.disabled),t.width&&g(r,"width",n.width),t.disabled&&p!==(p="controls form-inline "+(n.disabled?"disabled":""))&&(s.className=p)},u:function(){c.innerHTML="",a(n),k&&k.u(),y&&y.u()},d:function(){k&&k.d(),y&&y.d(),v(r,"change",N)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),N(this._beforecreate))}function ge(e,n){var c,l,r,h,f=e._slotted.default;return{c:function(){c=u("div"),l=u("fieldset"),r=u("div"),this.h()},h:function(){r.className="control-group vis-option-group",l.id="visOptions",c.className=h="section "+n.id},m:function(e,t){i(c,e,t),o(l,c),o(r,l),f&&o(f,r)},p:function(e,t){e.id&&h!==(h="section "+t.id)&&(c.className=h)},u:function(){a(c),f&&s(r,f)},d:t}}function be(e){var t,o,c,l;y(this,e),this._state=n({},e.data),this._slotted=e.slots||{},this.slots={},this._fragment=(t=this,o=this._state,l=o.id==o.active&&ge(t,o),{c:function(){l&&l.c(),c=f()},m:function(e,t){l&&l.m(e,t),i(c,e,t)},p:function(e,n){n.id==n.active?l?l.p(e,n):((l=ge(t,n)).c(),l.m(c.parentNode,c)):l&&(l.u(),l.d(),l=null)},u:function(){l&&l.u(),a(c)},d:function(){l&&l.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function xe(e){y(this,e),this._state=n({placeholder:""},e.data),this._fragment=function(e,t){var n,c,l,s,r,f,_=!1;function p(){_=!0,e.set({value:f.value}),_=!1}return{c:function(){n=u("div"),c=u("label"),l=h(t.label),s=h("\n    "),r=u("div"),f=u("textarea"),this.h()},h:function(){c.className="control-label",d(f,"input",p),f.placeholder=t.placeholder,g(f,"width",t.width||"auto"),r.className="controls",n.className="control-group vis-option-group vis-option-type-textarea"},m:function(e,a){i(n,e,a),o(c,n),o(l,c),o(s,n),o(r,n),o(f,r),f.value=t.value},p:function(e,t){e.label&&(l.data=t.label),_||(f.value=t.value),e.placeholder&&(f.placeholder=t.placeholder),e.width&&g(f,"width",t.width||"auto")},u:function(){a(n)},d:function(){v(f,"input",p)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ke(e,n){var c,l,s=n.axis["na-label"]||"--";return{c:function(){c=u("option"),l=h(s),this.h()},h:function(){c.__value="-",c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){e.axis&&s!==(s=t.axis["na-label"]||"--")&&(l.data=s)},u:function(){a(c)},d:t}}function ye(e,n){var c,l,s,r=n.column,f=(n.each_value,n.column_index,r.name);return{c:function(){c=u("option"),l=h(f),this.h()},h:function(){c.__value=s=r.name,c.value=c.__value},m:function(e,t){i(c,e,t),o(l,c)},p:function(e,t){r=t.column,t.each_value,t.column_index,e.columns&&f!==(f=r.name)&&(l.data=f),e.columns&&s!==(s=r.name)&&(c.__value=s),c.value=c.__value},u:function(){a(c)},d:t}}function Ne(e){y(this,e),this._state=n(n(this.store._init(["visMeta","dataset"]),{selected:!1}),e.data),this.store._add(this,["visMeta","dataset"]),this._recompute({axis:1,$visMeta:1,$dataset:1},this._state),this._handlers.destroy=[C];var t=this;e.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(e,t){for(var c,l,s,_,p,m,g=!1,k=t.$visMeta&&t.$visMeta.axes[t.axis].optional&&ke(0,t),y=t.columns,N=[],C=0;C<y.length;C+=1)N[C]=ye(0,n(n({},t),{each_value:y,column:y[C],column_index:C}));function M(){g=!0,e.set({selected:x(p)}),g=!1}return{c:function(){c=u("div"),l=u("label"),s=h("\n\n    "),_=u("div"),p=u("select"),k&&k.c(),m=f();for(var e=0;e<N.length;e+=1)N[e].c();this.h()},h:function(){l.className="control-label svelte-7khi8i",d(p,"change",M),"selected"in t||e.root._beforecreate.push(M),p.className="svelte-7khi8i",_.className="controls form-inline",c.className="control-group vis-option-group"},m:function(e,n){i(c,e,n),o(l,c),l.innerHTML=t.label,o(s,c),o(_,c),o(p,_),k&&k.m(p,null),o(m,p);for(var a=0;a<N.length;a+=1)N[a].m(p,null);b(p,t.selected)},p:function(e,t){e.label&&(l.innerHTML=t.label),t.$visMeta&&t.$visMeta.axes[t.axis].optional?k?k.p(e,t):((k=ke(0,t)).c(),k.m(p,m)):k&&(k.u(),k.d(),k=null);var o=t.columns;if(e.columns){for(var i=0;i<o.length;i+=1){var a=n(n({},t),{each_value:o,column:o[i],column_index:i});N[i]?N[i].p(e,a):(N[i]=ye(0,a),N[i].c(),N[i].m(p,null))}for(;i<N.length;i+=1)N[i].u(),N[i].d();N.length=o.length}g||b(p,t.selected)},u:function(){l.innerHTML="",a(c),k&&k.u();for(var e=0;e<N.length;e+=1)N[e].u()},d:function(){k&&k.d(),r(N),v(p,"change",M)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;e.observe("selected",function(t){if(t){var n=e.get().axis,o=_.clone(window.chart.get("metadata.axes",{}));"-"==t?delete o[n]:o[n]=t,window.chart.set("metadata.axes",o)}}),e.store.observe("visMeta",function(t){var n=e.get(),o=n.selected,i=n.axis;!o&&t&&(o=window.chart.get("metadata.axes")[i],e.set({selected:o}))})}).call(t),t.fire("update",{changed:{axis:1,$visMeta:1,$dataset:1,label:1,selected:1,columns:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),N(this._beforecreate),N(this._oncreate))}return n(oe.prototype,w),n(oe.prototype,te),oe.prototype._recompute=function(e,t){e.$theme&&this._differs(t.palette,t.palette=t.$theme.colors.palette)&&(e.palette=!0),(e.value||e.palette)&&this._differs(t.hexColor,t.hexColor=function(e){return function(e,t){return"number"==typeof e?t[e%t.length]:e}(e.value,e.palette)}(t))&&(e.hexColor=!0)},n(le.prototype,w),le.prototype._recompute=function(e,t){(e.$vis||e.$dataset||e.axis)&&this._differs(t.axisCol,t.axisCol=function(e){var t=e.$vis,n=e.$dataset,o=e.axis;if(!t||!o)return null;var i=t.axes()[o];return n.column("object"==typeof i?i[0]:i)}(t))&&(e.axisCol=!0),e.axisCol&&(this._differs(t.customFormatHelp,t.customFormatHelp=function(e){var t=e.axisCol;if(t)return"date"==t.type()?'<a href="http://momentjs.com/docs/#/displaying/format/" target="_blank">moment.js documentation</a>':"number"==t.type()?'<a href="http://numeraljs.com/#format" target="_blank">numeral.js documentation</a>':""}(t))&&(e.customFormatHelp=!0),this._differs(t.options,t.options=function(e){var t=e.axisCol;return t?"number"==t.type()?[{l:"1,000[.00]",f:"0,0.[00]"},{l:"0",f:"0"},{l:"0.0",f:"0.0"},{l:"0.00",f:"0.00"},{l:"0.000",f:"0.000"},{l:"0.[0]",f:"0.[0]"},{l:"0.[00]",f:"0.[00]"},{l:"0%",f:"0%"},{l:"0.0%",f:"0.0%"},{l:"0.00%",f:"0.00%"},{l:"0.[0]%",f:"0.[0]%"},{l:"0.[00]%",f:"0.[00]%"},{l:"10,000",f:"0,0"},{l:"1st",f:"0o"},{l:"123k",f:"0a"},{l:"123.4k",f:"0.[0]a"},{l:"123.45k",f:"0.[00]a"}]:"date"==t.type()?[{l:"2015, 2016",f:"YYYY"},{l:"2015 Q1, 2015 Q2",f:"YYYY [Q]Q"},{l:"2015, Q2, Q3",f:"YYYY|\\QQ"},{l:"2015, Feb, Mar",f:"YYYY|MMM"},{l:"â15, â16",f:"âYY"},{l:"April, May",f:"MMMM"},{l:"Apr, May",f:"MMM"},{l:"Apr â15, May â15",f:"MMM âYY"},{l:"April, 2, 3",f:"MMM|DD"}]:void 0:[]}(t))&&(e.options=!0))},n(se.prototype,w),n(re.prototype,w),n(he.prototype,w),n(me.prototype,w),n(be.prototype,w),n(xe.prototype,w),n(Ne.prototype,w),Ne.prototype._recompute=function(e,t){(e.axis||e.$visMeta||e.$dataset)&&this._differs(t.columns,t.columns=function(e){var t=e.axis,n=e.$visMeta,o=e.$dataset,i=[];return o&&n&&t?(o.eachColumn(function(e){_.indexOf(n.axes[t].accepts,e.type())>-1&&i.push({name:e.name()})}),i):[]}(t))&&(e.columns=!0)},{Checkbox:H,Color:ee,ColorSimple:oe,ColorPicker:G,Group:se,NumberInput:re,Radio:he,Select:me,SelectAxisColumn:Ne,CustomFormat:le,Section:be,TextArea:xe}});
