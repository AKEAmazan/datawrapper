!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("chroma")):"function"==typeof define&&define.amd?define(["chroma"],e):t.controls=e(null)}(this,function(t){"use strict";function e(){}function n(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){e.appendChild(t)}function i(t,e,n){e.insertBefore(t,n)}function a(t){t.parentNode.removeChild(t)}function l(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function c(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}function s(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function r(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function u(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function d(){return document.createComment("")}function f(t,e,n){t.addEventListener(e,n,!1)}function v(t,e,n){t.removeEventListener(e,n,!1)}function p(t,e,n){t.setAttribute(e,n)}function m(t){return""===t?void 0:+t}function g(t,e,n){t.style.setProperty(e,n)}function b(t,e){for(var n=0;n<t.options.length;n+=1){var o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function x(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function y(t){return t}t=t&&t.hasOwnProperty("default")?t.default:t;var k={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes "+e+" "+t,this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(e=this.stylesheet.cssRules.length;e--;)this.stylesheet.deleteRule(e);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter(function(t){return-1===t.indexOf(e)}).join(", ")}};function N(t){this.destroy=e,this.fire("destroy"),this.set=this.get=e,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function C(t,e){t._handlers=Object.create(null),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function w(t){for(;t&&t.length;)t.shift()()}function M(){this.store._remove(this)}var T,H={destroy:N,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1){var i=n[o];i.__calling||(i.__calling=!0,i.call(this,e),i.__calling=!1)}},observe:function(t,e,n){var o=e.bind(this);return n&&!1===n.init||o(this.get()[t],void 0),this.on(n&&n.defer?"update":"state",function(e){e.changed[t]&&o(e.current[t],e.previous&&e.previous[t])})},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(n({},t)),this.root._lock||(this.root._lock=!0,w(this.root._beforecreate),w(this.root._oncreate),w(this.root._aftercreate),this.root._lock=!1)},teardown:N,_recompute:e,_set:function(t){var e=this._state,o={},i=!1;for(var a in t)this._differs(t[a],e[a])&&(o[a]=i=!0);i&&(this._state=n(n({},e),t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(this.fire("state",{changed:o,current:this._state,previous:e}),this._fragment.p(o,this._state),this.fire("update",{changed:o,current:this._state,previous:e})))},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};function L(t){C(this,t),this._state=n({disabled:!1},t.data),this._fragment=function(t,e){var n,l,c,s,r,d;function _(){t.set({value:c.checked})}return{c:function(){n=u("div"),l=u("label"),c=u("input"),s=h("Â "),r=h(e.label),this.h()},h:function(){f(c,"change",_),p(c,"type","checkbox"),c.disabled=e.disabled,c.className="svelte-llolt7",l.className=d="checkbox "+(e.disabled?"disabled":"")+" svelte-llolt7",n.className="control-group vis-option-group vis-option-type-checkbox"},m:function(t,a){i(n,t,a),o(l,n),o(c,l),c.checked=e.value,o(s,l),o(r,l)},p:function(t,e){c.checked=e.value,t.disabled&&(c.disabled=e.disabled),t.label&&(r.data=e.label),t.disabled&&d!==(d="checkbox "+(e.disabled?"disabled":"")+" svelte-llolt7")&&(l.className=d)},u:function(){a(n)},d:function(){v(c,"change",_)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}n(L.prototype,H);var $={bodyClick:function(t){if(T.get){var e=T.get().visible,n=t.target;if(e){for(;!n.classList.contains("color-picker-cont")&&"body"!=n.nodeName.toLowerCase();)n=n.parentNode;T.set({visible:n!=window.document.body})}}}};function j(){window.document.body.removeEventListener("click",this.bodyClick)}function S(e,n){var o=-1,i=999999;return e[0]==e[1]?"-":(e.forEach(function(e,a){var l=t.distance(e,n,"lab");l<i&&(i=l,o=a)}),e[o])}function Y(t,e,n,o,i){var a=[t],l=e/n,c=0;for(o=_.isUndefined(o)?n:o,i=i||1;n-- >0;)c+=l,a.unshift(t-c),o-- >0&&a.push(t+c);return a}function F(t,e){var n,o,l=e.c;e.each_value,e.c_index;return{c:function(){n=u("div"),this.h()},h:function(){f(n,"click",R),f(n,"dblclick",E),n.className="color",n.dataset.color=o=l,g(n,"background",l),n._svelte={component:t,each_value:e.each_value,c_index:e.c_index}},m:function(t,e){i(n,t,e)},p:function(t,e){l=e.c,e.each_value,e.c_index,t.palette&&o!==(o=l)&&(n.dataset.color=o),t.palette&&g(n,"background",l),n._svelte.each_value=e.each_value,n._svelte.c_index=e.c_index},u:function(){a(n)},d:function(){v(n,"click",R),v(n,"dblclick",E)}}}function A(t,e){var n,o,l,c=e.c;e.each_value_1,e.c_index_1;return{c:function(){n=u("div"),this.h()},h:function(){f(n,"click",Q),n.className=o="color "+(c==e.nearest_l?"selected":"")+" svelte-1yb6b4j",n.dataset.color=l=c,g(n,"background",c),n._svelte={component:t,each_value_1:e.each_value_1,c_index_1:e.c_index_1}},m:function(t,e){i(n,t,e)},p:function(t,e){c=e.c,e.each_value_1,e.c_index_1,(t.gradient_l||t.nearest_l)&&o!==(o="color "+(c==e.nearest_l?"selected":"")+" svelte-1yb6b4j")&&(n.className=o),t.gradient_l&&l!==(l=c)&&(n.dataset.color=l),t.gradient_l&&g(n,"background",c),n._svelte.each_value_1=e.each_value_1,n._svelte.c_index_1=e.c_index_1},u:function(){a(n)},d:function(){v(n,"click",Q)}}}function K(t,e){var n,o,l,c=e.c;e.each_value_2,e.c_index_2;return{c:function(){n=u("div"),this.h()},h:function(){f(n,"click",D),n.className=o="color "+(c==e.nearest_c?"selected":"")+" svelte-1yb6b4j",n.dataset.color=l=c,g(n,"background",c),n._svelte={component:t,each_value_2:e.each_value_2,c_index_2:e.c_index_2}},m:function(t,e){i(n,t,e)},p:function(t,e){c=e.c,e.each_value_2,e.c_index_2,(t.gradient_c||t.nearest_c)&&o!==(o="color "+(c==e.nearest_c?"selected":"")+" svelte-1yb6b4j")&&(n.className=o),t.gradient_c&&l!==(l=c)&&(n.dataset.color=l),t.gradient_c&&g(n,"background",c),n._svelte.each_value_2=e.each_value_2,n._svelte.c_index_2=e.c_index_2},u:function(){a(n)},d:function(){v(n,"click",D)}}}function O(t,e){var n,o,l,c=e.c;e.each_value_3,e.c_index_3;return{c:function(){n=u("div"),this.h()},h:function(){f(n,"click",I),n.className=o="color "+(c==e.nearest_h?"selected":"")+" svelte-1yb6b4j",n.dataset.color=l=c,g(n,"background",c),n._svelte={component:t,each_value_3:e.each_value_3,c_index_3:e.c_index_3}},m:function(t,e){i(n,t,e)},p:function(t,e){c=e.c,e.each_value_3,e.c_index_3,(t.gradient_h||t.nearest_h)&&o!==(o="color "+(c==e.nearest_h?"selected":"")+" svelte-1yb6b4j")&&(n.className=o),t.gradient_h&&l!==(l=c)&&(n.dataset.color=l),t.gradient_h&&g(n,"background",c),n._svelte.each_value_3=e.each_value_3,n._svelte.c_index_3=e.c_index_3},u:function(){a(n)},d:function(){v(n,"click",I)}}}function z(t,e){for(var l,c,s,d,_,m,b,x,y,k,N,C,w,M,T,H=!1,L=e.palette,$=[],j=0;j<L.length;j+=1)$[j]=F(t,n(n({},e),{each_value:L,c:L[j],c_index:j}));var S=e.gradient_l,Y=[];for(j=0;j<S.length;j+=1)Y[j]=A(t,n(n({},e),{each_value_1:S,c:S[j],c_index_1:j}));var z=e.gradient_c,R=[];for(j=0;j<z.length;j+=1)R[j]=K(t,n(n({},e),{each_value_2:z,c:z[j],c_index_2:j}));var E=e.gradient_h,Q=[];for(j=0;j<E.length;j+=1)Q[j]=O(t,n(n({},e),{each_value_3:E,c:E[j],c_index_3:j}));function D(){H=!0,t.set({color:N.value}),H=!1}function I(e){t.set({visible:!1})}return{c:function(){l=u("div"),c=u("div");for(var t=0;t<$.length;t+=1)$[t].c();s=h("\n\n        "),d=u("div");for(t=0;t<Y.length;t+=1)Y[t].c();_=h("\n        "),m=u("div");for(t=0;t<R.length;t+=1)R[t].c();b=h("\n        "),x=u("div");for(t=0;t<Q.length;t+=1)Q[t].c();y=h("\n\n        "),k=u("div"),N=u("input"),C=h("\n            "),(w=u("button")).innerHTML='<i class="icon-ok"></i>',M=h("\n            "),T=u("div"),this.h()},h:function(){c.className="palette",d.className="color-axis lightness",m.className="color-axis saturation",x.className="color-axis hue",f(N,"input",D),p(N,"type","text"),g(N,"background",e.color),g(N,"border-color",e.borderColor),g(N,"color",e.textColor),N.className="hex svelte-1yb6b4j",f(w,"click",I),w.className="btn btn-small ok",T.className="color selected",g(T,"background",e.color),k.className="footer",l.className="color-selector"},m:function(t,n){i(l,t,n),o(c,l);for(var a=0;a<$.length;a+=1)$[a].m(c,null);o(s,l),o(d,l);for(a=0;a<Y.length;a+=1)Y[a].m(d,null);o(_,l),o(m,l);for(a=0;a<R.length;a+=1)R[a].m(m,null);o(b,l),o(x,l);for(a=0;a<Q.length;a+=1)Q[a].m(x,null);o(y,l),o(k,l),o(N,k),N.value=e.color,o(C,k),o(w,k),o(M,k),o(T,k)},p:function(e,o){var i=o.palette;if(e.palette){for(var a=0;a<i.length;a+=1){var l=n(n({},o),{each_value:i,c:i[a],c_index:a});$[a]?$[a].p(e,l):($[a]=F(t,l),$[a].c(),$[a].m(c,null))}for(;a<$.length;a+=1)$[a].u(),$[a].d();$.length=i.length}var s=o.gradient_l;if(e.gradient_l||e.nearest_l){for(a=0;a<s.length;a+=1){var r=n(n({},o),{each_value_1:s,c:s[a],c_index_1:a});Y[a]?Y[a].p(e,r):(Y[a]=A(t,r),Y[a].c(),Y[a].m(d,null))}for(;a<Y.length;a+=1)Y[a].u(),Y[a].d();Y.length=s.length}var u=o.gradient_c;if(e.gradient_c||e.nearest_c){for(a=0;a<u.length;a+=1){var h=n(n({},o),{each_value_2:u,c:u[a],c_index_2:a});R[a]?R[a].p(e,h):(R[a]=K(t,h),R[a].c(),R[a].m(m,null))}for(;a<R.length;a+=1)R[a].u(),R[a].d();R.length=u.length}var f=o.gradient_h;if(e.gradient_h||e.nearest_h){for(a=0;a<f.length;a+=1){var v=n(n({},o),{each_value_3:f,c:f[a],c_index_3:a});Q[a]?Q[a].p(e,v):(Q[a]=O(t,v),Q[a].c(),Q[a].m(x,null))}for(;a<Q.length;a+=1)Q[a].u(),Q[a].d();Q.length=f.length}H||(N.value=o.color),e.color&&g(N,"background",o.color),e.borderColor&&g(N,"border-color",o.borderColor),e.textColor&&g(N,"color",o.textColor),e.color&&g(T,"background",o.color)},u:function(){a(l);for(var t=0;t<$.length;t+=1)$[t].u();for(t=0;t<Y.length;t+=1)Y[t].u();for(t=0;t<R.length;t+=1)R[t].u();for(t=0;t<Q.length;t+=1)Q[t].u()},d:function(){r($),r(Y),r(R),r(Q),v(N,"input",D),v(w,"click",I)}}}function R(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];e.set({color:n})}function E(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.c_index];e.set({color:n,visible:!1})}function Q(t){var e=this._svelte.component,n=this._svelte.each_value_1[this._svelte.c_index_1];e.set({color:n})}function D(t){var e=this._svelte.component,n=this._svelte.each_value_2[this._svelte.c_index_2];e.set({color:n})}function I(t){var e=this._svelte.component,n=this._svelte.each_value_3[this._svelte.c_index_3];e.set({color:n})}function q(t){C(this,t),this._state=n(n(this.store._init(["theme"]),{palette:[],color:"#63c0de",visible:!1}),t.data),this.store._add(this,["theme"]),this._recompute({$theme:1,color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1},this._state),this._handlers.destroy=[j,M],this._slotted=t.slots||{};var e=this;t.root||(this._oncreate=[]),this.slots={},this._fragment=function(t,e){var n,l,c,r,d=t._slotted.default;function p(e){t.set({visible:!1})}function _(e){t.set({visible:!0})}window.addEventListener("click",p);var m=e.visible&&e.color&&z(t,e);function b(t){t.stopPropagation()}return{c:function(){n=u("div"),l=u("div"),d||((c=u("div")).innerHTML='<div class="arrow svelte-1yb6b4j"></div>'),r=h("\n    "),m&&m.c(),this.h()},h:function(){d||(c.className="base-color-picker color-picker svelte-1yb6b4j",g(c,"background",e.color+" none repeat scroll 0% 0%")),f(l,"click",_),f(n,"click",b),n.className="color-picker-cont svelte-1yb6b4j"},m:function(t,e){i(n,t,e),o(l,n),o(d||c,l),o(r,n),m&&m.m(n,null)},p:function(e,o){d||e.color&&g(c,"background",o.color+" none repeat scroll 0% 0%"),o.visible&&o.color?m?m.p(e,o):((m=z(t,o)).c(),m.m(n,null)):m&&(m.u(),m.d(),m=null)},u:function(){a(n),d&&s(l,d),m&&m.u()},d:function(){window.removeEventListener("click",p),v(l,"click",_),m&&m.d(),v(n,"click",b)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this;t.observe("color",function(e,n){t.get().visible&&e!=n&&t.fire("change",e)}),T=this,window.document.body.addEventListener("click",this.bodyClick)}).call(e),e.fire("update",{changed:{$theme:1,color:1,palette:1,gradient_l:1,gradient_c:1,gradient_h:1,visible:1,nearest_l:1,nearest_c:1,nearest_h:1,borderColor:1,textColor:1},current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._oncreate))}function G(t){var e=t.$vis,n=t.customizable,o=t.axis,i=t.custom,a=t.palette;return e&&n?(o?_.unique(e.axes(!0)[o].values()):e.colorKeys?e.colorKeys():e.keys()).map(function(t){var e;return e=t,{key:t=dw.utils.purifyHtml(e,""),defined:void 0!==i[t],color:void 0!==i[t]?J(i[t],a):"#cccccc"}}):[]}n(q.prototype,H),n(q.prototype,$),q.prototype._recompute=function(e,n){e.$theme&&this._differs(n.palette,n.palette=n.$theme.colors.palette)&&(e.palette=!0),e.color&&this._differs(n.gradient_l,n.gradient_l=function(e){var n=e.color,o=t(n).lch(),i=Y(70,55,7,6).map(function(e){return t.lch(e,o[1],o[2]).hex()});return t.scale(["#000000"].concat(i).concat("#ffffff")).mode("lch").gamma(.8).padding(.1).colors(14)}(n))&&(e.gradient_l=!0),(e.color||e.palette)&&this._differs(n.gradient_c,n.gradient_c=function(e){var n=e.color,o=e.palette,i=t(n).set("lch.c",120);isNaN(i.get("lch.h"))&&(i=t.lch(i.get("lch.l"),50,t(o[0]).get("lch.h")));var a=t(n).set("lch.c",3);return t.scale([a,i]).mode("lch").gamma(1.2).colors(14)}(n))&&(e.gradient_c=!0),e.color&&this._differs(n.gradient_h,n.gradient_h=function(e){var n=e.color,o=t(n).lch(),i=Y(o[2],75,7,6).map(function(e){return t.lch(o[0],o[1],e).hex()});return t.scale(i).mode("lch").colors(14)}(n))&&(e.gradient_h=!0),(e.color||e.gradient_l)&&this._differs(n.nearest_l,n.nearest_l=function(t){var e=t.color;return S(t.gradient_l,e)}(n))&&(e.nearest_l=!0),(e.color||e.gradient_c)&&this._differs(n.nearest_c,n.nearest_c=function(t){var e=t.color;return S(t.gradient_c,e)}(n))&&(e.nearest_c=!0),(e.color||e.gradient_h)&&this._differs(n.nearest_h,n.nearest_h=function(t){var e=t.color;return S(t.gradient_h,e)}(n))&&(e.nearest_h=!0),e.color&&(this._differs(n.textColor,n.textColor=function(e){var n=e.color;return t(n).get("lab.l")>60?"black":"white"}(n))&&(e.textColor=!0),this._differs(n.borderColor,n.borderColor=function(e){var n=e.color;return t(n).darker().hex()}(n))&&(e.borderColor=!0))};var P={update:function(t){var e=this.get().palette;this.set({value:B(t,e)})},updateCustom:function(t){var e=this.get(),n=e.selected,o=e.palette,i=e.custom;n.forEach(function(e){return i[e]=B(t,o)}),this.set({custom:i})},toggle:function(t){t.preventDefault();var e=this.get().expanded;this.set({expanded:!e})},toggleSelect:function(t,e){e.preventDefault();var n=this.get().selected,o=n.indexOf(t);e.shiftKey?o>-1?n.splice(o,1):n.push(t):(n.length=1,n[0]=t),this.set({selected:n})},getColor:function(t){return J(t,this.get().palette)},reset:function(){var t=this.get(),e=t.selected,n=t.custom;e.forEach(function(t){return delete n[t]}),this.set({custom:n})},resetAll:function(){var t=this.get().custom;Object.keys(t).forEach(function(e){return delete t[e]}),this.set({custom:t})},selectAll:function(t){t.preventDefault();var e=this.get(),n=e.selected;e.colorKeys.forEach(function(t){n.indexOf(t.key)<0&&n.push(t.key)}),this.set({selected:n})},selectNone:function(t){t.preventDefault();var e=this.get().selected;e.length=0,this.set({selected:e})},selectInvert:function(t){t.preventDefault();var e=this.get(),n=e.selected,o=e.colorKeys;console.log(n),o.forEach(function(t){var e=n.indexOf(t.key);e<0?n.push(t.key):n.splice(e,1)}),console.log(n),this.set({selected:n})}};function B(t,e){var n=e.indexOf(t);return n>-1?n:t}function J(t,e){return"number"==typeof t?e[t%e.length]:t}function W(t,e){var n={},o={color:e.hexColor,palette:e.palette};"open"in e&&(o.visible=e.open,n.visible=!0);var i=new q({root:t.root,data:o,_bind:function(e,o){t.get();var i={};!n.visible&&e.visible&&(i.open=o.visible),t._set(i),n={}}});return t.root._beforecreate.push(function(){i._bind({visible:1},i.get())}),i.on("change",function(e){t.update(e)}),{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},p:function(t,e){var o={};t.hexColor&&(o.color=e.hexColor),t.palette&&(o.palette=e.palette),!n.visible&&t.open&&(o.visible=e.open,n.visible=!0),i._set(o),n={}},u:function(){i._unmount()},d:function(){i.destroy(!1)}}}function U(t,e){var n,l,c;function s(e){t.toggle(e)}return{c:function(){n=u("span"),(l=u("a")).textContent="customize colors...",this.h()},h:function(){f(l,"click",s),l.href="#customize",l.className=c="btn btn-small custom "+(e.expanded?"btn-primary":""),p(l,"role","button"),n.className="custom-color-selector-head"},m:function(t,e){i(n,t,e),o(l,n)},p:function(t,e){t.expanded&&c!==(c="btn btn-small custom "+(e.expanded?"btn-primary":""))&&(l.className=c)},u:function(){a(n)},d:function(){v(l,"click",s)}}}function V(t,e){var n,l,c,s,r,d,p,_,m=e.k,b=(e.each_value,e.k_index,m.defined?"":"Ã"),x=m.key;return{c:function(){n=u("li"),l=u("div"),c=h(b),s=h("\n                    "),r=u("label"),d=h(x),this.h()},h:function(){l.className="color",g(l,"background",m.color),f(n,"click",et),n.className=p=e.selected.indexOf(m.key)>-1?"selected":"",n.dataset.series=_=m.key,n._svelte={component:t,each_value:e.each_value,k_index:e.k_index}},m:function(t,e){i(n,t,e),o(l,n),o(c,l),o(s,n),o(r,n),o(d,r)},p:function(t,e){m=e.k,e.each_value,e.k_index,t.colorKeys&&b!==(b=m.defined?"":"Ã")&&(c.data=b),t.colorKeys&&g(l,"background",m.color),t.colorKeys&&x!==(x=m.key)&&(d.data=x),(t.selected||t.colorKeys)&&p!==(p=e.selected.indexOf(m.key)>-1?"selected":"")&&(n.className=p),t.colorKeys&&_!==(_=m.key)&&(n.dataset.series=_),n._svelte.each_value=e.each_value,n._svelte.k_index=e.k_index},u:function(){a(n)},d:function(){v(n,"click",et)}}}function X(t,e){var n,l,c,s={},r={color:e.customColor,palette:e.palette};"openCustom"in e&&(r.visible=e.openCustom,s.visible=!0);var d=new q({root:t.root,data:r,_bind:function(e,n){t.get();var o={};!s.visible&&e.visible&&(o.openCustom=n.visible),t._set(o),s={}}});function p(e){t.reset()}return t.root._beforecreate.push(function(){d._bind({visible:1},d.get())}),d.on("change",function(e){t.updateCustom(e)}),{c:function(){n=u("div"),d._fragment.c(),l=h("\n                "),(c=u("button")).textContent="Reset",this.h()},h:function(){f(c,"click",p),c.className="btn",n.className="select"},m:function(t,e){i(n,t,e),d._mount(n,null),o(l,n),o(c,n)},p:function(t,e){var n={};t.customColor&&(n.color=e.customColor),t.palette&&(n.palette=e.palette),!s.visible&&t.openCustom&&(n.visible=e.openCustom,s.visible=!0),d._set(n),s={}},u:function(){a(n)},d:function(){d.destroy(!1),v(c,"click",p)}}}function Z(t,n){var o;return{c:function(){(o=u("div")).textContent="Please select an element on the left to change colors for individual elements...",this.h()},h:function(){o.className="info"},m:function(t,e){i(o,t,e)},p:e,u:function(){a(o)},d:e}}function tt(t,e){for(var l,c,s,d,p,_,m,b,x,y,k,N,C,w,M,T,H,L,$,j,S=e.colorKeys,Y=[],F=0;F<S.length;F+=1)Y[F]=V(t,n(n({},e),{each_value:S,k:S[F],k_index:F}));function A(e){t.selectAll(e)}function K(e){t.selectNone(e)}function O(e){t.selectInvert(e)}function z(t){return t.selected.length?X:Z}var R=z(e),E=R(t,e);function Q(e){t.resetAll()}return{c:function(){l=u("div"),c=u("div"),s=u("div"),(d=u("h4")).textContent="Select element(s):",p=h("\n            "),_=u("ul");for(var t=0;t<Y.length;t+=1)Y[t].c();m=h("\n            "),b=u("div"),x=h("Select: Â \n                "),(y=u("a")).textContent="all",k=h(" Â \n                "),(N=u("a")).textContent="none",C=h(" Â \n                "),(w=u("a")).textContent="invert",M=h("\n        "),T=u("div"),(H=u("h4")).textContent="Choose a color:",L=h("\n            "),E.c(),$=h("\n            "),(j=u("button")).textContent="Reset all colors",this.h()},h:function(){_.className="dataseries unstyled",f(y,"click",A),y.href="#/select-all",f(N,"click",K),N.href="#/select-none",f(w,"click",O),w.href="#/select-invert",g(b,"font-size","12px"),g(b,"text-align","center"),g(b,"margin-bottom","10px"),s.className="span2",g(s,"width","43%"),f(j,"click",Q),g(j,"margin-top","20px"),j.className="btn",T.className="span2",g(T,"width","42%"),c.className="row",l.className="custom-color-selector-body",g(l,"display","block")},m:function(t,e){i(l,t,e),o(c,l),o(s,c),o(d,s),o(p,s),o(_,s);for(var n=0;n<Y.length;n+=1)Y[n].m(_,null);o(m,s),o(b,s),o(x,b),o(y,b),o(k,b),o(N,b),o(C,b),o(w,b),o(M,c),o(T,c),o(H,T),o(L,T),E.m(T,null),o($,T),o(j,T)},p:function(e,o){var i=o.colorKeys;if(e.colorKeys||e.selected){for(var a=0;a<i.length;a+=1){var l=n(n({},o),{each_value:i,k:i[a],k_index:a});Y[a]?Y[a].p(e,l):(Y[a]=V(t,l),Y[a].c(),Y[a].m(_,null))}for(;a<Y.length;a+=1)Y[a].u(),Y[a].d();Y.length=i.length}R===(R=z(o))&&E?E.p(e,o):(E.u(),E.d(),(E=R(t,o)).c(),E.m(T,$))},u:function(){a(l);for(var t=0;t<Y.length;t+=1)Y[t].u();E.u()},d:function(){r(Y),v(y,"click",A),v(N,"click",K),v(w,"click",O),E.d(),v(j,"click",Q)}}}function et(t){var e=this._svelte.component,n=this._svelte.each_value[this._svelte.k_index];e.toggleSelect(n.key,t)}function nt(t){C(this,t),this._state=n(n(this.store._init(["vis","theme"]),{open:!1,openCustom:!1,customizable:!1,expanded:!1,selected:[],custom:{}}),t.data),this.store._add(this,["vis","theme"]),this._recompute({$theme:1,$vis:1,customizable:1,axis:1,custom:1,palette:1,value:1,selected:1},this._state),this._handlers.destroy=[M];var e,l,c,s,r,f,v,p,_,m,b,x,y=this;t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(e=this,l=this._state,m=l.hexColor&&W(e,l),b=l.customizable&&U(e,l),x=l.customizable&&l.expanded&&tt(e,l),{c:function(){c=u("div"),s=u("label"),r=h("\n    "),f=u("div"),m&&m.c(),v=h("\n\n        "),b&&b.c(),p=h("\n\n"),x&&x.c(),_=d(),this.h()},h:function(){s.className="control-label",g(s,"width","100px"),f.className="controls",c.className="control-group vis-option-type-color"},m:function(t,e){i(c,t,e),o(s,c),s.innerHTML=l.label,o(r,c),o(f,c),m&&m.m(f,null),o(v,f),b&&b.m(f,null),i(p,t,e),x&&x.m(t,e),i(_,t,e)},p:function(t,n){t.label&&(s.innerHTML=n.label),n.hexColor?m?m.p(t,n):((m=W(e,n)).c(),m.m(f,v)):m&&(m.u(),m.d(),m=null),n.customizable?b?b.p(t,n):((b=U(e,n)).c(),b.m(f,null)):b&&(b.u(),b.d(),b=null),n.customizable&&n.expanded?x?x.p(t,n):((x=tt(e,n)).c(),x.m(_.parentNode,_)):x&&(x.u(),x.d(),x=null)},u:function(){s.innerHTML="",a(c),m&&m.u(),b&&b.u(),a(p),x&&x.u(),a(_)},d:function(){m&&m.d(),b&&b.d(),x&&x.d()}}),this.root._oncreate.push(function(){(function(){var t=this;this.observe("custom",function(e){e&&0===e.length&&(e={}),t.set({custom:e})})}).call(y),y.fire("update",{changed:{$vis:1,customizable:1,axis:1,custom:1,palette:1,$theme:1,value:1,selected:1,label:1,hexColor:1,open:1,expanded:1,colorKeys:1,customColor:1,openCustom:1},current:y._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,w(this._beforecreate),w(this._oncreate),w(this._aftercreate),this._lock=!1)}function ot(t,n){var c,s,r,d,f;return{c:function(){c=u("div"),s=h("For help on custom formats, check the "),r=u("noscript"),d=u("noscript"),f=h("."),this.h()},h:function(){c.className="small svelte-h47p2z"},m:function(t,e){i(c,t,e),o(s,c),o(r,c),r.insertAdjacentHTML("afterend",n.customFormatHelp),o(d,c),o(f,c)},p:function(t,e){t.customFormatHelp&&(l(r,d),r.insertAdjacentHTML("afterend",e.customFormatHelp))},u:function(){l(r,d),a(c)},d:e}}function it(t,n){var l,c,s,r=n.opt,d=(n.each_value,n.opt_index,r.l);return{c:function(){l=u("option"),c=h(d),this.h()},h:function(){l.__value=s=r.f,l.value=l.__value},m:function(t,e){i(l,t,e),o(c,l)},p:function(t,e){r=e.opt,e.each_value,e.opt_index,t.options&&d!==(d=r.l)&&(c.data=d),t.options&&s!==(s=r.f)&&(l.__value=s),l.value=l.__value},u:function(){a(l)},d:e}}function at(t,e){var n,o=!1;function l(){o=!0,t.set({custom:n.value}),o=!1}return{c:function(){n=u("input"),this.h()},h:function(){f(n,"input",l),p(n,"type","text"),n.className="svelte-h47p2z"},m:function(t,o){i(n,t,o),n.value=e.custom},p:function(t,e){o||(n.value=e.custom)},u:function(){a(n)},d:function(){v(n,"input",l)}}}function lt(t){C(this,t),this._state=n(n(this.store._init(["vis","dataset"]),{axis:!1,value:"",custom:"",selected:null}),t.data),this.store._add(this,["vis","dataset"]),this._recompute({$vis:1,$dataset:1,axis:1,axisCol:1},this._state),this._handlers.destroy=[M];var e=this;t.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(t,e){for(var l,c,s,d,p,_,m,g,y,k=!1,N="custom"==e.selected&&ot(0,e),C=e.options,w=[],M=0;M<C.length;M+=1)w[M]=it(0,n(n({},e),{each_value:C,opt:C[M],opt_index:M}));function T(){k=!0,t.set({selected:x(_)}),k=!1}var H="custom"==e.selected&&at(t,e);return{c:function(){l=u("div"),c=u("label"),s=h("\n\n    "),d=u("div"),N&&N.c(),p=h("\n\n        "),_=u("select");for(var t=0;t<w.length;t+=1)w[t].c();m=u("option"),g=h("(custom)"),y=h("\n        "),H&&H.c(),this.h()},h:function(){c.className="control-label svelte-h47p2z",m.__value="custom",m.value=m.__value,f(_,"change",T),"selected"in e||t.root._beforecreate.push(T),_.className="svelte-h47p2z",d.className="controls form-inline",l.className="control-group vis-option-custom-format"},m:function(t,n){i(l,t,n),o(c,l),c.innerHTML=e.label,o(s,l),o(d,l),N&&N.m(d,null),o(p,d),o(_,d);for(var a=0;a<w.length;a+=1)w[a].m(_,null);o(m,_),o(g,m),b(_,e.selected),o(y,d),H&&H.m(d,null)},p:function(e,o){e.label&&(c.innerHTML=o.label),"custom"==o.selected?N?N.p(e,o):((N=ot(0,o)).c(),N.m(d,p)):N&&(N.u(),N.d(),N=null);var i=o.options;if(e.options){for(var a=0;a<i.length;a+=1){var l=n(n({},o),{each_value:i,opt:i[a],opt_index:a});w[a]?w[a].p(e,l):(w[a]=it(0,l),w[a].c(),w[a].m(_,m))}for(;a<w.length;a+=1)w[a].u(),w[a].d();w.length=i.length}k||b(_,o.selected),"custom"==o.selected?H?H.p(e,o):((H=at(t,o)).c(),H.m(d,null)):H&&(H.u(),H.d(),H=null)},u:function(){c.innerHTML="",a(l),N&&N.u();for(var t=0;t<w.length;t+=1)w[t].u();H&&H.u()},d:function(){N&&N.d(),r(w),v(_,"change",T),H&&H.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this;this.observe("selected",function(e,n){if(e!=n){var o=t.get().custom;t.set({value:"custom"!=e?e:o+" "})}}),this.observe("value",function(e,n){if(e!=n){for(var o=0,i=t.get().options;o<i.length;o+=1)if(i[o].f==e)return t.set({selected:e});t.set({selected:"custom",custom:e})}}),this.observe("custom",function(e,n){e!=n&&"custom"==t.get().selected&&t.set({value:e})})}).call(e),e.fire("update",{changed:{axisCol:1,$vis:1,$dataset:1,axis:1,label:1,selected:1,customFormatHelp:1,options:1,custom:1},current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._beforecreate),w(this._oncreate))}function ct(t){C(this,t),this._state=n({unit:"",width:"100px"},t.data),this._fragment=function(t,e){var n,l,c,s,r,d,_,b,x,y,k=!1;function N(){t.set({value:m(r.value)})}function C(){t.set({value:m(r.value)})}function w(){k=!0,t.set({value:m(_.value)}),k=!1}return{c:function(){n=u("div"),l=u("label"),c=h("\n    "),s=u("div"),r=u("input"),d=h("Â Â "),_=u("input"),b=h(" "),x=u("span"),y=h(e.unit),this.h()},h:function(){g(l,"width",e.width),l.className="control-label",f(r,"input",N),f(r,"change",C),p(r,"type","range"),r.min=e.min,r.max=e.max,r.step=e.step,r.className="svelte-l16hlj",f(_,"input",w),p(_,"type","number"),_.min=e.min,_.max=e.max,_.step=e.step,_.className="svelte-l16hlj",x.className="unit svelte-l16hlj",s.className="controls",n.className="control-group vis-option-group vis-option-type-number"},m:function(t,a){i(n,t,a),o(l,n),l.innerHTML=e.label,o(c,n),o(s,n),o(r,s),r.value=e.value,o(d,s),o(_,s),_.value=e.value,o(b,s),o(x,s),o(y,x)},p:function(t,e){t.label&&(l.innerHTML=e.label),t.width&&g(l,"width",e.width),r.value=e.value,r.value=e.value,t.min&&(r.min=e.min),t.max&&(r.max=e.max),t.step&&(r.step=e.step),k||(_.value=e.value),t.min&&(_.min=e.min),t.max&&(_.max=e.max),t.step&&(_.step=e.step),t.unit&&(y.data=e.unit)},u:function(){l.innerHTML="",a(n)},d:function(){v(r,"input",N),v(r,"change",C),v(_,"input",w)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function st(t,e){var n,l,c,s,r,d,_=e.opt,m=(e.each_value,e.opt_index,_.label);function g(){t.set({value:l.__value})}return{c:function(){n=u("label"),l=u("input"),s=h("Â "),r=h(m),this.h()},h:function(){t._bindingGroups[0].push(l),f(l,"change",g),p(l,"type","radio"),l.__value=c=_.value,l.value=l.__value,l.disabled=e.disabled,l.className="svelte-a6km24",n.className=d="radio "+(e.disabled?"disabled":"")+" svelte-a6km24"},m:function(t,a){i(n,t,a),o(l,n),l.checked=l.__value===e.value,o(s,n),o(r,n)},p:function(t,e){_=e.opt,e.each_value,e.opt_index,l.checked=l.__value===e.value,t.options&&c!==(c=_.value)&&(l.__value=c),l.value=l.__value,t.disabled&&(l.disabled=e.disabled),t.options&&m!==(m=_.label)&&(r.data=m),t.disabled&&d!==(d="radio "+(e.disabled?"disabled":"")+" svelte-a6km24")&&(n.className=d)},u:function(){a(n)},d:function(){t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(l),1),v(l,"change",g)}}}function rt(t){C(this,t),this._state=n({disabled:!1},t.data),this._bindingGroups=[[]],this._fragment=function(t,e){for(var l,c,s,d,f=e.options,v=[],p=0;p<f.length;p+=1)v[p]=st(t,n(n({},e),{each_value:f,opt:f[p],opt_index:p}));return{c:function(){l=u("div"),c=u("label"),s=h("\n\n    "),d=u("div");for(var t=0;t<v.length;t+=1)v[t].c();this.h()},h:function(){c.className="control-label",d.className="controls form-inline",l.className="control-group vis-option-group vis-option-type-radio"},m:function(t,n){i(l,t,n),o(c,l),c.innerHTML=e.label,o(s,l),o(d,l);for(var a=0;a<v.length;a+=1)v[a].m(d,null)},p:function(e,o){e.label&&(c.innerHTML=o.label);var i=o.options;if(e.disabled||e.options||e.value){for(var a=0;a<i.length;a+=1){var l=n(n({},o),{each_value:i,opt:i[a],opt_index:a});v[a]?v[a].p(e,l):(v[a]=st(t,l),v[a].c(),v[a].m(d,null))}for(;a<v.length;a+=1)v[a].u(),v[a].d();v.length=i.length}},u:function(){c.innerHTML="",a(l);for(var t=0;t<v.length;t+=1)v[t].u()},d:function(){r(v)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function ut(t,n){var l,c,s,r=n.opt,d=(n.each_value,n.opt_index,r.label);return{c:function(){l=u("option"),c=h(d),this.h()},h:function(){l.__value=s=r.value,l.value=l.__value},m:function(t,e){i(l,t,e),o(c,l)},p:function(t,e){r=e.opt,e.each_value,e.opt_index,t.options&&d!==(d=r.label)&&(c.data=d),t.options&&s!==(s=r.value)&&(l.__value=s),l.value=l.__value},u:function(){a(l)},d:e}}function ht(t,e){for(var o,l=e.options,c=[],s=0;s<l.length;s+=1)c[s]=ut(0,n(n({},e),{each_value:l,opt:l[s],opt_index:s}));return{c:function(){for(var t=0;t<c.length;t+=1)c[t].c();o=d()},m:function(t,e){for(var n=0;n<c.length;n+=1)c[n].m(t,e);i(o,t,e)},p:function(t,e){var i=e.options;if(t.options){for(var a=0;a<i.length;a+=1){var l=n(n({},e),{each_value:i,opt:i[a],opt_index:a});c[a]?c[a].p(t,l):(c[a]=ut(0,l),c[a].c(),c[a].m(o.parentNode,o))}for(;a<c.length;a+=1)c[a].u(),c[a].d();c.length=i.length}},u:function(){for(var t=0;t<c.length;t+=1)c[t].u();a(o)},d:function(){r(c)}}}function dt(t,e){for(var o,l,c=e.optgroup,s=(e.each_value_1,e.optgroup_index,c.options),h=[],d=0;d<s.length;d+=1)h[d]=ft(t,n(n({},e),{each_value_2:s,opt:s[d],opt_index_1:d}));return{c:function(){o=u("optgroup");for(var t=0;t<h.length;t+=1)h[t].c();this.h()},h:function(){p(o,"label",l=c.label)},m:function(t,e){i(o,t,e);for(var n=0;n<h.length;n+=1)h[n].m(o,null)},p:function(e,i){c=i.optgroup,i.each_value_1,i.optgroup_index;var a=c.options;if(e.optgroups){for(var s=0;s<a.length;s+=1){var r=n(n({},i),{each_value_2:a,opt:a[s],opt_index_1:s});h[s]?h[s].p(e,r):(h[s]=ft(t,r),h[s].c(),h[s].m(o,null))}for(;s<h.length;s+=1)h[s].u(),h[s].d();h.length=a.length}e.optgroups&&l!==(l=c.label)&&p(o,"label",l)},u:function(){a(o);for(var t=0;t<h.length;t+=1)h[t].u()},d:function(){r(h)}}}function ft(t,n){n.optgroup,n.each_value_1,n.optgroup_index;var l,c,s,r=n.opt,d=(n.each_value_2,n.opt_index_1,r.label);return{c:function(){l=u("option"),c=h(d),this.h()},h:function(){l.__value=s=r.value,l.value=l.__value},m:function(t,e){i(l,t,e),o(c,l)},p:function(t,e){e.optgroup,e.each_value_1,e.optgroup_index,r=e.opt,e.each_value_2,e.opt_index_1,t.optgroups&&d!==(d=r.label)&&(c.data=d),t.optgroups&&s!==(s=r.value)&&(l.__value=s),l.value=l.__value},u:function(){a(l)},d:e}}function vt(t,e){for(var o,l=e.optgroups,c=[],s=0;s<l.length;s+=1)c[s]=dt(t,n(n({},e),{each_value_1:l,optgroup:l[s],optgroup_index:s}));return{c:function(){for(var t=0;t<c.length;t+=1)c[t].c();o=d()},m:function(t,e){for(var n=0;n<c.length;n+=1)c[n].m(t,e);i(o,t,e)},p:function(e,i){var a=i.optgroups;if(e.optgroups){for(var l=0;l<a.length;l+=1){var s=n(n({},i),{each_value_1:a,optgroup:a[l],optgroup_index:l});c[l]?c[l].p(e,s):(c[l]=dt(t,s),c[l].c(),c[l].m(o.parentNode,o))}for(;l<c.length;l+=1)c[l].u(),c[l].d();c.length=a.length}},u:function(){for(var t=0;t<c.length;t+=1)c[t].u();a(o)},d:function(){r(c)}}}function pt(t){C(this,t),this._state=n({disabled:!1,width:"auto",options:[],optgroups:[]},t.data),t.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(t,e){var n,l,c,s,r,p,_,m=!1,y=e.options.length&&ht(0,e),k=e.optgroups.length&&vt(t,e);function N(){m=!0,t.set({value:x(r)}),m=!1}return{c:function(){n=u("div"),l=u("label"),c=h("\n\n    "),s=u("div"),r=u("select"),y&&y.c(),p=d(),k&&k.c(),this.h()},h:function(){l.className="control-label",f(r,"change",N),"value"in e||t.root._beforecreate.push(N),r.disabled=e.disabled,g(r,"width",e.width),s.className=_="controls form-inline "+(e.disabled?"disabled":""),n.className="control-group vis-option-type-select"},m:function(t,a){i(n,t,a),o(l,n),l.innerHTML=e.label,o(c,n),o(s,n),o(r,s),y&&y.m(r,null),o(p,r),k&&k.m(r,null),b(r,e.value)},p:function(e,n){e.label&&(l.innerHTML=n.label),n.options.length?y?y.p(e,n):((y=ht(0,n)).c(),y.m(r,p)):y&&(y.u(),y.d(),y=null),n.optgroups.length?k?k.p(e,n):((k=vt(t,n)).c(),k.m(r,null)):k&&(k.u(),k.d(),k=null),m||b(r,n.value),e.disabled&&(r.disabled=n.disabled),e.width&&g(r,"width",n.width),e.disabled&&_!==(_="controls form-inline "+(n.disabled?"disabled":""))&&(s.className=_)},u:function(){l.innerHTML="",a(n),y&&y.u(),k&&k.u()},d:function(){y&&y.d(),k&&k.d(),v(r,"change",N)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._beforecreate))}function _t(t){var e=t-1;return e*e*e+1}function mt(t,e){var n=e.delay;void 0===n&&(n=0);var o=e.duration;void 0===o&&(o=400);var i=e.easing;void 0===i&&(i=_t);var a=getComputedStyle(t),l=+a.opacity,c=parseFloat(a.height),s=parseFloat(a.paddingTop),r=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),h=parseFloat(a.marginBottom),d=parseFloat(a.borderTopWidth),f=parseFloat(a.borderBottomWidth);return{delay:n,duration:o,easing:i,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*l+";height: "+t*c+"px;padding-top: "+t*s+"px;padding-bottom: "+t*r+"px;margin-top: "+t*u+"px;margin-bottom: "+t*h+"px;border-top-width: "+t*d+"px;border-bottom-width: "+t*f+"px;"}}}function gt(t){var e=this,n=t.changed,o=t.current;n.value&&o.value&&(this.set({highlight:!0}),setTimeout(function(){e.set({highlight:!1})},300))}function bt(t,n){var l,c,r,h,d,f=t._slotted.default;return{c:function(){l=u("div"),c=u("div"),this.h()},h:function(){c.className="switch-content svelte-ngvdut"},m:function(t,e){i(l,t,e),o(c,l),f&&o(f,c)},i:function(e,n){h||(h=!0,d=!1,t.root._aftercreate.push(function(){r||(r=function(t,e,n,o,i,a){var l,c=n(e,o),s=c.duration||300,r=c.easing||y;if(c.css&&!k.stylesheet){var h=u("style");document.head.appendChild(h),k.stylesheet=h.sheet}return i&&(c.css&&c.delay&&(l=e.style.cssText,e.style.cssText+=c.css(0)),c.tick&&c.tick(0)),{t:i?0:1,running:!1,program:null,pending:null,run:function(t,e){var n={start:window.performance.now()+(c.delay||0),intro:t,callback:e};c.delay?this.pending=n:this.start(n),this.running||(this.running=!0,k.add(this))},start:function(n){t.fire(n.intro?"intro.start":"outro.start",{node:e}),n.a=this.t,n.b=n.intro?1:0,n.delta=n.b-n.a,n.duration=s*Math.abs(n.b-n.a),n.end=n.start+n.duration,c.css&&(c.delay&&(e.style.cssText=l),n.rule=function(t,e,n,o,i,a){for(var l="{\n",c=0;c<=1;c+=16.666/o)l+=100*c+"%{"+a(t+n*i(c))+"}\n";return l+"100% {"+a(e)+"}\n}"}(n.a,n.b,n.delta,n.duration,r,c.css),k.addRule(n.rule,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(n.rule)),e.style.animation=(e.style.animation||"").split(", ").filter(function(t){return t&&(n.delta<0||!/__svelte/.test(t))}).concat(n.name+" "+n.duration+"ms linear 1 forwards").join(", ")),this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*r(n/e.duration),c.tick&&c.tick(this.t)}},done:function(){var t=this.program;this.t=t.b,c.tick&&c.tick(this.t),c.css&&k.deleteRule(e,t.name),t.callback(),t=null,this.running=!!this.pending},abort:function(){c.tick&&c.tick(1),c.css&&k.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1}}}(t,l,mt,{},!0)),r.run(!0,function(){t.fire("intro.end",{node:l})})}),this.m(e,n))},o:function(e){if(!d){d=!0,h=!1;var n=1;r.run(!1,function(){t.fire("outro.end",{node:l}),0==--n&&e(),r=null})}},u:function(){a(l),f&&s(c,f)},d:e}}function xt(t){C(this,t),this._state=n({disabled:!1,highlight:!1},t.data),this._handlers.state=[gt],this._slotted=t.slots||{};var e=this;t.root||(this._oncreate=[],this._aftercreate=[]),this.slots={},this._fragment=function(t,e){var n,l,c,s,r,d,_,m,b,x;function y(){t.set({value:s.checked})}var k=e.value&&bt(t);return{c:function(){n=u("div"),l=u("label"),c=u("label"),s=u("input"),r=u("span"),d=h("\n        "),_=h(e.label),b=h("\n    "),k&&k.c(),this.h()},h:function(){f(s,"change",y),s.disabled=e.disabled,p(s,"type","checkbox"),s.className="svelte-ngvdut",r.className="slider round svelte-ngvdut",c.className="switch svelte-ngvdut",l.className=m="switch-outer "+(e.disabled?"disabled":"")+" svelte-ngvdut",g(l,"padding-left","40px"),n.className=x="control-group vis-option-group vis-option-type-switch "+(e.highlight?"highlight":"")+" svelte-ngvdut"},m:function(t,a){i(n,t,a),o(l,n),o(c,l),o(s,c),s.checked=e.value,o(r,c),o(d,l),o(_,l),o(b,n),k&&k.i(n,null)},p:function(e,o){s.checked=o.value,e.disabled&&(s.disabled=o.disabled),e.label&&(_.data=o.label),e.disabled&&m!==(m="switch-outer "+(o.disabled?"disabled":"")+" svelte-ngvdut")&&(l.className=m),o.value?(k||(k=bt(t)).c(),k.i(n,null)):k&&k.o(function(){k.u(),k.d(),k=null}),e.highlight&&x!==(x="control-group vis-option-group vis-option-type-switch "+(o.highlight?"highlight":"")+" svelte-ngvdut")&&(n.className=x)},u:function(){a(n),k&&k.u()},d:function(){v(s,"change",y),k&&k.d()}}}(this,this._state),this.root._oncreate.push(function(){var t={highlight:1,disabled:1,value:1,label:1};gt.call(e,{changed:t,current:e._state}),e.fire("update",{changed:t,current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._oncreate),w(this._aftercreate))}function yt(t){C(this,t),this._state=n({placeholder:""},t.data),this._fragment=function(t,e){var n,l,c,s,r,d,p=!1;function _(){p=!0,t.set({value:d.value}),p=!1}return{c:function(){n=u("div"),l=u("label"),c=h(e.label),s=h("\n    "),r=u("div"),d=u("textarea"),this.h()},h:function(){l.className="control-label",f(d,"input",_),d.placeholder=e.placeholder,g(d,"width",e.width||"auto"),r.className="controls",n.className="control-group vis-option-group vis-option-type-textarea"},m:function(t,a){i(n,t,a),o(l,n),o(c,l),o(s,n),o(r,n),o(d,r),d.value=e.value},p:function(t,e){t.label&&(c.data=e.label),p||(d.value=e.value),t.placeholder&&(d.placeholder=e.placeholder),t.width&&g(d,"width",e.width||"auto")},u:function(){a(n)},d:function(){v(d,"input",_)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function kt(t,n){var l,c,s=n.axis["na-label"]||"--";return{c:function(){l=u("option"),c=h(s),this.h()},h:function(){l.__value="-",l.value=l.__value},m:function(t,e){i(l,t,e),o(c,l)},p:function(t,e){t.axis&&s!==(s=e.axis["na-label"]||"--")&&(c.data=s)},u:function(){a(l)},d:e}}function Nt(t,n){var l,c,s,r=n.column,d=(n.each_value,n.column_index,r.name);return{c:function(){l=u("option"),c=h(d),this.h()},h:function(){l.__value=s=r.name,l.value=l.__value},m:function(t,e){i(l,t,e),o(c,l)},p:function(t,e){r=e.column,e.each_value,e.column_index,t.columns&&d!==(d=r.name)&&(c.data=d),t.columns&&s!==(s=r.name)&&(l.__value=s),l.value=l.__value},u:function(){a(l)},d:e}}function Ct(t){C(this,t),this._state=n(n(this.store._init(["visMeta","dataset"]),{selected:!1}),t.data),this.store._add(this,["visMeta","dataset"]),this._recompute({axis:1,$visMeta:1,$dataset:1},this._state),this._handlers.destroy=[M];var e=this;t.root||(this._oncreate=[],this._beforecreate=[]),this._fragment=function(t,e){for(var l,c,s,p,_,m,g=!1,y=e.$visMeta&&e.$visMeta.axes[e.axis].optional&&kt(0,e),k=e.columns,N=[],C=0;C<k.length;C+=1)N[C]=Nt(0,n(n({},e),{each_value:k,column:k[C],column_index:C}));function w(){g=!0,t.set({selected:x(_)}),g=!1}return{c:function(){l=u("div"),c=u("label"),s=h("\n\n    "),p=u("div"),_=u("select"),y&&y.c(),m=d();for(var t=0;t<N.length;t+=1)N[t].c();this.h()},h:function(){c.className="control-label svelte-7khi8i",f(_,"change",w),"selected"in e||t.root._beforecreate.push(w),_.className="svelte-7khi8i",p.className="controls form-inline",l.className="control-group vis-option-group"},m:function(t,n){i(l,t,n),o(c,l),c.innerHTML=e.label,o(s,l),o(p,l),o(_,p),y&&y.m(_,null),o(m,_);for(var a=0;a<N.length;a+=1)N[a].m(_,null);b(_,e.selected)},p:function(t,e){t.label&&(c.innerHTML=e.label),e.$visMeta&&e.$visMeta.axes[e.axis].optional?y?y.p(t,e):((y=kt(0,e)).c(),y.m(_,m)):y&&(y.u(),y.d(),y=null);var o=e.columns;if(t.columns){for(var i=0;i<o.length;i+=1){var a=n(n({},e),{each_value:o,column:o[i],column_index:i});N[i]?N[i].p(t,a):(N[i]=Nt(0,a),N[i].c(),N[i].m(_,null))}for(;i<N.length;i+=1)N[i].u(),N[i].d();N.length=o.length}g||b(_,e.selected)},u:function(){c.innerHTML="",a(l),y&&y.u();for(var t=0;t<N.length;t+=1)N[t].u()},d:function(){y&&y.d(),r(N),v(_,"change",w)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this;t.observe("selected",function(e){if(e){var n=t.get().axis,o=_.clone(window.chart.get("metadata.axes",{}));"-"==e?delete o[n]:o[n]=e,window.chart.set("metadata.axes",o)}}),t.store.observe("visMeta",function(e){var n=t.get(),o=n.selected,i=n.axis;!o&&e&&(o=window.chart.get("metadata.axes")[i],t.set({selected:o}))})}).call(e),e.fire("update",{changed:{axis:1,$visMeta:1,$dataset:1,label:1,selected:1,columns:1},current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._beforecreate),w(this._oncreate))}function wt(t,n){var l,c,r,h,d=t._slotted.default;return{c:function(){l=u("div"),c=u("fieldset"),r=u("div"),this.h()},h:function(){r.className="control-group vis-option-group",c.id="visOptions",l.className=h="section "+n.id},m:function(t,e){i(l,t,e),o(c,l),o(r,c),d&&o(d,r)},p:function(t,e){t.id&&h!==(h="section "+e.id)&&(l.className=h)},u:function(){a(l),d&&s(r,d)},d:e}}function Mt(t){var e,o,l,c;C(this,t),this._state=n({},t.data),this._slotted=t.slots||{},this.slots={},this._fragment=(e=this,o=this._state,c=o.id==o.active&&wt(e,o),{c:function(){c&&c.c(),l=d()},m:function(t,e){c&&c.m(t,e),i(l,t,e)},p:function(t,n){n.id==n.active?c?c.p(t,n):((c=wt(e,n)).c(),c.m(l.parentNode,l)):c&&(c.u(),c.d(),c=null)},u:function(){c&&c.u(),a(l)},d:function(){c&&c.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}n(nt.prototype,H),n(nt.prototype,P),nt.prototype._recompute=function(e,n){e.$theme&&this._differs(n.palette,n.palette=n.$theme.colors.palette)&&(e.palette=!0),(e.$vis||e.customizable||e.axis||e.custom||e.palette)&&this._differs(n.colorKeys,n.colorKeys=G(n))&&(e.colorKeys=!0),(e.value||e.palette)&&this._differs(n.hexColor,n.hexColor=function(t){return J(t.value,t.palette)}(n))&&(e.hexColor=!0),(e.selected||e.palette||e.custom)&&this._differs(n.customColor,n.customColor=function(e){var n=e.selected,o=e.palette,i=e.custom;if(void 0===i[n[0]])return"#ccc";var a=n.filter(function(t){return void 0!==i[t]}).map(function(t){return J(i[t],o)});return a.length?t.average(a,"lab"):"#ccc"}(n))&&(e.customColor=!0)},n(lt.prototype,H),lt.prototype._recompute=function(t,e){(t.$vis||t.$dataset||t.axis)&&this._differs(e.axisCol,e.axisCol=function(t){var e=t.$vis,n=t.$dataset,o=t.axis;if(!e||!o)return null;var i=e.axes()[o];return n.column("object"==typeof i?i[0]:i)}(e))&&(t.axisCol=!0),t.axisCol&&(this._differs(e.customFormatHelp,e.customFormatHelp=function(t){var e=t.axisCol;if(e)return"date"==e.type()?'<a href="http://momentjs.com/docs/#/displaying/format/" target="_blank">moment.js documentation</a>':"number"==e.type()?'<a href="http://numeraljs.com/#format" target="_blank">numeral.js documentation</a>':""}(e))&&(t.customFormatHelp=!0),this._differs(e.options,e.options=function(t){var e=t.axisCol;return e?"number"==e.type()?[{l:"1,000[.00]",f:"0,0.[00]"},{l:"0",f:"0"},{l:"0.0",f:"0.0"},{l:"0.00",f:"0.00"},{l:"0.000",f:"0.000"},{l:"0.[0]",f:"0.[0]"},{l:"0.[00]",f:"0.[00]"},{l:"0%",f:"0%"},{l:"0.0%",f:"0.0%"},{l:"0.00%",f:"0.00%"},{l:"0.[0]%",f:"0.[0]%"},{l:"0.[00]%",f:"0.[00]%"},{l:"10,000",f:"0,0"},{l:"1st",f:"0o"},{l:"123k",f:"0a"},{l:"123.4k",f:"0.[0]a"},{l:"123.45k",f:"0.[00]a"}]:"date"==e.type()?[{l:"2015, 2016",f:"YYYY"},{l:"2015 Q1, 2015 Q2",f:"YYYY [Q]Q"},{l:"2015, Q2, Q3",f:"YYYY|\\QQ"},{l:"2015, Feb, Mar",f:"YYYY|MMM"},{l:"â15, â16",f:"âYY"},{l:"April, May",f:"MMMM"},{l:"Apr, May",f:"MMM"},{l:"Apr â15, May â15",f:"MMM âYY"},{l:"April, 2, 3",f:"MMM|DD"}]:void 0:[]}(e))&&(t.options=!0))},n(ct.prototype,H),n(rt.prototype,H),n(pt.prototype,H),n(xt.prototype,H),n(yt.prototype,H),n(Ct.prototype,H),Ct.prototype._recompute=function(t,e){(t.axis||t.$visMeta||t.$dataset)&&this._differs(e.columns,e.columns=function(t){var e=t.axis,n=t.$visMeta,o=t.$dataset,i=[];return o&&n&&e?(o.eachColumn(function(t){_.indexOf(n.axes[e].accepts,t.type())>-1&&i.push({name:t.name()})}),i):[]}(e))&&(t.columns=!0)},n(Mt.prototype,H);var Tt={toggle:function(){var t=this.get(),e=t.open,n=t.id;if(n){var o=JSON.parse(window.localStorage.getItem("dw-vis-groups"))||{};o["locator-map"]||(o["locator-map"]={}),o["locator-map"][n]="open"==o["locator-map"][n]?"closed":"open",window.localStorage.setItem("dw-vis-groups",JSON.stringify(o))}this.set({open:!e})}};function Ht(t,n){var l,c=t._slotted.default;return{c:function(){l=u("div"),this.h()},h:function(){l.className="option-group-content vis-option-type-chart-description"},m:function(t,e){i(l,t,e),c&&o(c,l)},u:function(){a(l),c&&s(l,c)},d:e}}function Lt(t){C(this,t),this._state=n({id:!1,open:!0},t.data),this._slotted=t.slots||{};var e=this;t.root||(this._oncreate=[]),this.slots={},this._fragment=function(t,e){var n,l,s,r,d,p,_,m,g;function b(e){t.toggle()}var x=e.open&&Ht(t);return{c:function(){n=u("div"),l=u("label"),s=u("i"),r=h("\n        "),d=u("i"),p=h("\n        "),_=u("noscript"),m=h("\n\n    "),x&&x.c(),this.h()},h:function(){s.className="fa fa-chevron-up expand-group pull-right",d.className="fa fa-chevron-down collapse-group pull-right",f(l,"click",b),l.className="group-title",n.className=g="vis-option-type-group "+(e.open?"group-open":"")},m:function(t,a){i(n,t,a),o(l,n),o(s,l),o(r,l),o(d,l),o(p,l),o(_,l),_.insertAdjacentHTML("afterend",e.label),o(m,n),x&&x.m(n,null)},p:function(e,o){e.label&&(c(_),_.insertAdjacentHTML("afterend",o.label)),o.open?x||((x=Ht(t)).c(),x.m(n,null)):x&&(x.u(),x.d(),x=null),e.open&&g!==(g="vis-option-type-group "+(o.open?"group-open":""))&&(n.className=g)},u:function(){c(_),a(n),x&&x.u()},d:function(){v(l,"click",b),x&&x.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){var t=this.get().id;if(t){var e=JSON.parse(window.localStorage.getItem("dw-vis-groups"))||{};e["locator-map"]&&e["locator-map"][t]&&this.set({open:"closed"!=e["locator-map"][t]})}}).call(e),e.fire("update",{changed:{open:1,label:1},current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),w(this._oncreate))}return n(Lt.prototype,H),n(Lt.prototype,Tt),{Checkbox:L,Color:nt,ColorPicker:q,Group:Lt,NumberInput:ct,Switch:xt,Radio:rt,Select:pt,SelectAxisColumn:Ct,CustomFormat:lt,Section:Mt,TextArea:yt}});
